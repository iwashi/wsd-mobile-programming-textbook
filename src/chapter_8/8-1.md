# キーと値のペアでデータを管理

前章では、リストを使って複数のデータをまとめて管理する方法を学びました。リストは順番に並んだデータを扱うのに便利でしたが、今回はもう一つの重要なデータ構造「マップ（Map）」について学びます。

## リストの制限

リストは素晴らしいツールですが、ある種の問題には向いていません。例えば、生徒の名前と点数を管理したいとき、リストだけでは次のような問題があります：

```dart
void main() {
  List<String> names = ['田中', '鈴木', '佐藤', '山田'];
  List<int> scores = [85, 92, 78, 90];
  
  // 田中さんの点数を知りたい場合、namesリストで位置を探してから、
  // scoresリストの同じ位置を参照する必要がある
  int index = names.indexOf('田中');
  print('田中さんの点数: ${scores[index]}');
}
```

このアプローチには問題があります：
- 2つのリストを常に同期させる必要がある
- 名前から点数を見つけるのに手間がかかる
- データの関係性が分かりにくい

## マップとは

マップ（連想配列とも呼ばれます）は、「キー」と「値」のペアでデータを管理するデータ構造です。キーを使って直接値にアクセスできるため、関連するデータを効率的に管理できます。

マップのイメージ：
```
scores = {
  '田中': 85,
  '鈴木': 92,
  '佐藤': 78,
  '山田': 90
}
```

ここで：
- **キー**：データを識別するための名前（例：'田中'）
- **値**：キーに関連付けられたデータ（例：85）

## 実生活でのマップの例

マップは日常生活でもよく見かける概念です：

1. **電話帳**
   - キー：人の名前
   - 値：電話番号

2. **辞書**
   - キー：単語
   - 値：意味

3. **商品カタログ**
   - キー：商品コード
   - 値：価格

4. **学生証**
   - キー：学籍番号
   - 値：学生の情報

## マップの特徴

1. **キーは一意**：同じキーは1つしか存在できません
2. **高速アクセス**：キーを使って直接値にアクセスできます
3. **順序の保持**：Dartのデフォルトのマップ（LinkedHashMap）は、要素が追加された順序を保持します
4. **異なる型の組み合わせ**：キーと値は異なる型にできます

## リストとマップの使い分け

### リストを使う場合
- データに順序が重要な場合
- インデックス（番号）でアクセスしたい場合
- 同じ値が複数存在してもよい場合

### マップを使う場合
- 特定の名前やIDでデータにアクセスしたい場合
- データ間の関連性を表現したい場合
- 検索を高速に行いたい場合

## 簡単な例

```dart
void main() {
  // 果物の価格を管理するマップ
  Map<String, int> fruitPrices = {
    'りんご': 150,
    'バナナ': 100,
    'オレンジ': 120
  };
  
  // キーを使って直接価格にアクセス
  print('りんごの価格: ${fruitPrices['りんご']}円');
  print('バナナの価格: ${fruitPrices['バナナ']}円');
}
```

## まとめ

マップは、キーと値のペアでデータを管理する強力なデータ構造です。名前やIDなど、意味のあるキーを使ってデータに直接アクセスできるため、関連するデータを効率的に管理できます。次のセクションでは、実際にマップを作成し、操作する方法を詳しく学びましょう。
