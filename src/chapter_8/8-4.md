# 実践：簡単な辞書プログラム

これまで学んだマップの知識を活用して、英和辞書プログラムを作ってみましょう。このプログラムでは、英単語を入力すると日本語の意味を表示し、新しい単語を追加したり、既存の単語を編集したりできます。

## プログラムの設計

作成する辞書プログラムの機能：
1. 単語の検索
2. 新しい単語の追加
3. 既存の単語の編集
4. 単語の削除
5. すべての単語の一覧表示

## 基本的な辞書プログラム

```javascript
void main() {
  // 英和辞書のデータ
  Map<String, String> dictionary = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬',
    'eat': '食べる',
    'friend': '友達',
    'good': '良い',
    'hello': 'こんにちは',
    'ice': '氷',
    'jump': 'ジャンプする'
  };
  
  print('=== 簡単な英和辞書 ===');
  print('使い方: 英単語を入力すると日本語の意味を表示します\n');
  
  // 単語を検索する関数
  void searchWord(String word) {
    String lowerWord = word.toLowerCase(); // 小文字に変換
    
    if (dictionary.containsKey(lowerWord)) {
      print('「$word」の意味: ${dictionary[lowerWord]}');
    } else {
      print('「$word」は辞書に登録されていません');
    }
  }
  
  // 検索の実行例
  searchWord('apple');
  searchWord('book');
  searchWord('computer'); // 登録されていない単語
}
```

## 機能を追加した辞書プログラム

```javascript
void main() {
  // 英和辞書のデータ
  Map<String, String> dictionary = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬',
    'eat': '食べる'
  };
  
  // 1. 単語を検索する関数
  void searchWord(String word) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      print('\n✓ 「$word」の意味: ${dictionary[lowerWord]}');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
      print('  ヒント: 新しい単語として追加することができます');
    }
  }
  
  // 2. 新しい単語を追加する関数
  void addWord(String word, String meaning) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      print('\n⚠️ 「$word」は既に登録されています');
      print('  現在の意味: ${dictionary[lowerWord]}');
    } else {
      dictionary[lowerWord] = meaning;
      print('\n✓ 新しい単語を追加しました');
      print('  $word: $meaning');
    }
  }
  
  // 3. 単語を編集する関数
  void editWord(String word, String newMeaning) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      String oldMeaning = dictionary[lowerWord]!;
      dictionary[lowerWord] = newMeaning;
      print('\n✓ 単語の意味を更新しました');
      print('  $word: $oldMeaning → $newMeaning');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
    }
  }
  
  // 4. 単語を削除する関数
  void deleteWord(String word) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      String meaning = dictionary[lowerWord]!;
      dictionary.remove(lowerWord);
      print('\n✓ 単語を削除しました');
      print('  削除した単語: $word ($meaning)');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
    }
  }
  
  // 5. すべての単語を表示する関数
  void showAllWords() {
    print('\n=== 辞書に登録されている単語一覧 ===');
    print('登録数: ${dictionary.length}個\n');
    
    // アルファベット順に表示
    List<String> sortedKeys = dictionary.keys.toList()..sort();
    
    for (String word in sortedKeys) {
      print('$word: ${dictionary[word]}');
    }
  }
  
  // プログラムの実行例
  print('=== 英和辞書プログラム ===\n');
  
  // 単語を検索
  searchWord('apple');
  searchWord('computer');
  
  // 新しい単語を追加
  addWord('computer', 'コンピューター');
  addWord('apple', 'りんご'); // 既に存在
  
  // 単語を編集
  editWord('cat', 'ネコ');
  
  // 単語を削除
  deleteWord('dog');
  
  // すべての単語を表示
  showAllWords();
}
```

## まとめ

この実践プログラムで学んだこと：

1. **マップを使ったデータ管理**：単語と意味のペアを効率的に管理
2. **関数の活用**：機能ごとに関数を分けて整理
3. **エラー処理**：存在しない単語の場合の処理
