# 2.2 コメントの書き方と重要性

## コメントとは何か

**コメント**とは、プログラムの中に書く「説明文」のことです。プログラムの実行には影響しませんが、コードを読む人（自分自身を含む）がプログラムを理解しやすくするために書きます。

```javascript
void main() {
  // これがコメントです
  print('Hello, World!');
}
```

コンピュータはコメント部分を無視するので、日本語でも英語でも自由に書くことができます。

## なぜコメントが重要なのか

### 1. 理解しやすくなる
自分が書いたプログラムでも、時間が経つと「何をしているのか忘れる」ことがあります。コメントがあることで、すぐに思い出せます。

### 2. 他の人との協力がしやすくなる
チームでプログラミングをするとき、コメントがあることで他の人があなたのコードを理解しやすくなります。

### 3. バグを見つけやすくなる
プログラムの意図をコメントで明確にしておくことで、実際の動作との違いに気づきやすくなります。

### 4. 学習効果が高まる
特に初学者にとって、「なぜこのコードを書いたのか」をコメントで記録することは、学習の振り返りに非常に有効です。

## Dartでのコメントの書き方

### 1. 1行コメント（//）

`//` から行の終わりまでがコメントになります。

```javascript
void main() {
  // プログラムの開始を知らせる
  print('プログラムを開始します');
  
  print('Hello, World!'); // メッセージを表示
}
```

### 2. 複数行コメント（/* */）

`/*` と `*/` で囲まれた部分がコメントになります。複数行にわたるコメントを書くときに便利です。

```javascript
void main() {
  /*
   これは複数行のコメントです。
   プログラムの詳しい説明や
   注意事項などを書くことができます。
   */
  print('Hello, World!');
}
```

### 3. ドキュメンテーションコメント（///）

`///` で始まるコメントは、特別な**ドキュメンテーションコメント**です。後で学ぶ関数やクラスの説明を書くときに使います。

```javascript
/// このプログラムは挨拶を表示するプログラムです。
/// 学習の第一歩として作成しました。
void main() {
  print('Hello, World!');
}
```

## 効果的なコメントの書き方

### 1. 「なぜ」を説明する

❌ **悪い例**: 何をしているかだけを書く
```javascript
void main() {
  // Hello, World!を表示する
  print('Hello, World!');
}
```

✅ **良い例**: なぜそうするのかを書く
```javascript
void main() {
  // プログラミング学習の第一歩として、伝統的な挨拶を表示
  print('Hello, World!');
}
```

### 2. 複雑な処理の説明

```javascript
void main() {
  // 消費税込み価格の計算（税率10%）
  int price = 1000;
  double taxRate = 0.1;
  int totalPrice = (price * (1 + taxRate)).round();
  
  print('税込価格: $totalPrice円');
}
```

### 3. 注意点や制限事項の記録

```javascript
void main() {
  // 注意: この計算は整数のみ対応（小数点以下は切り捨て）
  int result = 10 ~/ 3;
  print('結果: $result');
}
```

### 4. TODO（やることリスト）の記録

```javascript
void main() {
  print('現在の機能');
  
  // TODO: エラーハンドリングを追加する
  // TODO: ユーザー入力機能を実装する
  // TODO: 設定ファイルから値を読み込む機能を追加
}
```

## コメントの実践例

### 例1: 計算プログラム

```javascript
void main() {
  /*
   簡単な計算プログラム
   目的: 基本的な四則演算の練習
   作成日: 2024年1月15日
   */
  
  // 計算に使用する数値を定義
  int num1 = 15;
  int num2 = 3;
  
  // 四則演算を実行
  print('=== 計算結果 ===');
  
  // 足し算
  print('$num1 + $num2 = ${num1 + num2}');
  
  // 引き算
  print('$num1 - $num2 = ${num1 - num2}');
  
  // 掛け算
  print('$num1 × $num2 = ${num1 * num2}');
  
  // 割り算（整数除算）
  print('$num1 ÷ $num2 = ${num1 ~/ num2}');
  
  // 余り
  print('$num1 % $num2 = ${num1 % num2}');
  
  // 処理完了を表示
  print('計算が完了しました');
}
```

### 例2: 成績管理プログラム

```javascript
void main() {
  // 学生の成績データ（テスト用のサンプル）
  String studentName = '田中太郎';
  int mathScore = 85;
  int englishScore = 78;
  int scienceScore = 92;
  
  // 合計点の計算
  int totalScore = mathScore + englishScore + scienceScore;
  
  // 平均点の計算（小数点以下は四捨五入）
  double averageScore = totalScore / 3;
  
  // 成績表示
  print('=== 成績表 ===');
  print('生徒名: $studentName');
  print('');
  print('各科目の成績:');
  print('  数学: ${mathScore}点');
  print('  英語: ${englishScore}点');
  print('  理科: ${scienceScore}点');
  print('');
  print('合計: ${totalScore}点');
  print('平均: ${averageScore.toStringAsFixed(1)}点');
  
  // 成績判定（後で条件分岐を学んだら実装予定）
  // TODO: 平均点に基づいて「優秀」「良好」「要努力」を判定する機能を追加
}
```

## コメントを書くべき場面

### 1. プログラムの目的を説明するとき

```javascript
// 目的: 1から100までの数値の合計を求める
void main() {
  int sum = 0;
  for (int i = 1; i <= 100; i++) {
    sum += i;
  }
  print('1から100までの合計: $sum');
}
```

### 2. 複雑な計算をするとき

```javascript
void main() {
  // 円の面積を計算（半径5の場合）
  // 公式: 面積 = π × 半径²
  double radius = 5.0;
  double pi = 3.14159;
  double area = pi * radius * radius;
  
  print('半径${radius}の円の面積: $area');
}
```

### 3. 特殊な値や制限があるとき

```javascript
void main() {
  // 制限: 年齢は0以上150以下で入力してください
  int age = 25;
  
  // 特別値: -1 は「年齢不明」を表す
  if (age == -1) {
    print('年齢不明');
  } else {
    print('年齢: ${age}歳');
  }
}
```

### 4. 将来の改良予定があるとき

```javascript
void main() {
  // 現在は固定値を使用
  String greeting = 'こんにちは';
  
  // TODO: 時間帯に応じて「おはよう」「こんにちは」「こんばんは」を自動選択
  // TODO: 言語設定に応じて日本語/英語を切り替え
  
  print(greeting);
}
```

## 良くないコメントの例

### 1. 当たり前のことを書く

❌ **避けるべき例**:
```javascript
void main() {
  // 変数iに1を代入
  int i = 1;
  
  // print関数を使って文字列を出力
  print('Hello');
}
```

### 2. コードと一致しない説明

❌ **避けるべき例**:
```javascript
void main() {
  // 掛け算を実行
  int result = 10 + 5; // 実際は足し算
  print(result);
}
```

### 3. 長すぎる説明

❌ **避けるべき例**:
```javascript
void main() {
  /*
   ここでは変数を使って数値を格納します。
   変数とは値を記憶しておく箱のようなもので、
   プログラムの実行中に値を変更することができます。
   Dartでは型を明示的に指定することで、
   より安全なプログラムを書くことができ...
   （長すぎる説明が続く）
   */
  int number = 42;
  print(number);
}
```

## コメントのスタイルガイド

### 1. 一貫性を保つ
プロジェクト内では同じスタイルでコメントを書きましょう。

### 2. 適度な長さにする
1行コメントは簡潔に、複数行コメントも必要以上に長くしない。

### 3. 定期的に更新する
コードを変更したら、関連するコメントも忘れずに更新する。

### 4. 日本語を使う
初学者は日本語でコメントを書いて構いません。理解しやすさを最優先にしましょう。

## 演習: コメントを追加してみよう

以下のプログラムに適切なコメントを追加してください：

```javascript
void main() {
  String name = '山田花子';
  int age = 20;
  String hobby = 'reading';
  
  print('自己紹介');
  print('名前: $name');
  print('年齢: $age');
  print('趣味: $hobby');
}
```

解答例：
```javascript
void main() {
  // 自己紹介プログラム - 基本情報を画面に表示
  
  // 個人情報の設定
  String name = '山田花子';    // 名前
  int age = 20;               // 年齢
  String hobby = 'reading';   // 趣味（英語で記録）
  
  // 自己紹介の表示
  print('自己紹介');
  print('名前: $name');
  print('年齢: $age');
  print('趣味: $hobby');
  
  // TODO: 将来的には趣味を日本語表示に変更する
}
```

## まとめ

コメントの重要性：

1. **理解促進**: プログラムの意図を明確にする
2. **保守性向上**: 後でコードを修正しやすくする
3. **協力促進**: チームでの開発を円滑にする
4. **学習効果**: 自分の学習過程を記録できる

コメントの書き方：

- **1行コメント**: `//` を使用
- **複数行コメント**: `/* */` を使用
- **ドキュメンテーションコメント**: `///` を使用

良いコメントの特徴：

- **目的を説明する**: 「なぜ」を重視
- **適切な量**: 必要十分な情報量
- **最新性**: コードと一致している
- **明確性**: 分かりやすい表現

次の節では、プログラムで最も基本的な出力機能である「print文」について詳しく学びます。
