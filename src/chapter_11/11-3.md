# オブジェクトの作成と使用

前の章で、クラス（設計図）の作り方を学びました。今度は、その設計図を使って実際のオブジェクト（実体）を作る方法を学んでいきましょう！

## オブジェクトを作ってみよう

まず、前回作った犬のクラスを使ってみましょう：

```dart
class Dog {
  String name = "";
  int age = 0;
  String breed = "";
}
```

このクラスから実際の犬オブジェクトを作るには、次のように書きます：

```dart
void main() {
  // 犬オブジェクトを作成
  Dog myDog = Dog();
  
  print("犬を作りました！");
}
```

### オブジェクト作成の構文

```dart
クラス名 変数名 = クラス名();
```

たい焼きの例で考えると：

- `Dog()`：たい焼きの型で実際にたい焼きを作る
- `myDog`：作ったたい焼きに「myDog」という名前をつける

## オブジェクトのフィールドにアクセスする

作ったオブジェクトの情報を設定したり、読み取ったりしてみましょう：

```dart
void main() {
  // 犬オブジェクトを作成
  Dog myDog = Dog();
  
  // フィールドに値を設定（ドット記法）
  myDog.name = "ポチ";
  myDog.age = 3;
  myDog.breed = "柴犬";
  
  // フィールドの値を読み取り
  print("名前: ${myDog.name}");
  print("年齢: ${myDog.age}歳");
  print("品種: ${myDog.breed}");
}
```

**実行結果**：
```
名前: ポチ
年齢: 3歳
品種: 柴犬
```

### ドット記法（.）

オブジェクトのフィールドには「**ドット記法**」でアクセスします：

```dart
オブジェクト名.フィールド名
```

これは「オブジェクト名の中にあるフィールド名」という意味です。

## 複数のオブジェクトを作る

同じクラスから複数のオブジェクトを作ることができます：

```dart
void main() {
  // 1匹目の犬
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  dog1.age = 3;
  dog1.breed = "柴犬";
  
  // 2匹目の犬
  Dog dog2 = Dog();
  dog2.name = "ハチ";
  dog2.age = 5;
  dog2.breed = "秋田犬";
  
  // 3匹目の犬
  Dog dog3 = Dog();
  dog3.name = "モコ";
  dog3.age = 1;
  dog3.breed = "プードル";
  
  // 全ての犬の情報を表示
  print("1匹目: ${dog1.name}, ${dog1.age}歳, ${dog1.breed}");
  print("2匹目: ${dog2.name}, ${dog2.age}歳, ${dog2.breed}");
  print("3匹目: ${dog3.name}, ${dog3.age}歳, ${dog3.breed}");
}
```

**実行結果**：
```
1匹目: ポチ, 3歳, 柴犬
2匹目: ハチ, 5歳, 秋田犬
3匹目: モコ, 1歳, プードル
```

なるほど！一つのクラス（設計図）から、異なる情報を持つ複数のオブジェクト（実体）を作れるんですね。

## オブジェクトをリストで管理する

たくさんのオブジェクトがある場合は、リストで管理すると便利です：

```dart
void main() {
  // 犬のリストを作成
  List<Dog> dogs = [];
  
  // 犬を作ってリストに追加
  Dog pochi = Dog();
  pochi.name = "ポチ";
  pochi.age = 3;
  pochi.breed = "柴犬";
  dogs.add(pochi);
  
  Dog hachi = Dog();
  hachi.name = "ハチ";
  hachi.age = 5;
  hachi.breed = "秋田犬";
  dogs.add(hachi);
  
  // リストの全ての犬を表示
  print("=== ペットショップの犬たち ===");
  for (int i = 0; i < dogs.length; i++) {
    Dog currentDog = dogs[i];
    print("${i + 1}. ${currentDog.name} (${currentDog.age}歳, ${currentDog.breed})");
  }
}
```

**実行結果**：
```
=== ペットショップの犬たち ===
1. ポチ (3歳, 柴犬)
2. ハチ (5歳, 秋田犬)
```

## より簡潔な書き方

オブジェクトを作ってすぐに値を設定する場合、次のように書くこともできます：

```dart
class Dog {
  String name = "Unknown";
  int age = 0;
  String? breed; // Optional property, can be null

  Dog({this.name = "Unknown", this.age = 0, this.breed});
}

void main() {
  // 作成と設定を分ける場合
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  dog1.age = 3;
  
  // より簡潔に書く場合
  Dog dog2 = Dog()
    ..name = "ハチ"
    ..age = 5
    ..breed = "秋田犬";
    
  print("${dog1.name}, ${dog1.age}歳");
  print("${dog2.name}, ${dog2.age}歳, ${dog2.breed ?? '品種不明'}");
}
```

`..` は「**カスケード記法**」と呼ばれ、同じオブジェクトに対して連続して操作を行う時に使います。

## オブジェクトの比較

オブジェクト同士を比較する時は注意が必要です：

```dart
void main() {
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  
  Dog dog2 = Dog();
  dog2.name = "ポチ";
  
  // これはfalseになります！
  print(dog1 == dog2);  // false
  
  // 内容を比較したい場合は、フィールドを個別に比較
  bool sameName = (dog1.name == dog2.name);
  print("名前が同じ: $sameName");  // true
}
```

オブジェクトの `==` 比較は、同じインスタンス（同じメモリ上のオブジェクト）かどうかを判定します。内容が同じでも、別々に作ったオブジェクトは異なるものとして扱われます。

## まとめ

この章では、クラスからオブジェクトを作成し、使用する方法を学びました：

1. **オブジェクト作成**：`クラス名 変数名 = クラス名();`
2. **フィールドアクセス**：ドット記法（`オブジェクト.フィールド`）
3. **複数オブジェクト**：同じクラスから異なる情報を持つオブジェクトを作成
4. **リスト管理**：オブジェクトをリストで管理
5. **カスケード記法**：`..` で連続操作
6. **オブジェクト比較**：インスタンスの同一性 vs. 内容の比較
