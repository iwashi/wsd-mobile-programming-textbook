# å®Ÿè·µï¼šã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‚’ä½œã‚‹

ã“ã®ç¯€ã§ã¯ã€ã“ã‚Œã¾ã§å­¦ã‚“ã é–¢æ•°ã®çŸ¥è­˜ã‚’æ´»ç”¨ã—ã¦ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨å¯¾æˆ¦ã§ãã‚‹ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚æ®µéšçš„ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ãã€æœ€çµ‚çš„ã«ã¯å®Œå…¨ãªã‚²ãƒ¼ãƒ ã‚’å®Œæˆã•ã›ã¾ã™ã€‚

## ã‚¹ãƒ†ãƒƒãƒ—1ï¼šåŸºæœ¬çš„ãªã˜ã‚ƒã‚“ã‘ã‚“ã®åˆ¤å®š

ã¾ãšã€ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹æ•—ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚

```javascript
// ã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ã‚’æ•°å€¤ã§è¡¨ç¾
// 0: ã‚°ãƒ¼ã€1: ãƒãƒ§ã‚­ã€2: ãƒ‘ãƒ¼

String getHandName(int hand) {
  switch (hand) {
    case 0: return 'ã‚°ãƒ¼';
    case 1: return 'ãƒãƒ§ã‚­';
    case 2: return 'ãƒ‘ãƒ¼';
    default: return 'ç„¡åŠ¹';
  }
}

// å‹æ•—ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
// æˆ»ã‚Šå€¤: 0=å¼•ãåˆ†ã‘ã€1=ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹ã¡ã€-1=ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è² ã‘
int judgeWinner(int playerHand, int computerHand) {
  if (playerHand == computerHand) {
    return 0; // å¼•ãåˆ†ã‘
  }
  
  // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå‹ã¤ãƒ‘ã‚¿ãƒ¼ãƒ³
  if ((playerHand == 0 && computerHand == 1) ||  // ã‚°ãƒ¼ vs ãƒãƒ§ã‚­
      (playerHand == 1 && computerHand == 2) ||  // ãƒãƒ§ã‚­ vs ãƒ‘ãƒ¼
      (playerHand == 2 && computerHand == 0)) {  // ãƒ‘ãƒ¼ vs ã‚°ãƒ¼
    return 1;
  }
  
  return -1; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è² ã‘
}

void main() {
  // ãƒ†ã‚¹ãƒˆ
  int player = 0;  // ã‚°ãƒ¼
  int computer = 1; // ãƒãƒ§ã‚­
  
  print('ã‚ãªãŸ: ${getHandName(player)}');
  print('ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿: ${getHandName(computer)}');
  
  int result = judgeWinner(player, computer);
  if (result == 1) {
    print('ã‚ãªãŸã®å‹ã¡ï¼');
  } else if (result == -1) {
    print('ã‚ãªãŸã®è² ã‘...');
  } else {
    print('å¼•ãåˆ†ã‘');
  }
}
```

## ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ©ãƒ³ãƒ€ãƒ ãªæ‰‹ã‚’ç”Ÿæˆ

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒãƒ©ãƒ³ãƒ€ãƒ ã«æ‰‹ã‚’é¸ã¶æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```javascript
import 'dart:math';

// å‰ã®ã‚³ãƒ¼ãƒ‰ã«è¿½åŠ 
int generateComputerHand() {
  Random random = Random();
  return random.nextInt(3); // 0, 1, 2ã®ã„ãšã‚Œã‹ã‚’è¿”ã™
}

// çµæœã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
void displayResult(int playerHand, int computerHand, int result) {
  print('\n=== ã˜ã‚ƒã‚“ã‘ã‚“ã®çµæœ ===');
  print('ã‚ãªãŸ: ${getHandName(playerHand)}');
  print('ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿: ${getHandName(computerHand)}');
  
  if (result == 1) {
    print('çµæœ: ã‚ãªãŸã®å‹ã¡ï¼');
  } else if (result == -1) {
    print('çµæœ: ã‚ãªãŸã®è² ã‘...');
  } else {
    print('çµæœ: å¼•ãåˆ†ã‘');
  }
  print('=====================\n');
}

void playOneRound(int playerHand) {
  int computerHand = generateComputerHand();
  int result = judgeWinner(playerHand, computerHand);
  displayResult(playerHand, computerHand, result);
}

void main() {
  print('ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‚’å§‹ã‚ã¾ã™ï¼');
  playOneRound(0); // ã‚°ãƒ¼ã‚’å‡ºã™
}
```

## ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå…¥åŠ›æ©Ÿèƒ½ã®è¿½åŠ 

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ‰‹ã‚’é¸ã¹ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```javascript
// å…¥åŠ›ã‚’æ¤œè¨¼ã™ã‚‹é–¢æ•°
bool isValidInput(String input) {
  return input == '0' || input == '1' || input == '2';
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
void showHandMenu() {
  print('ã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ã‚’é¸ã‚“ã§ãã ã•ã„:');
  print('0: ã‚°ãƒ¼');
  print('1: ãƒãƒ§ã‚­');
  print('2: ãƒ‘ãƒ¼');
  print('é¸æŠ: ');
}

// å…¥åŠ›ã‚’å‡¦ç†ã™ã‚‹é–¢æ•°ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
int getPlayerInput(String input) {
  if (isValidInput(input)) {
    return int.parse(input);
  }
  return -1; // ç„¡åŠ¹ãªå…¥åŠ›
}
```

## ã‚¹ãƒ†ãƒƒãƒ—4ï¼šé€£ç¶šå¯¾æˆ¦ã¨çµ±è¨ˆæ©Ÿèƒ½

è¤‡æ•°å›å¯¾æˆ¦ã—ã¦ã€å‹ç‡ã‚’è¨˜éŒ²ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```javascript
// ã‚²ãƒ¼ãƒ ã®çµ±è¨ˆã‚’ç®¡ç†
class GameStats {
  int wins = 0;
  int losses = 0;
  int draws = 0;
  
  int get totalGames => wins + losses + draws;
  
  double get winRate {
    if (totalGames == 0) return 0;
    return (wins / totalGames) * 100;
  }
}

// çµ±è¨ˆã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
void updateStats(GameStats stats, int result) {
  if (result == 1) {
    stats.wins++;
  } else if (result == -1) {
    stats.losses++;
  } else {
    stats.draws++;
  }
}

// çµ±è¨ˆã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
void displayStats(GameStats stats) {
  print('\n=== ã‚²ãƒ¼ãƒ çµ±è¨ˆ ===');
  print('ç·ã‚²ãƒ¼ãƒ æ•°: ${stats.totalGames}');
  print('å‹ã¡: ${stats.wins}å›');
  print('è² ã‘: ${stats.losses}å›');
  print('å¼•ãåˆ†ã‘: ${stats.draws}å›');
  print('å‹ç‡: ${stats.winRate.toStringAsFixed(1)}%');
  print('==================\n');
}
```

## å®Œæˆç‰ˆï¼šã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ 

ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ãŸå®Œæˆç‰ˆã§ã™ã€‚

```javascript
import 'dart:math';

// ã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ã‚’ç®¡ç†
String getHandName(int hand) {
  switch (hand) {
    case 0: return 'ã‚°ãƒ¼âœŠ';
    case 1: return 'ãƒãƒ§ã‚­âœŒ';
    case 2: return 'ãƒ‘ãƒ¼âœ‹';
    default: return 'ç„¡åŠ¹';
  }
}

// å‹æ•—åˆ¤å®š
int judgeWinner(int playerHand, int computerHand) {
  if (playerHand == computerHand) return 0;
  
  if ((playerHand == 0 && computerHand == 1) ||
      (playerHand == 1 && computerHand == 2) ||
      (playerHand == 2 && computerHand == 0)) {
    return 1;
  }
  
  return -1;
}

// ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ‰‹ã‚’ç”Ÿæˆ
int generateComputerHand() {
  return Random().nextInt(3);
}

// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœï¼ˆã˜ã‚ƒã‚“ã‘ã‚“ã½ã‚“ï¼ï¼‰
void showAnimation() {
  print('ã˜ã‚ƒã‚“...');
  print('ã‘ã‚“...');
  print('ã½ã‚“ï¼');
}

// çµæœè¡¨ç¤ºï¼ˆè©³ç´°ç‰ˆï¼‰
void displayDetailedResult(int playerHand, int computerHand, int result) {
  showAnimation();
  
  print('\nã€çµæœã€‘');
  print('ã‚ãªãŸã€€ã€€ã€€: ${getHandName(playerHand)}');
  print('ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿: ${getHandName(computerHand)}');
  
  if (result == 1) {
    print('\nğŸ‰ ã‚ãªãŸã®å‹ã¡ï¼ ğŸ‰');
    print(_getWinMessage(playerHand, computerHand));
  } else if (result == -1) {
    print('\nğŸ˜¢ ã‚ãªãŸã®è² ã‘... ğŸ˜¢');
    print(_getLoseMessage(playerHand, computerHand));
  } else {
    print('\nğŸ¤ å¼•ãåˆ†ã‘ï¼ ğŸ¤');
    print('åŒã˜æ‰‹ã§ã—ãŸï¼');
  }
}

// å‹ã¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
String _getWinMessage(int playerHand, int computerHand) {
  if (playerHand == 0 && computerHand == 1) {
    return 'ã‚°ãƒ¼ã¯ãƒãƒ§ã‚­ã«å‹ã¡ã¾ã™ï¼';
  } else if (playerHand == 1 && computerHand == 2) {
    return 'ãƒãƒ§ã‚­ã¯ãƒ‘ãƒ¼ã«å‹ã¡ã¾ã™ï¼';
  } else {
    return 'ãƒ‘ãƒ¼ã¯ã‚°ãƒ¼ã«å‹ã¡ã¾ã™ï¼';
  }
}

// è² ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
String _getLoseMessage(int playerHand, int computerHand) {
  if (playerHand == 0 && computerHand == 2) {
    return 'ã‚°ãƒ¼ã¯ãƒ‘ãƒ¼ã«è² ã‘ã¾ã™...';
  } else if (playerHand == 1 && computerHand == 0) {
    return 'ãƒãƒ§ã‚­ã¯ã‚°ãƒ¼ã«è² ã‘ã¾ã™...';
  } else {
    return 'ãƒ‘ãƒ¼ã¯ãƒãƒ§ã‚­ã«è² ã‘ã¾ã™...';
  }
}

// ã‚²ãƒ¼ãƒ çµ±è¨ˆ
class GameStats {
  int wins = 0;
  int losses = 0;
  int draws = 0;
  List<String> history = [];
  
  void recordGame(int result, int playerHand, int computerHand) {
    String record = '${getHandName(playerHand)} vs ${getHandName(computerHand)}: ';
    if (result == 1) {
      wins++;
      record += 'å‹ã¡';
    } else if (result == -1) {
      losses++;
      record += 'è² ã‘';
    } else {
      draws++;
      record += 'å¼•ãåˆ†ã‘';
    }
    history.add(record);
  }
  
  void showStats() {
    int total = wins + losses + draws;
    if (total == 0) {
      print('ã¾ã ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã—ã¦ã„ã¾ã›ã‚“');
      return;
    }
    
    print('\nğŸ“Š ã‚²ãƒ¼ãƒ çµ±è¨ˆ ğŸ“Š');
    print('ç·ã‚²ãƒ¼ãƒ æ•°: $totalå›');
    print('å‹ã¡: $winså›');
    print('è² ã‘: $losseså›');
    print('å¼•ãåˆ†ã‘: $drawså›');
    print('å‹ç‡: ${(wins / total * 100).toStringAsFixed(1)}%');
    
    if (history.length > 0) {
      print('\nã€æœ€è¿‘ã®å¯¾æˆ¦å±¥æ­´ã€‘');
      int start = history.length > 5 ? history.length - 5 : 0;
      for (int i = start; i < history.length; i++) {
        print('${i - start + 1}. ${history[i]}');
      }
    }
  }
}

// ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ 
void main() {
  GameStats stats = GameStats();
  
  print('=== ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã¸ã‚ˆã†ã“ãï¼ ===\n');
  
  // ãƒ‡ãƒ¢ç”¨ï¼š5å›å¯¾æˆ¦
  List<int> demoMoves = [0, 1, 2, 1, 0]; // ã‚°ãƒ¼ã€ãƒãƒ§ã‚­ã€ãƒ‘ãƒ¼ã€ãƒãƒ§ã‚­ã€ã‚°ãƒ¼
  
  for (int i = 0; i < demoMoves.length; i++) {
    print('\n--- ç¬¬${i + 1}å›æˆ¦ ---');
    int playerHand = demoMoves[i];
    int computerHand = generateComputerHand();
    int result = judgeWinner(playerHand, computerHand);
    
    displayDetailedResult(playerHand, computerHand, result);
    stats.recordGame(result, playerHand, computerHand);
    
    print('\nç¶šã‘ã‚‹ã«ã¯ä½•ã‹ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„...');
  }
  
  // æœ€çµ‚çµ±è¨ˆ
  print('\n=== ã‚²ãƒ¼ãƒ çµ‚äº† ===');
  stats.showStats();
  
  // å‹ç‡ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  double winRate = stats.wins / (stats.wins + stats.losses + stats.draws) * 100;
  print('\n');
  if (winRate >= 60) {
    print('ğŸ† ç´ æ™´ã‚‰ã—ã„æˆç¸¾ã§ã™ï¼ã˜ã‚ƒã‚“ã‘ã‚“ãƒã‚¹ã‚¿ãƒ¼ã§ã™ã­ï¼');
  } else if (winRate >= 40) {
    print('ğŸ‘ è‰¯ã„å‹è² ã§ã—ãŸï¼');
  } else {
    print('ğŸ’ª æ¬¡ã¯ã‚‚ã£ã¨é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼');
  }
}
```

## ç·´ç¿’å•é¡Œ

1. ã€Œæœ€åˆã¯ã‚°ãƒ¼ã€æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼ˆæœ€åˆã«å¿…ãšã‚°ãƒ¼ã‚’è¡¨ç¤ºï¼‰ã€‚

2. é€£å‹è¨˜éŒ²ã‚’è¿½è·¡ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

3. ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æˆ¦ç•¥ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼šå‰å›ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå‡ºã—ãŸæ‰‹ã«å‹ã¤æ‰‹ã‚’å‡ºã—ã‚„ã™ãã™ã‚‹ï¼‰ã€‚

## ã¾ã¨ã‚

ã“ã®ç¯€ã§ã¯ã€é–¢æ•°ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿç”¨çš„ãªã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‚’ä½œã‚Šã¾ã—ãŸã€‚ä»¥ä¸‹ã®é‡è¦ãªæ¦‚å¿µã‚’å®Ÿè·µã—ã¾ã—ãŸï¼š

- é–¢æ•°ã®åˆ†å‰²ã«ã‚ˆã‚‹è²¬ä»»ã®æ˜ç¢ºåŒ–
- å¼•æ•°ã¨æˆ»ã‚Šå€¤ã‚’ä½¿ã£ãŸé–¢æ•°é–“ã®ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—
- è¤‡æ•°ã®é–¢æ•°ã‚’çµ„ã¿åˆã‚ã›ãŸè¤‡é›‘ãªå‡¦ç†ã®å®Ÿç¾
- ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ãŸé–¢é€£ãƒ‡ãƒ¼ã‚¿ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å‘ä¸Šã•ã›ã‚‹æ©Ÿèƒ½ã®è¿½åŠ 

ã“ã‚Œã§ç¬¬10ç« ã¯å®Œäº†ã§ã™ã€‚é–¢æ•°ã‚’ä½¿ã„ã“ãªã™ã“ã¨ã§ã€ã‚ˆã‚Šæ§‹é€ åŒ–ã•ã‚ŒãŸèª­ã¿ã‚„ã™ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚