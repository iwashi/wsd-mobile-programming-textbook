# オプション引数とデフォルト値

前節では複数の引数を持つ関数を学びました。しかし、すべての引数を毎回指定するのは面倒な場合があります。Dartでは、引数にデフォルト値を設定することで、オプション引数を作ることができます。

## 位置引数のデフォルト値

角括弧 `[]` を使って、位置引数にデフォルト値を設定できます。

```dart
// 挨拶をする関数（時間帯はオプション）
String greet(String name, [String time = 'こんにちは']) {
  return '$time、$nameさん！';
}

void main() {
  print(greet('太郎'));           // こんにちは、太郎さん！
  print(greet('花子', 'おはよう')); // おはよう、花子さん！
}
```

## 複数のオプション引数

複数のオプション引数を設定することもできます。

```dart
// 自己紹介文を作る関数
String introduce(String name, [int age = 0, String hobby = '読書']) {
  if (age == 0) {
    return '私は$nameです。趣味は$hobbyです。';
  } else {
    return '私は$nameです。$age歳です。趣味は$hobbyです。';
  }
}

void main() {
  print(introduce('太郎'));                    // 私は太郎です。趣味は読書です。
  print(introduce('花子', 15));                // 私は花子です。15歳です。趣味は読書です。
  print(introduce('次郎', 17, 'サッカー'));      // 私は次郎です。17歳です。趣味はサッカーです。
}
```

## 名前付き引数

波括弧 `{}` を使って、名前付き引数を作ることができます。名前付き引数は順序を気にせずに指定できます。

```dart
// 長方形を描画する関数
void drawRectangle({int width = 10, int height = 5, String char = '*'}) {
  for (int i = 0; i < height; i++) {
    print(char * width);
  }
}

void main() {
  print('デフォルトの長方形:');
  drawRectangle();
  
  print('\n幅20の長方形:');
  drawRectangle(width: 20);
  
  print('\n高さ3、文字#の長方形:');
  drawRectangle(height: 3, char: '#');
}
```

## 必須の名前付き引数

`required` キーワードを使って、名前付き引数を必須にすることができます。

```dart
// ユーザー情報を登録する関数
void registerUser({
  required String name,
  required String email,
  int age = 0,
  String country = '日本'
}) {
  print('=== ユーザー登録情報 ===');
  print('名前: $name');
  print('メール: $email');
  print('年齢: ${age == 0 ? "未設定" : age}');
  print('国: $country');
}

void main() {
  // nameとemailは必須
  registerUser(name: '山田太郎', email: 'yamada@example.com');
  
  // すべての引数を指定
  registerUser(
    name: '鈴木花子',
    email: 'suzuki@example.com',
    age: 25,
    country: 'アメリカ'
  );
}
```

## まとめ

- 角括弧 `[]` で位置引数のデフォルト値を設定できる
- 波括弧 `{}` で名前付き引数を作ることができる
- 名前付き引数は順序を気にせずに指定できる
- `required` キーワードで名前付き引数を必須にできる
- オプション引数を使うことで、関数をより柔軟に使えるようになる
