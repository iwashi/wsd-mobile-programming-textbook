<!DOCTYPE HTML>
<html lang="ja" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dartで学ぶプログラミング入門</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="プログラミング初心者向けのDart言語入門書">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Dartで学ぶプログラミング入門</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/yourusername/wsd_mobile_programming_textbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="はじめに"><a class="header" href="#はじめに">はじめに</a></h1>
<p>本書『Dartで学ぶプログラミング入門』をお手に取りいただき、ありがとうございます。</p>
<h2 id="本書の目的"><a class="header" href="#本書の目的">本書の目的</a></h2>
<p>本書は、プログラミングをまったく初めて学ぶ方を対象に、Dart言語を通じてプログラミングの基本的な考え方と技術を習得していただくことを目的としています。</p>
<h2 id="なぜdartなのか"><a class="header" href="#なぜdartなのか">なぜDartなのか</a></h2>
<p>Dartは以下の理由から、プログラミング入門に最適な言語です：</p>
<ul>
<li><strong>シンプルで読みやすい文法</strong>：初心者にも理解しやすい</li>
<li><strong>型安全</strong>：エラーを早期に発見でき、学習に適している</li>
<li><strong>実用的</strong>：Flutterを使えばモバイルアプリ開発にも発展可能</li>
<li><strong>無料の開発環境</strong>：DartPadを使ってブラウザですぐに始められる</li>
</ul>
<h2 id="本書の特徴"><a class="header" href="#本書の特徴">本書の特徴</a></h2>
<ol>
<li><strong>段階的な学習</strong>：基礎から応用まで、無理のないペースで学べます</li>
<li><strong>豊富な例題</strong>：各章に実践的なコード例を掲載</li>
<li><strong>練習問題</strong>：理解度を確認できる問題を用意</li>
<li><strong>実践プロジェクト</strong>：学んだ知識を活かせる総合演習</li>
</ol>
<h2 id="本書の使い方"><a class="header" href="#本書の使い方">本書の使い方</a></h2>
<ul>
<li>各章は順番に読み進めることを想定していますが、理解度に応じて復習しながら進めてください</li>
<li>サンプルコードは必ず自分で入力して実行してみましょう</li>
<li>エラーが出ても慌てずに、エラーメッセージを読んで解決する習慣をつけましょう</li>
<li>練習問題は飛ばさずに挑戦してください</li>
</ul>
<h2 id="必要な環境"><a class="header" href="#必要な環境">必要な環境</a></h2>
<p>本書の学習に必要なものは：</p>
<ul>
<li>インターネットに接続されたパソコン</li>
<li>最新のWebブラウザ（Chrome、Firefox、Safari、Edgeなど）</li>
<li>DartPad（https://dartpad.dev）へのアクセス</li>
</ul>
<p>それでは、プログラミングの世界への第一歩を踏み出しましょう！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第1章プログラミングとは"><a class="header" href="#第1章プログラミングとは">第1章：プログラミングとは</a></h1>
<p>プログラミングの学習を始めるあなたを歓迎します！</p>
<p>この章では、プログラミングの世界への入り口として、最も基本的で重要な概念を学びます。コンピュータとプログラムの関係から始まり、プログラミング言語の役割、そしてなぜ「Dart」という言語を選んで学習するのかを理解していきます。</p>
<h2 id="この章の構成"><a class="header" href="#この章の構成">この章の構成</a></h2>
<h3 id="11-コンピュータとプログラムの関係"><a class="header" href="#11-コンピュータとプログラムの関係"><a href="chapter_1/./1-1.html">1.1 コンピュータとプログラムの関係</a></a></h3>
<ul>
<li>コンピュータは指示に従う道具であることを理解する</li>
<li>プログラムとは何かを具体例で学ぶ</li>
<li>コンピュータの特徴（正確性、高速性、融通の利かなさ）を知る</li>
<li>なぜ詳細な指示書（プログラム）が必要なのかを理解する</li>
</ul>
<h3 id="12-プログラミング言語の役割"><a class="header" href="#12-プログラミング言語の役割"><a href="chapter_1/./1-2.html">1.2 プログラミング言語の役割</a></a></h3>
<ul>
<li>人間とコンピュータの架け橋としてのプログラミング言語</li>
<li>コンピュータが本当に理解する0と1の世界</li>
<li>様々なプログラミング言語の種類と特徴</li>
<li>プログラミング言語の共通する基本要素</li>
</ul>
<h3 id="13-なぜdartを学ぶのか"><a class="header" href="#13-なぜdartを学ぶのか"><a href="chapter_1/./1-3.html">1.3 なぜDartを学ぶのか</a></a></h3>
<ul>
<li>Dartという言語の特徴と魅力</li>
<li>初学者にとってのDartの利点</li>
<li>モバイルアプリ開発での実用性</li>
<li>他の言語との比較と将来性</li>
</ul>
<h3 id="14-開発環境の準備dartpadの使い方"><a class="header" href="#14-開発環境の準備dartpadの使い方"><a href="chapter_1/./1-4.html">1.4 開発環境の準備（DartPadの使い方）</a></a></h3>
<ul>
<li>DartPadの使い方をマスターする</li>
<li>実際にプログラムを書いて実行する体験</li>
<li>エラーが発生したときの対処法</li>
<li>効率的な学習を進めるためのコツ</li>
</ul>
<h3 id="15-はじめてのプログラムhello-world"><a class="header" href="#15-はじめてのプログラムhello-world"><a href="chapter_1/./1-5.html">1.5 はじめてのプログラム「Hello, World!」</a></a></h3>
<ul>
<li>プログラミングの伝統「Hello, World!」の作成</li>
<li>プログラムの詳細な解説</li>
<li>様々なバリエーションでの実践</li>
<li>創造的なプログラム作成への挑戦</li>
</ul>
<h2 id="学習の目標"><a class="header" href="#学習の目標">学習の目標</a></h2>
<p>この章を完了すると、以下のことができるようになります：</p>
<h3 id="知識面"><a class="header" href="#知識面">知識面</a></h3>
<ul>
<li><strong>プログラミングの本質</strong>を理解し、他の人に説明できる</li>
<li><strong>コンピュータの特性</strong>（長所と短所）を把握している</li>
<li><strong>プログラミング言語の役割</strong>を理解している</li>
<li><strong>Dartの特徴と利点</strong>を説明できる</li>
</ul>
<h3 id="実践面"><a class="header" href="#実践面">実践面</a></h3>
<ul>
<li><strong>DartPad</strong>を使ってプログラムを書き、実行できる</li>
<li>簡単な<strong>メッセージ表示プログラム</strong>を作成できる</li>
<li><strong>エラーメッセージ</strong>を読んで、問題を解決できる</li>
<li><strong>コメント</strong>を使ってプログラムに説明を追加できる</li>
</ul>
<h3 id="心構え"><a class="header" href="#心構え">心構え</a></h3>
<ul>
<li>プログラミング学習への<strong>意欲と自信</strong>を持っている</li>
<li>エラーを恐れずに<strong>試行錯誤</strong>する姿勢が身についている</li>
<li><strong>創造的思考</strong>でプログラムを作る楽しさを感じている</li>
</ul>
<h2 id="学習のポイント"><a class="header" href="#学習のポイント">学習のポイント</a></h2>
<h3 id="-理論と実践のバランス"><a class="header" href="#-理論と実践のバランス">📚 理論と実践のバランス</a></h3>
<p>各節では理論的な説明の後に、必ず実際にコードを書く機会があります。理解したことをすぐに手を動かして確認しましょう。</p>
<h3 id="-疑問を持つことの大切さ"><a class="header" href="#-疑問を持つことの大切さ">🔍 疑問を持つことの大切さ</a></h3>
<p>「なぜこうなるのか？」「もしこう変更したらどうなるか？」という疑問を常に持ち、実際に試してみることで理解が深まります。</p>
<h3 id="-完璧を求めすぎない"><a class="header" href="#-完璧を求めすぎない">🎯 完璧を求めすぎない</a></h3>
<p>最初からすべてを理解する必要はありません。「なんとなく分かった」という感覚から始めて、後の章で詳細を学んでいきます。</p>
<h3 id="-コミュニティの活用"><a class="header" href="#-コミュニティの活用">🤝 コミュニティの活用</a></h3>
<p>分からないことがあれば、オンラインのコミュニティやフォーラムで質問することを恐れないでください。プログラマーは助け合いの文化があります。</p>
<h2 id="次のステップへ"><a class="header" href="#次のステップへ">次のステップへ</a></h2>
<p>第1章を修了すると、あなたは「プログラマー」としての第一歩を踏み出したことになります。</p>
<p>第2章では、プログラムの基本要素について詳しく学び、より実用的なプログラムを作成していきます。この章で学んだ基礎知識が、今後のすべての学習の土台となります。</p>
<p><strong>さあ、プログラミングの冒険を始めましょう！</strong> 🚀</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="11-コンピュータとプログラムの関係-1"><a class="header" href="#11-コンピュータとプログラムの関係-1">1.1 コンピュータとプログラムの関係</a></h1>
<h2 id="コンピュータは指示に従う道具"><a class="header" href="#コンピュータは指示に従う道具">コンピュータは指示に従う道具</a></h2>
<p>私たちの身の回りには多くのコンピュータが存在しています。パソコンやスマートフォンはもちろん、テレビ、冷蔵庫、電子レンジ、自動車など、今や生活のあらゆる場面でコンピュータが活用されています。</p>
<p>コンピュータは非常に高性能な計算機ではありますが、実は<strong>人間からの指示がなければ何もできません</strong>。コンピュータが何かを実行するためには、「何をすべきか」を詳細に教える必要があります。</p>
<h2 id="プログラムとは何か"><a class="header" href="#プログラムとは何か">プログラムとは何か</a></h2>
<p><strong>プログラム</strong>とは、コンピュータに対する指示書のことです。コンピュータが理解できる形で書かれた、一連の命令の集まりと考えることができます。</p>
<p>例えば、「朝起きてから学校に行くまで」の行動を思い浮かべてみてください：</p>
<ol>
<li>目覚まし時計で起きる</li>
<li>歯を磨く</li>
<li>顔を洗う</li>
<li>朝食を食べる</li>
<li>学校の準備をする</li>
<li>家を出る</li>
</ol>
<p>これらの行動を順番に実行することで、「学校に行く」という目標を達成できます。プログラムも同じように、コンピュータが実行すべき処理を順番に記述したものです。</p>
<h2 id="身近なプログラムの例"><a class="header" href="#身近なプログラムの例">身近なプログラムの例</a></h2>
<p>私たちの生活には、多くのプログラムが関わっています：</p>
<ul>
<li><strong>スマートフォンのアプリ</strong>：LINEでメッセージを送る、写真を撮る、ゲームをする</li>
<li><strong>Webサイト</strong>：Googleで検索する、YouTubeで動画を見る、Amazonで買い物をする</li>
<li><strong>家電製品</strong>：電子レンジで時間を設定して温める、洗濯機で洗濯コースを選ぶ</li>
<li><strong>交通システム</strong>：電車の運行管理、信号機の制御、自動改札</li>
</ul>
<p>これらすべてがプログラムによって動いているのです。</p>
<h2 id="コンピュータの特徴"><a class="header" href="#コンピュータの特徴">コンピュータの特徴</a></h2>
<p>コンピュータには以下のような特徴があります：</p>
<h3 id="1-正確性"><a class="header" href="#1-正確性">1. 正確性</a></h3>
<p>人間は計算ミスをすることがありますが、コンピュータは与えられた指示を正確に実行します。1 + 1 を何万回計算しても、必ず 2 という答えを返します。</p>
<h3 id="2-高速性"><a class="header" href="#2-高速性">2. 高速性</a></h3>
<p>人間が1秒間に1回しかできない計算を、コンピュータは何百万回、何億回と実行できます。</p>
<h3 id="3-疲れない"><a class="header" href="#3-疲れない">3. 疲れない</a></h3>
<p>人間は長時間作業をすると疲れて間違いを起こしやすくなりますが、コンピュータは同じ作業を何時間でも続けられます。</p>
<h3 id="4-融通が利かない"><a class="header" href="#4-融通が利かない">4. 融通が利かない</a></h3>
<p>一方で、コンピュータは予期しない状況に対応することが苦手です。プログラムに書かれていないことは実行できません。</p>
<h2 id="なぜプログラムが必要なのか"><a class="header" href="#なぜプログラムが必要なのか">なぜプログラムが必要なのか</a></h2>
<p>コンピュータは非常に能力が高い一方で、<strong>「察して動く」ことができません</strong>。人間同士なら「だいたいこんな感じで」という曖昧な指示でも理解できますが、コンピュータには具体的で詳細な指示が必要です。</p>
<p>例えば、友人に「コンビニでお菓子を買ってきて」と頼むとき、友人は以下のことを自然に判断します：</p>
<ul>
<li>どのコンビニに行くか</li>
<li>どんなお菓子を選ぶか</li>
<li>お金が足りない場合はどうするか</li>
<li>コンビニが閉まっていたらどうするか</li>
</ul>
<p>しかし、コンピュータにはこれらすべてを明確に指示する必要があります。この詳細な指示書こそがプログラムなのです。</p>
<h2 id="プログラミングを学ぶ意味"><a class="header" href="#プログラミングを学ぶ意味">プログラミングを学ぶ意味</a></h2>
<p>プログラミングを学ぶことで得られるものは、コンピュータを操作する技術だけではありません：</p>
<h3 id="問題解決能力の向上"><a class="header" href="#問題解決能力の向上">問題解決能力の向上</a></h3>
<p>複雑な問題を小さな部分に分けて、順序立てて解決する力が身につきます。</p>
<h3 id="論理的思考力の養成"><a class="header" href="#論理的思考力の養成">論理的思考力の養成</a></h3>
<p>「なぜそうなるのか」「どうすれば解決できるのか」を論理的に考える習慣がつきます。</p>
<h3 id="創造力の発揮"><a class="header" href="#創造力の発揮">創造力の発揮</a></h3>
<p>自分のアイデアをコンピュータ上で実現し、他の人に役立つものを作ることができます。</p>
<h3 id="将来への準備"><a class="header" href="#将来への準備">将来への準備</a></h3>
<p>IT技術は社会のあらゆる分野で必要とされており、プログラミング能力は将来の強い武器になります。</p>
<h2 id="まとめ"><a class="header" href="#まとめ">まとめ</a></h2>
<ul>
<li>コンピュータは指示がなければ何もできない道具</li>
<li>プログラムはコンピュータへの詳細な指示書</li>
<li>コンピュータは正確で高速だが、融通が利かない</li>
<li>だからこそ、明確で具体的なプログラムが必要</li>
<li>プログラミング学習は技術習得以上の価値がある</li>
</ul>
<p>次の節では、コンピュータに指示を伝える手段である「プログラミング言語」について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12-プログラミング言語の役割-1"><a class="header" href="#12-プログラミング言語の役割-1">1.2 プログラミング言語の役割</a></h1>
<h2 id="人間とコンピュータの架け橋"><a class="header" href="#人間とコンピュータの架け橋">人間とコンピュータの架け橋</a></h2>
<p>前の節で学んだように、コンピュータは人間からの指示がなければ動きません。しかし、私たちが普段使っている日本語や英語をコンピュータがそのまま理解することはできません。コンピュータが理解できる言葉は、実は「0と1の組み合わせ」だけなのです。</p>
<p><strong>プログラミング言語</strong>は、人間が考える内容をコンピュータが理解できる形に翻訳する役割を果たします。つまり、人間とコンピュータの間の「通訳」のような存在です。</p>
<h2 id="コンピュータが本当に理解する言葉"><a class="header" href="#コンピュータが本当に理解する言葉">コンピュータが本当に理解する言葉</a></h2>
<p>コンピュータの内部では、すべての情報が電気の「ON（1）」と「OFF（0）」で表現されています。例えば：</p>
<ul>
<li>数字の5 → <code>101</code></li>
<li>文字のA → <code>01000001</code></li>
<li>色の赤 → <code>11111111 00000000 00000000</code></li>
</ul>
<p>しかし、私たちが「コンピュータよ、5と3を足し算してください」と言いたいとき、これを全部0と1で表現するのは現実的ではありません。</p>
<h2 id="プログラミング言語が生まれた理由"><a class="header" href="#プログラミング言語が生まれた理由">プログラミング言語が生まれた理由</a></h2>
<h3 id="1-人間にとって理解しやすく"><a class="header" href="#1-人間にとって理解しやすく">1. 人間にとって理解しやすく</a></h3>
<p>0と1の羅列では、プログラムを書くのも読むのも非常に困難です。プログラミング言語を使うことで、人間にとって理解しやすい形でプログラムを書けるようになります。</p>
<h3 id="2-間違いを減らすため"><a class="header" href="#2-間違いを減らすため">2. 間違いを減らすため</a></h3>
<p>複雑な0と1の組み合わせを直接書くと、間違いを起こしやすくなります。プログラミング言語は、こうした間違いを防ぐ仕組みを提供します。</p>
<h3 id="3-再利用しやすくするため"><a class="header" href="#3-再利用しやすくするため">3. 再利用しやすくするため</a></h3>
<p>一度書いたプログラムを他の場面でも使えるように、部品として組み合わせやすい形にするためです。</p>
<h2 id="プログラミング言語の種類"><a class="header" href="#プログラミング言語の種類">プログラミング言語の種類</a></h2>
<p>世界には数百種類のプログラミング言語が存在します。それぞれ異なる特徴と得意分野を持っています：</p>
<h3 id="web開発"><a class="header" href="#web開発">Web開発</a></h3>
<ul>
<li><strong>JavaScript</strong>: Webページに動きを付ける</li>
<li><strong>HTML/CSS</strong>: Webページの見た目を作る</li>
<li><strong>PHP</strong>: サーバー側の処理を担当</li>
</ul>
<h3 id="スマートフォンアプリ"><a class="header" href="#スマートフォンアプリ">スマートフォンアプリ</a></h3>
<ul>
<li><strong>Swift</strong>: iPhoneアプリの開発</li>
<li><strong>Kotlin</strong>: Androidアプリの開発</li>
<li><strong>Dart</strong>: iOS・Android両方で動くアプリ（Flutter）</li>
</ul>
<h3 id="汎用的な用途"><a class="header" href="#汎用的な用途">汎用的な用途</a></h3>
<ul>
<li><strong>Python</strong>: データ分析、AI、Web開発など幅広い用途</li>
<li><strong>Java</strong>: 企業システム、Androidアプリ</li>
<li><strong>C++</strong>: 高速処理が必要なソフトウェア</li>
</ul>
<h3 id="学習向け"><a class="header" href="#学習向け">学習向け</a></h3>
<ul>
<li><strong>Scratch</strong>: 子供向けのビジュアルプログラミング</li>
<li><strong>Python</strong>: 読みやすく書きやすい文法</li>
</ul>
<h2 id="プログラミング言語の共通点"><a class="header" href="#プログラミング言語の共通点">プログラミング言語の共通点</a></h2>
<p>様々なプログラミング言語がありますが、どの言語にも共通する基本的な要素があります：</p>
<h3 id="1-データを扱う仕組み"><a class="header" href="#1-データを扱う仕組み">1. データを扱う仕組み</a></h3>
<p>数字、文字、真偽値（正しい/間違い）などのデータを記録し、操作する方法</p>
<h3 id="2-計算を行う仕組み"><a class="header" href="#2-計算を行う仕組み">2. 計算を行う仕組み</a></h3>
<p>足し算、引き算、比較などの基本的な演算を行う方法</p>
<h3 id="3-条件によって処理を変える仕組み"><a class="header" href="#3-条件によって処理を変える仕組み">3. 条件によって処理を変える仕組み</a></h3>
<p>「もし〜なら〜をする」という条件分岐の仕組み</p>
<h3 id="4-繰り返し処理の仕組み"><a class="header" href="#4-繰り返し処理の仕組み">4. 繰り返し処理の仕組み</a></h3>
<p>同じ処理を何度も実行する仕組み</p>
<h3 id="5-処理をまとめる仕組み"><a class="header" href="#5-処理をまとめる仕組み">5. 処理をまとめる仕組み</a></h3>
<p>関連する処理をひとまとめにして、名前を付けて呼び出せる仕組み</p>
<h2 id="言語を選ぶ基準"><a class="header" href="#言語を選ぶ基準">言語を選ぶ基準</a></h2>
<p>プログラミング言語を選ぶときの基準：</p>
<h3 id="1-作りたいものに適しているか"><a class="header" href="#1-作りたいものに適しているか">1. 作りたいものに適しているか</a></h3>
<ul>
<li>Webサイトを作りたい → JavaScript、Python</li>
<li>スマホアプリを作りたい → Dart、Swift、Kotlin</li>
<li>データ分析をしたい → Python、R</li>
</ul>
<h3 id="2-学習しやすいか"><a class="header" href="#2-学習しやすいか">2. 学習しやすいか</a></h3>
<ul>
<li>初心者に優しい文法か</li>
<li>情報や教材が豊富か</li>
<li>コミュニティが活発か</li>
</ul>
<h3 id="3-将来性があるか"><a class="header" href="#3-将来性があるか">3. 将来性があるか</a></h3>
<ul>
<li>需要が高い分野で使われているか</li>
<li>継続的に発展している言語か</li>
</ul>
<h2 id="プログラミング言語と自然言語の違い"><a class="header" href="#プログラミング言語と自然言語の違い">プログラミング言語と自然言語の違い</a></h2>
<p>私たちが普段使う日本語と、プログラミング言語には大きな違いがあります：</p>
<div class="table-wrapper"><table><thead><tr><th>特徴</th><th>自然言語（日本語）</th><th>プログラミング言語</th></tr></thead><tbody>
<tr><td><strong>曖昧さ</strong></td><td>文脈で理解できる</td><td>厳密で明確である必要がある</td></tr>
<tr><td><strong>文法</strong></td><td>多少間違っても通じる</td><td>正確でなければエラーになる</td></tr>
<tr><td><strong>表現</strong></td><td>感情や感覚も表現できる</td><td>論理的な処理のみ</td></tr>
<tr><td><strong>学習</strong></td><td>自然に身につく</td><td>意識的に学習が必要</td></tr>
</tbody></table>
</div>
<h2 id="まとめ-1"><a class="header" href="#まとめ-1">まとめ</a></h2>
<ul>
<li>プログラミング言語は人間とコンピュータの通訳役</li>
<li>0と1しか理解できないコンピュータに、人間が理解しやすい形で指示を出せる</li>
<li>用途に応じて多くの種類があるが、基本的な考え方は共通している</li>
<li>作りたいものや学習のしやすさを考慮して言語を選ぶことが重要</li>
</ul>
<p>次の節では、数あるプログラミング言語の中から、なぜ「Dart」を選んで学ぶのかについて説明します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="13-なぜdartを学ぶのか-1"><a class="header" href="#13-なぜdartを学ぶのか-1">1.3 なぜDartを学ぶのか</a></h1>
<h2 id="dartとは何か"><a class="header" href="#dartとは何か">Dartとは何か</a></h2>
<p><strong>Dart</strong>は、Google社が開発したプログラミング言語です。2011年に最初のバージョンが発表され、現在では世界中の多くの開発者に使われています。</p>
<p>Dartは特に「<strong>Flutter</strong>」というフレームワークと組み合わせることで、iOS・Android両方で動くモバイルアプリを一つのコードで作れることで注目を集めています。</p>
<h2 id="初学者にとってのdartの魅力"><a class="header" href="#初学者にとってのdartの魅力">初学者にとってのDartの魅力</a></h2>
<h3 id="1-読みやすい文法"><a class="header" href="#1-読みやすい文法">1. 読みやすい文法</a></h3>
<p>Dartの文法は、英語に近い自然な表現で書くことができます。</p>
<pre><code class="language-javascript">// 他の人に挨拶をする
void greet(String name) {
  print('Hello, $name!');
}
</code></pre>
<p>上のコードを見ても、プログラミングを知らない人でも何となく意味が分かるのではないでしょうか。</p>
<h3 id="2-型安全性と学習支援"><a class="header" href="#2-型安全性と学習支援">2. 型安全性と学習支援</a></h3>
<p>Dartは「型」という概念を持っており、データの種類を明確にすることで間違いを防いでくれます。初学者がよく間違える部分を、コンピュータが事前に教えてくれるのです。</p>
<pre><code class="language-javascript">int age = 20;        // 整数
String name = "田中"; // 文字列
bool isStudent = true; // 真偽値
</code></pre>
<h3 id="3-豊富な学習リソース"><a class="header" href="#3-豊富な学習リソース">3. 豊富な学習リソース</a></h3>
<ul>
<li>公式ドキュメントが充実している</li>
<li>オンラインで無料で試せる「DartPad」がある</li>
<li>日本語の情報も増えてきている</li>
</ul>
<h3 id="4-段階的な学習が可能"><a class="header" href="#4-段階的な学習が可能">4. 段階的な学習が可能</a></h3>
<p>Dartは、簡単なプログラムから複雑なアプリまで、段階的に学習を進められる言語です。最初は基本的な計算から始めて、最終的にはスマートフォンアプリまで作れるようになります。</p>
<h2 id="dartの実用性"><a class="header" href="#dartの実用性">Dartの実用性</a></h2>
<h3 id="モバイルアプリ開発の未来"><a class="header" href="#モバイルアプリ開発の未来">モバイルアプリ開発の未来</a></h3>
<p>現在、スマートフォンアプリを作るためには：</p>
<ul>
<li><strong>iPhoneアプリ</strong>: Swift言語でiOS用のコードを書く</li>
<li><strong>Androidアプリ</strong>: Kotlin言語でAndroid用のコードを書く</li>
</ul>
<p>つまり、両方の環境で動くアプリを作るには、2つの言語を学び、2つのアプリを作る必要がありました。</p>
<p>しかし、<strong>DartとFlutter</strong>を使えば：</p>
<ul>
<li>一つの言語（Dart）で</li>
<li>一つのコードを書くだけで</li>
<li>iOS・Android両方で動くアプリが作れる</li>
</ul>
<p>これは開発効率を大幅に向上させる革新的な技術です。</p>
<h3 id="具体的な活用例"><a class="header" href="#具体的な活用例">具体的な活用例</a></h3>
<p>Dart/Flutterで作られた有名なアプリには以下があります：</p>
<ul>
<li><strong>Google Pay</strong>: Googleの決済アプリ</li>
<li><strong>BMW</strong>: 車の制御アプリ</li>
<li><strong>eBay Motors</strong>: 中古車売買アプリ</li>
<li><strong>Alibaba</strong>: 中国の大手ECサイトのアプリ</li>
</ul>
<p>これらの例を見ると、Dartが「学習用の言語」ではなく、実際のビジネスで使われている「実用的な言語」であることが分かります。</p>
<h2 id="他の言語と比べたdartの特徴"><a class="header" href="#他の言語と比べたdartの特徴">他の言語と比べたDartの特徴</a></h2>
<h3 id="python-との比較"><a class="header" href="#python-との比較">Python との比較</a></h3>
<div class="table-wrapper"><table><thead><tr><th>特徴</th><th>Python</th><th>Dart</th></tr></thead><tbody>
<tr><td><strong>学習しやすさ</strong></td><td>★★★★★</td><td>★★★★☆</td></tr>
<tr><td><strong>モバイルアプリ</strong></td><td>△</td><td>★★★★★</td></tr>
<tr><td><strong>実行速度</strong></td><td>★★☆☆☆</td><td>★★★★☆</td></tr>
<tr><td><strong>将来性</strong></td><td>★★★★★</td><td>★★★★☆</td></tr>
</tbody></table>
</div>
<h3 id="javascript-との比較"><a class="header" href="#javascript-との比較">JavaScript との比較</a></h3>
<div class="table-wrapper"><table><thead><tr><th>特徴</th><th>JavaScript</th><th>Dart</th></tr></thead><tbody>
<tr><td><strong>Web開発</strong></td><td>★★★★★</td><td>★★★☆☆</td></tr>
<tr><td><strong>型安全性</strong></td><td>★★☆☆☆</td><td>★★★★★</td></tr>
<tr><td><strong>モバイルアプリ</strong></td><td>★★★☆☆</td><td>★★★★★</td></tr>
<tr><td><strong>学習の難易度</strong></td><td>★★★☆☆</td><td>★★★★☆</td></tr>
</tbody></table>
</div>
<h2 id="なぜ最初の言語としてdartが良いのか"><a class="header" href="#なぜ最初の言語としてdartが良いのか">なぜ最初の言語としてDartが良いのか</a></h2>
<h3 id="1-現代的な言語設計"><a class="header" href="#1-現代的な言語設計">1. 現代的な言語設計</a></h3>
<p>Dartは比較的新しい言語のため、過去の言語の問題点を解決した現代的な設計になっています。古い言語にありがちな「歴史的な事情による複雑さ」がありません。</p>
<h3 id="2-一つの言語で多くのことができる"><a class="header" href="#2-一つの言語で多くのことができる">2. 一つの言語で多くのことができる</a></h3>
<ul>
<li>コンソールアプリケーション</li>
<li>Webアプリケーション</li>
<li>モバイルアプリケーション</li>
<li>デスクトップアプリケーション</li>
</ul>
<p>最初に学んだ一つの言語で、様々な種類のプログラムを作れるのは学習のモチベーション維持につながります。</p>
<h3 id="3-エラーメッセージが親切"><a class="header" href="#3-エラーメッセージが親切">3. エラーメッセージが親切</a></h3>
<p>初心者がプログラムを書くとき、必ずエラー（間違い）が発生します。Dartは、エラーが起きたときの説明が分かりやすく、どこを直せば良いかを具体的に教えてくれます。</p>
<h3 id="4-開発環境が整っている"><a class="header" href="#4-開発環境が整っている">4. 開発環境が整っている</a></h3>
<ul>
<li><strong>DartPad</strong>: ブラウザ上で手軽にDartを試せる</li>
<li><strong>Visual Studio Code</strong>: 無料で高機能な開発環境</li>
<li><strong>豊富なサンプルコード</strong>: 公式サイトに多くの例が掲載</li>
</ul>
<h2 id="学習後の発展性"><a class="header" href="#学習後の発展性">学習後の発展性</a></h2>
<p>Dartを学んだ後の発展の道筋：</p>
<h3 id="短期的な目標3-6ヶ月"><a class="header" href="#短期的な目標3-6ヶ月">短期的な目標（3-6ヶ月）</a></h3>
<ol>
<li>基本的なDartプログラムが書ける</li>
<li>簡単な計算プログラムやゲームが作れる</li>
<li>オブジェクト指向の基本概念を理解できる</li>
</ol>
<h3 id="中期的な目標6ヶ月-1年"><a class="header" href="#中期的な目標6ヶ月-1年">中期的な目標（6ヶ月-1年）</a></h3>
<ol>
<li>Flutterを使ったモバイルアプリ開発</li>
<li>データベースを使ったアプリの作成</li>
<li>Web APIを利用したアプリの開発</li>
</ol>
<h3 id="長期的な目標1年以上"><a class="header" href="#長期的な目標1年以上">長期的な目標（1年以上）</a></h3>
<ol>
<li>実際のビジネスで使えるアプリの開発</li>
<li>他の言語（Python、JavaScript等）への発展</li>
<li>システム設計や技術選択ができるエンジニアへの成長</li>
</ol>
<h2 id="現在のトレンドとdart"><a class="header" href="#現在のトレンドとdart">現在のトレンドとDart</a></h2>
<h3 id="プログラミング教育の変化"><a class="header" href="#プログラミング教育の変化">プログラミング教育の変化</a></h3>
<p>近年、プログラミング教育では「実用性」が重視されるようになっています。学習のためだけの言語ではなく、実際の仕事で使われている言語を学ぶことが推奨されています。</p>
<h3 id="モバイルファーストの時代"><a class="header" href="#モバイルファーストの時代">モバイルファーストの時代</a></h3>
<p>現在はスマートフォンが主要なコンピューティングデバイスとなっています。モバイルアプリ開発に特化したDartを学ぶことは、時代の流れに合った選択と言えます。</p>
<h3 id="google-のサポート"><a class="header" href="#google-のサポート">Google のサポート</a></h3>
<p>Dartは Google が開発・維持している言語のため、継続的な改善と長期的なサポートが期待できます。</p>
<h2 id="まとめ-2"><a class="header" href="#まとめ-2">まとめ</a></h2>
<p>Dartを最初のプログラミング言語として選ぶ理由：</p>
<ul>
<li><strong>初学者に優しい</strong>: 読みやすい文法と親切なエラーメッセージ</li>
<li><strong>実用性が高い</strong>: 実際のビジネスで使われている現役の言語</li>
<li><strong>将来性がある</strong>: モバイルアプリ開発という成長分野での需要</li>
<li><strong>学習環境が整っている</strong>: 無料のツールと豊富な学習リソース</li>
<li><strong>発展性がある</strong>: 一つの言語で様々な種類のアプリケーションが作れる</li>
</ul>
<p>次の節では、実際にDartプログラムを書くための開発環境「DartPad」の使い方を学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="14-開発環境の準備dartpadの使い方-1"><a class="header" href="#14-開発環境の準備dartpadの使い方-1">1.4 開発環境の準備（DartPadの使い方）</a></h1>
<h2 id="プログラミングを始める前に"><a class="header" href="#プログラミングを始める前に">プログラミングを始める前に</a></h2>
<p>プログラミングを学ぶためには、コードを書いて実行できる環境が必要です。通常、プログラミング言語を使うには複雑なソフトウェアのインストールが必要ですが、Dartの場合は<strong>DartPad</strong>という素晴らしいツールがあります。</p>
<p><strong>DartPad</strong>は、ブラウザ上でDartプログラムを書いて実行できる無料のオンラインエディタです。何もインストールする必要がなく、インターネットに接続されたコンピュータがあれば、すぐにプログラミングを始められます。</p>
<h2 id="dartpadにアクセスしよう"><a class="header" href="#dartpadにアクセスしよう">DartPadにアクセスしよう</a></h2>
<h3 id="ステップ1-ブラウザでアクセス"><a class="header" href="#ステップ1-ブラウザでアクセス">ステップ1: ブラウザでアクセス</a></h3>
<p>お使いのWebブラウザ（Chrome、Firefox、Safari、Edgeなど）で以下のURLにアクセスしてください：</p>
<p><strong>https://dartpad.dev/</strong></p>
<h3 id="ステップ2-画面の確認"><a class="header" href="#ステップ2-画面の確認">ステップ2: 画面の確認</a></h3>
<p>DartPadが読み込まれると、以下のような画面が表示されます：</p>
<pre><code>┌─────────────────────────────────────┐
│ DartPad                             │
├─────────────────────────────────────┤
│ コードエディタ（左側）  │ 実行結果（右側） │
│                        │              │
│ void main() {          │              │
│   print('Hello');      │              │
│ }                      │              │
│                        │              │
├─────────────────────────────────────┤
│ [▶ Run] [Format] [Reset] [Share]    │
└─────────────────────────────────────┘
</code></pre>
<h2 id="dartpadの画面構成"><a class="header" href="#dartpadの画面構成">DartPadの画面構成</a></h2>
<h3 id="1-コードエディタ左側"><a class="header" href="#1-コードエディタ左側">1. コードエディタ（左側）</a></h3>
<p>ここにDartのプログラムコードを入力します。既に簡単なサンプルコードが入力されているはずです。</p>
<h3 id="2-実行結果表示エリア右側"><a class="header" href="#2-実行結果表示エリア右側">2. 実行結果表示エリア（右側）</a></h3>
<p>プログラムを実行したときの結果がここに表示されます。</p>
<h3 id="3-操作ボタン"><a class="header" href="#3-操作ボタン">3. 操作ボタン</a></h3>
<ul>
<li><strong>Run（▶）</strong>: プログラムを実行する</li>
<li><strong>Format</strong>: コードを整形する（見やすく並べ直す）</li>
<li><strong>Reset</strong>: コードを初期状態に戻す</li>
<li><strong>Share</strong>: 作成したプログラムを他の人と共有する</li>
</ul>
<h2 id="最初のプログラムを実行してみよう"><a class="header" href="#最初のプログラムを実行してみよう">最初のプログラムを実行してみよう</a></h2>
<p>DartPadを開いたとき、既に以下のようなプログラムが入力されているはずです：</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<h3 id="実行方法"><a class="header" href="#実行方法">実行方法</a></h3>
<ol>
<li><strong>「Run」ボタン</strong>（▶マーク）をクリックします</li>
<li>右側の実行結果エリアに「Hello, World!」と表示されれば成功です</li>
</ol>
<h3 id="プログラムの説明"><a class="header" href="#プログラムの説明">プログラムの説明</a></h3>
<ul>
<li><code>void main() { }</code>: プログラムの開始点を示します</li>
<li><code>print('Hello, World!');</code>: 文字列を画面に表示する命令です</li>
<li>セミコロン（;）: Dartでは文の終わりにセミコロンを付けます</li>
</ul>
<h2 id="dartpadでプログラムを書いてみよう"><a class="header" href="#dartpadでプログラムを書いてみよう">DartPadでプログラムを書いてみよう</a></h2>
<h3 id="演習1-メッセージを変更してみる"><a class="header" href="#演習1-メッセージを変更してみる">演習1: メッセージを変更してみる</a></h3>
<ol>
<li><code>'Hello, World!'</code> の部分を <code>'こんにちは、Dart!'</code> に変更してみましょう</li>
<li>Runボタンを押して、表示が変わることを確認しましょう</li>
</ol>
<pre><code class="language-javascript">void main() {
  print('こんにちは、Dart!');
}
</code></pre>
<h3 id="演習2-複数のメッセージを表示する"><a class="header" href="#演習2-複数のメッセージを表示する">演習2: 複数のメッセージを表示する</a></h3>
<p><code>print</code>文を複数行書くことで、複数のメッセージを表示できます：</p>
<pre><code class="language-javascript">void main() {
  print('プログラミングの学習を始めます');
  print('今日はDartについて学びます');
  print('一緒に頑張りましょう！');
}
</code></pre>
<h3 id="演習3-簡単な計算をしてみる"><a class="header" href="#演習3-簡単な計算をしてみる">演習3: 簡単な計算をしてみる</a></h3>
<p>Dartでは数値の計算もできます：</p>
<pre><code class="language-javascript">void main() {
  print(5 + 3);
  print(10 * 2);
  print(20 / 4);
}
</code></pre>
<h2 id="エラーが発生したときの対処法"><a class="header" href="#エラーが発生したときの対処法">エラーが発生したときの対処法</a></h2>
<p>プログラムを書いていると、必ずエラー（間違い）が発生します。DartPadでエラーが起きたときの見方を覚えておきましょう。</p>
<h3 id="よくあるエラーの例"><a class="header" href="#よくあるエラーの例">よくあるエラーの例</a></h3>
<h4 id="1-セミコロンの忘れ"><a class="header" href="#1-セミコロンの忘れ">1. セミコロンの忘れ</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello')  // セミコロンが抜けている
}
</code></pre>
<p><strong>エラーメッセージ</strong>: 「Expected to find ';'」
<strong>解決方法</strong>: 行の終わりにセミコロン（;）を追加する</p>
<h4 id="2-括弧の不一致"><a class="header" href="#2-括弧の不一致">2. 括弧の不一致</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello';  // 閉じ括弧が抜けている
}
</code></pre>
<p><strong>エラーメッセージ</strong>: 「Expected to find ')'」
<strong>解決方法</strong>: 開き括弧と閉じ括弧の数を確認する</p>
<h4 id="3-引用符の不一致"><a class="header" href="#3-引用符の不一致">3. 引用符の不一致</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello, World!");  // 引用符が混在している
}
</code></pre>
<p><strong>エラーメッセージ</strong>: 「Unterminated string literal」
<strong>解決方法</strong>: 文字列の開始と終了で同じ引用符を使う</p>
<h3 id="エラーの読み方"><a class="header" href="#エラーの読み方">エラーの読み方</a></h3>
<p>DartPadでエラーが発生すると、以下の情報が表示されます：</p>
<ol>
<li><strong>エラーの種類</strong>: どんな間違いかの説明</li>
<li><strong>行番号</strong>: エラーが発生した行</li>
<li><strong>列番号</strong>: エラーが発生した位置</li>
</ol>
<p>落ち着いてエラーメッセージを読み、該当する場所を確認して修正しましょう。</p>
<h2 id="dartpadの便利な機能"><a class="header" href="#dartpadの便利な機能">DartPadの便利な機能</a></h2>
<h3 id="1-コードの自動整形"><a class="header" href="#1-コードの自動整形">1. コードの自動整形</a></h3>
<p>「Format」ボタンを押すと、コードが見やすく整理されます。特にインデント（字下げ）が自動で調整されます。</p>
<h3 id="2-リアルタイムエラー表示"><a class="header" href="#2-リアルタイムエラー表示">2. リアルタイムエラー表示</a></h3>
<p>コードを入力している最中に、エラーがある部分が赤い波線で表示されます。</p>
<h3 id="3-コード補完"><a class="header" href="#3-コード補完">3. コード補完</a></h3>
<p>入力を始めると、続きの候補が表示されることがあります。Tabキーで選択できます。</p>
<h3 id="4-作品の保存と共有"><a class="header" href="#4-作品の保存と共有">4. 作品の保存と共有</a></h3>
<p>「Share」ボタンを押すと、作成したプログラムのURLが生成されます。このURLを保存しておけば、後で同じプログラムを開くことができます。</p>
<h2 id="学習を効率的に進めるコツ"><a class="header" href="#学習を効率的に進めるコツ">学習を効率的に進めるコツ</a></h2>
<h3 id="1-こまめに実行する"><a class="header" href="#1-こまめに実行する">1. こまめに実行する</a></h3>
<p>コードを少し書いたら、すぐにRunボタンを押して動作を確認しましょう。小さな変更でも実行して、どんな結果になるか試してみることが重要です。</p>
<h3 id="2-エラーを恐れない"><a class="header" href="#2-エラーを恐れない">2. エラーを恐れない</a></h3>
<p>エラーは「失敗」ではなく「学習の機会」です。エラーメッセージを読んで、何が問題だったのかを理解することで、プログラミングスキルが向上します。</p>
<h3 id="3-実験してみる"><a class="header" href="#3-実験してみる">3. 実験してみる</a></h3>
<p>教材通りにコードを入力するだけでなく、「もしこう書いたらどうなるだろう？」という好奇心を持って、色々な変更を試してみましょう。</p>
<h3 id="4-メモを残す"><a class="header" href="#4-メモを残す">4. メモを残す</a></h3>
<p>面白い発見やよく使うコードパターンは、別途メモに残しておくと後で役立ちます。</p>
<h2 id="次のステップに向けて"><a class="header" href="#次のステップに向けて">次のステップに向けて</a></h2>
<p>DartPadの使い方に慣れたら、以下のことを試してみましょう：</p>
<ol>
<li><strong>様々な計算</strong>: 足し算だけでなく、引き算、掛け算、割り算</li>
<li><strong>文字列の操作</strong>: 文字列の結合や表示方法の変更</li>
<li><strong>変数の使用</strong>: 値を保存して再利用する</li>
<li><strong>条件分岐</strong>: 条件によって処理を変える</li>
</ol>
<h2 id="まとめ-3"><a class="header" href="#まとめ-3">まとめ</a></h2>
<ul>
<li><strong>DartPad</strong>は、ブラウザでDartプログラムを実行できる無料ツール</li>
<li>インストール不要で、すぐにプログラミングを始められる</li>
<li><strong>Run</strong>ボタンでプログラムを実行し、結果を確認できる</li>
<li>エラーが発生しても、メッセージを読んで冷静に対処する</li>
<li>こまめに実行して、実験精神を持って学習を進める</li>
</ul>
<p>次の節では、プログラミングの伝統的な最初のプログラム「Hello, World!」について詳しく学び、実際にDartPadで作成してみます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="15-はじめてのプログラムhello-world-1"><a class="header" href="#15-はじめてのプログラムhello-world-1">1.5 はじめてのプログラム「Hello, World!」</a></h1>
<h2 id="hello-worldの伝統"><a class="header" href="#hello-worldの伝統">「Hello, World!」の伝統</a></h2>
<p>プログラミングの世界には、新しい言語を学ぶ際に「<strong>Hello, World!</strong>」というメッセージを画面に表示するプログラムを最初に作るという伝統があります。</p>
<p>この伝統は1978年、ブライアン・カーニハンとデニス・リッチーが書いた『The C Programming Language』という本から始まりました。以来40年以上にわたって、世界中のプログラマーが最初のプログラムとして「Hello, World!」を作成しています。</p>
<h2 id="なぜhello-worldなのか"><a class="header" href="#なぜhello-worldなのか">なぜ「Hello, World!」なのか</a></h2>
<h3 id="1-シンプルで理解しやすい"><a class="header" href="#1-シンプルで理解しやすい">1. シンプルで理解しやすい</a></h3>
<p>複雑な計算やロジックを使わず、文字列の表示という最も基本的な機能だけを使うため、初心者でも理解しやすい内容です。</p>
<h3 id="2-開発環境の動作確認"><a class="header" href="#2-開発環境の動作確認">2. 開発環境の動作確認</a></h3>
<p>プログラムが正しく実行されることで、開発環境（DartPadなど）が正しく動作していることを確認できます。</p>
<h3 id="3-達成感を得られる"><a class="header" href="#3-達成感を得られる">3. 達成感を得られる</a></h3>
<p>初めてプログラムが動いたときの感動は、その後の学習のモチベーションになります。</p>
<h3 id="4-世界共通の最初の一歩"><a class="header" href="#4-世界共通の最初の一歩">4. 世界共通の最初の一歩</a></h3>
<p>世界中のプログラマーが通る道なので、プログラミングコミュニティの一員になったという実感を得られます。</p>
<h2 id="dartでhello-worldを作ってみよう"><a class="header" href="#dartでhello-worldを作ってみよう">DartでHello, World!を作ってみよう</a></h2>
<h3 id="プログラムの作成"><a class="header" href="#プログラムの作成">プログラムの作成</a></h3>
<p>DartPad（https://dartpad.dev/）を開いて、以下のコードを入力してください：</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<h3 id="実行してみよう"><a class="header" href="#実行してみよう">実行してみよう</a></h3>
<ol>
<li>コードを入力したら、<strong>「Run」ボタン</strong>（▶）をクリックします</li>
<li>右側の実行結果エリアに「Hello, World!」と表示されれば成功です！</li>
</ol>
<p><strong>おめでとうございます！これがあなたの最初のDartプログラムです。</strong></p>
<h2 id="プログラムを詳しく解説"><a class="header" href="#プログラムを詳しく解説">プログラムを詳しく解説</a></h2>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<h3 id="1行目-void-main-"><a class="header" href="#1行目-void-main-">1行目: <code>void main() {</code></a></h3>
<ul>
<li><strong><code>void</code></strong>: このプログラムが値を返さないことを表します</li>
<li><strong><code>main</code></strong>: プログラムの開始点（エントリーポイント）の名前</li>
<li><strong><code>()</code></strong>: この関数が引数（外部からの値）を受け取らないことを表します</li>
<li><strong><code>{</code></strong>: プログラムの処理内容の開始を示します</li>
</ul>
<h3 id="2行目-printhello-world"><a class="header" href="#2行目-printhello-world">2行目: <code>print('Hello, World!');</code></a></h3>
<ul>
<li><strong><code>print</code></strong>: 画面に文字を表示するための命令（関数）</li>
<li><strong><code>(</code></strong>: 関数に渡す値の開始を示します</li>
<li><strong><code>'Hello, World!'</code></strong>: 表示したい文字列（シングルクォートで囲みます）</li>
<li><strong><code>)</code></strong>: 関数に渡す値の終了を示します</li>
<li><strong><code>;</code></strong>: 命令の終了を示します（セミコロン）</li>
</ul>
<h3 id="3行目-"><a class="header" href="#3行目-">3行目: <code>}</code></a></h3>
<p>プログラムの処理内容の終了を示します</p>
<h2 id="様々なメッセージを表示してみよう"><a class="header" href="#様々なメッセージを表示してみよう">様々なメッセージを表示してみよう</a></h2>
<h3 id="日本語メッセージ"><a class="header" href="#日本語メッセージ">日本語メッセージ</a></h3>
<pre><code class="language-javascript">void main() {
  print('こんにちは、世界！');
}
</code></pre>
<h3 id="自分の名前を表示"><a class="header" href="#自分の名前を表示">自分の名前を表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('私の名前は田中太郎です');
}
</code></pre>
<h3 id="複数行のメッセージ"><a class="header" href="#複数行のメッセージ">複数行のメッセージ</a></h3>
<pre><code class="language-javascript">void main() {
  print('プログラミング学習を始めました');
  print('今日からDartを覚えます');
  print('頑張ります！');
}
</code></pre>
<h2 id="引用符の使い方"><a class="header" href="#引用符の使い方">引用符の使い方</a></h2>
<p>Dartでは文字列を表現するために引用符を使います。</p>
<h3 id="シングルクォート推奨"><a class="header" href="#シングルクォート推奨">シングルクォート（推奨）</a></h3>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<h3 id="ダブルクォート"><a class="header" href="#ダブルクォート">ダブルクォート</a></h3>
<pre><code class="language-javascript">void main() {
  print("Hello, World!");
}
</code></pre>
<h3 id="注意事項"><a class="header" href="#注意事項">注意事項</a></h3>
<p>開始と終了で同じ種類の引用符を使う必要があります：</p>
<pre><code class="language-javascript">// 正しい例
print('Hello, World!');
print("Hello, World!");

// 間違い例（エラーになる）
print('Hello, World!");  // 開始がシングル、終了がダブル
print("Hello, World!');  // 開始がダブル、終了がシングル
</code></pre>
<h2 id="プログラムをカスタマイズしてみよう"><a class="header" href="#プログラムをカスタマイズしてみよう">プログラムをカスタマイズしてみよう</a></h2>
<h3 id="演習1-挨拶プログラム"><a class="header" href="#演習1-挨拶プログラム">演習1: 挨拶プログラム</a></h3>
<p>朝、昼、夜の挨拶を表示するプログラムを作ってみましょう：</p>
<pre><code class="language-javascript">void main() {
  print('おはようございます');
  print('こんにちは');
  print('こんばんは');
}
</code></pre>
<h3 id="演習2-自己紹介プログラム"><a class="header" href="#演習2-自己紹介プログラム">演習2: 自己紹介プログラム</a></h3>
<p>自分について3つの情報を表示するプログラムを作ってみましょう：</p>
<pre><code class="language-javascript">void main() {
  print('名前: 田中太郎');
  print('年齢: 16歳');
  print('趣味: プログラミング');
}
</code></pre>
<h3 id="演習3-学習計画プログラム"><a class="header" href="#演習3-学習計画プログラム">演習3: 学習計画プログラム</a></h3>
<p>これから学びたいことを表示するプログラムを作ってみましょう：</p>
<pre><code class="language-javascript">void main() {
  print('=== 学習計画 ===');
  print('1. 変数の使い方');
  print('2. 条件分岐');
  print('3. 繰り返し処理');
  print('4. 関数の作り方');
  print('5. アプリ開発');
}
</code></pre>
<h2 id="よくある間違いとその対処法"><a class="header" href="#よくある間違いとその対処法">よくある間違いとその対処法</a></h2>
<h3 id="1-セミコロンの忘れ-1"><a class="header" href="#1-セミコロンの忘れ-1">1. セミコロンの忘れ</a></h3>
<pre><code class="language-javascript">// 間違い
void main() {
  print('Hello, World!')  // セミコロンがない
}

// 正しい
void main() {
  print('Hello, World!');  // セミコロンをつける
}
</code></pre>
<h3 id="2-括弧の数が合わない"><a class="header" href="#2-括弧の数が合わない">2. 括弧の数が合わない</a></h3>
<pre><code class="language-javascript">// 間違い
void main() {
  print('Hello, World!';  // 閉じ括弧がない
}

// 正しい
void main() {
  print('Hello, World!');  // 括弧の数を合わせる
}
</code></pre>
<h3 id="3-中括弧の数が合わない"><a class="header" href="#3-中括弧の数が合わない">3. 中括弧の数が合わない</a></h3>
<pre><code class="language-javascript">// 間違い
void main() {
  print('Hello, World!');
// 閉じ中括弧がない

// 正しい
void main() {
  print('Hello, World!');
}  // 閉じ中括弧をつける
</code></pre>
<h2 id="プログラムの実行順序"><a class="header" href="#プログラムの実行順序">プログラムの実行順序</a></h2>
<p>プログラムは<strong>上から下へ順番に</strong>実行されます：</p>
<pre><code class="language-javascript">void main() {
  print('1番目の処理');
  print('2番目の処理');
  print('3番目の処理');
}
</code></pre>
<p>実行結果：</p>
<pre><code>1番目の処理
2番目の処理
3番目の処理
</code></pre>
<p>この順序は非常に重要で、プログラミングの基本原則の一つです。</p>
<h2 id="コメントを追加してみよう"><a class="header" href="#コメントを追加してみよう">コメントを追加してみよう</a></h2>
<p>プログラムに<strong>コメント</strong>（説明文）を追加することができます。コメントはプログラムの実行には影響しませんが、コードを理解しやすくします。</p>
<h3 id="1行コメント"><a class="header" href="#1行コメント">1行コメント</a></h3>
<pre><code class="language-javascript">void main() {
  // これはコメントです。プログラムには影響しません
  print('Hello, World!');  // 行の途中でもコメントが書けます
}
</code></pre>
<h3 id="複数行コメント"><a class="header" href="#複数行コメント">複数行コメント</a></h3>
<pre><code class="language-javascript">void main() {
  /*
   これは複数行のコメントです。
   何行でも書くことができます。
   プログラムの説明を詳しく書くときに使います。
   */
  print('Hello, World!');
}
</code></pre>
<h2 id="発展練習-創作プログラム"><a class="header" href="#発展練習-創作プログラム">発展練習: 創作プログラム</a></h2>
<p>今まで学んだことを使って、創作的なプログラムを作ってみましょう：</p>
<h3 id="アスキーアート"><a class="header" href="#アスキーアート">アスキーアート</a></h3>
<pre><code class="language-javascript">void main() {
  print('  /\\_/\\  ');
  print(' ( o.o ) ');
  print('  &gt; ^ &lt;  ');
  print('ネコちゃんだよ！');
}
</code></pre>
<h3 id="詩や歌詞"><a class="header" href="#詩や歌詞">詩や歌詞</a></h3>
<pre><code class="language-javascript">void main() {
  print('🌟 きらきら星 🌟');
  print('');
  print('きらきら ひかる');
  print('おそらの ほしよ');
  print('まばたき しては');
  print('みんなを みてる');
}
</code></pre>
<h3 id="計算結果の表示"><a class="header" href="#計算結果の表示">計算結果の表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('簡単な計算をしてみましょう');
  print('');
  print('5 + 3 = ');
  print(5 + 3);
  print('');
  print('10 × 7 = ');
  print(10 * 7);
}
</code></pre>
<h2 id="次のステップに向けて-1"><a class="header" href="#次のステップに向けて-1">次のステップに向けて</a></h2>
<p>「Hello, World!」プログラムが成功したら、次の学習に進む準備ができています：</p>
<h3 id="第2章で学ぶこと"><a class="header" href="#第2章で学ぶこと">第2章で学ぶこと</a></h3>
<ol>
<li><strong>プログラムの構造</strong>をより詳しく理解する</li>
<li><strong>コメント</strong>の効果的な書き方</li>
<li><strong>print文</strong>の高度な使い方</li>
<li><strong>エラー</strong>の読み方と対処法</li>
</ol>
<h3 id="学習のコツ"><a class="header" href="#学習のコツ">学習のコツ</a></h3>
<ol>
<li><strong>手を動かす</strong>: 読むだけでなく、実際にコードを入力して実行する</li>
<li><strong>変更して試す</strong>: 例を少しずつ変更して、どんな結果になるか実験する</li>
<li><strong>エラーを恐れない</strong>: 間違いは学習の重要な一部です</li>
<li><strong>楽しむ</strong>: プログラミングは創造的で楽しい活動です</li>
</ol>
<h2 id="まとめ-4"><a class="header" href="#まとめ-4">まとめ</a></h2>
<p>この節では以下のことを学びました：</p>
<ul>
<li>**「Hello, World!」**はプログラミング学習の伝統的な最初のプログラム</li>
<li><strong>DartPad</strong>を使って実際にプログラムを作成・実行できた</li>
<li><strong>プログラムの基本構造</strong>（main関数、print文、セミコロンなど）を理解した</li>
<li><strong>エラーの対処法</strong>と<strong>コメントの書き方</strong>を覚えた</li>
<li><strong>創造的なプログラム</strong>を作ることで表現力を身につけた</li>
</ul>
<p><strong>あなたは今、プログラマーへの第一歩を踏み出しました！</strong></p>
<p>この成功体験を大切にして、次の章でさらに深くプログラミングの世界を探求していきましょう。プログラミングは、あなたの創造力を現実のものにする強力な道具です。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第2章プログラムの基本要素"><a class="header" href="#第2章プログラムの基本要素">第2章：プログラムの基本要素</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="21-プログラムの構造を理解しよう"><a class="header" href="#21-プログラムの構造を理解しよう">2.1 プログラムの構造を理解しよう</a></h1>
<h2 id="プログラムの基本的な構成要素"><a class="header" href="#プログラムの基本的な構成要素">プログラムの基本的な構成要素</a></h2>
<p>前の章で「Hello, World!」プログラムを作成しましたが、今度はそのプログラムがどのような部品で構成されているかを詳しく見てみましょう。</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<p>このシンプルなプログラムにも、実は重要な構成要素がいくつも含まれています。</p>
<h2 id="1-関数function"><a class="header" href="#1-関数function">1. 関数（Function）</a></h2>
<h3 id="main関数の役割"><a class="header" href="#main関数の役割">main関数の役割</a></h3>
<pre><code class="language-javascript">void main() {
  // ここにプログラムの処理を書く
}
</code></pre>
<p><strong>main関数</strong>は、Dartプログラムの<strong>エントリーポイント</strong>（開始地点）です。プログラムが実行されると、コンピュータは必ずmain関数から処理を始めます。</p>
<ul>
<li><strong><code>void</code></strong>: この関数が値を返さないことを表します</li>
<li><strong><code>main</code></strong>: 関数の名前（Dartでは決まった名前）</li>
<li><strong><code>()</code></strong>: 関数の引数リスト（今は空）</li>
<li><strong><code>{}</code></strong>: 関数の本体（実際の処理内容）</li>
</ul>
<h3 id="関数の構造"><a class="header" href="#関数の構造">関数の構造</a></h3>
<pre><code class="language-javascript">戻り値の型 関数名(引数リスト) {
  // 処理内容
}
</code></pre>
<p>この構造は、Dartのすべての関数に共通しています。</p>
<h2 id="2-文statement"><a class="header" href="#2-文statement">2. 文（Statement）</a></h2>
<p>プログラムの中で実行される一つ一つの指示を<strong>文</strong>と呼びます。</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');  // これが文
  print('こんにちは');      // これも文
  print('さようなら');      // これも文
}
</code></pre>
<h3 id="文の特徴"><a class="header" href="#文の特徴">文の特徴</a></h3>
<ul>
<li>各文の最後には**セミコロン（;）**を付ける</li>
<li>上から下へ順番に実行される</li>
<li>一つの文で一つの処理を行う</li>
</ul>
<h2 id="3-ブロックblock"><a class="header" href="#3-ブロックblock">3. ブロック（Block）</a></h2>
<p><strong>中括弧{}<strong>で囲まれた部分を</strong>ブロック</strong>と呼びます。</p>
<pre><code class="language-javascript">void main() {  // ← ブロックの開始
  print('Hello, World!');
  print('これはブロックの中です');
}  // ← ブロックの終了
</code></pre>
<h3 id="ブロックの役割"><a class="header" href="#ブロックの役割">ブロックの役割</a></h3>
<ul>
<li>関連する文をグループ化する</li>
<li>プログラムの構造を明確にする</li>
<li>変数の有効範囲（スコープ）を決める</li>
</ul>
<h2 id="4-インデント字下げ"><a class="header" href="#4-インデント字下げ">4. インデント（字下げ）</a></h2>
<p>プログラムを読みやすくするため、ブロックの中の文は<strong>インデント</strong>（字下げ）します。</p>
<pre><code class="language-javascript">// 良い例：インデントあり
void main() {
  print('読みやすい');
  print('きれいなコード');
}

// 悪い例：インデントなし
void main() {
print('読みにくい');
print('汚いコード');
}
</code></pre>
<h3 id="インデントのルール"><a class="header" href="#インデントのルール">インデントのルール</a></h3>
<ul>
<li>ブロックの中は<strong>2つのスペース</strong>または<strong>4つのスペース</strong>で字下げ</li>
<li><strong>タブ文字</strong>を使うこともある</li>
<li>プロジェクト内で統一することが重要</li>
</ul>
<h2 id="5-空白と改行"><a class="header" href="#5-空白と改行">5. 空白と改行</a></h2>
<p>プログラムでは空白と改行を適切に使って見やすくします。</p>
<h3 id="適切な空白の使用"><a class="header" href="#適切な空白の使用">適切な空白の使用</a></h3>
<pre><code class="language-javascript">void main() {
  // 演算子の前後にスペース
  int result = 5 + 3;
  
  // 関数呼び出しの括弧の前にはスペースなし
  print(result);
  
  // カンマの後にスペース
  print('結果は $result です');
}
</code></pre>
<h3 id="適切な改行の使用"><a class="header" href="#適切な改行の使用">適切な改行の使用</a></h3>
<pre><code class="language-javascript">void main() {
  // 関連する処理をグループ化
  print('計算を開始します');
  
  int a = 10;
  int b = 20;
  int sum = a + b;
  
  print('結果: $sum');
}
</code></pre>
<h2 id="プログラムの構造を理解する実践例"><a class="header" href="#プログラムの構造を理解する実践例">プログラムの構造を理解する実践例</a></h2>
<h3 id="例1-自己紹介プログラム"><a class="header" href="#例1-自己紹介プログラム">例1: 自己紹介プログラム</a></h3>
<pre><code class="language-javascript">void main() {
  // 自己紹介の開始
  print('=== 自己紹介 ===');
  
  // 基本情報
  print('名前: 田中太郎');
  print('年齢: 16歳');
  print('学校: 〇〇高校');
  
  // 趣味
  print('');
  print('趣味:');
  print('- プログラミング');
  print('- 読書');
  print('- ゲーム');
  
  // 終了メッセージ
  print('');
  print('よろしくお願いします！');
}
</code></pre>
<h3 id="例2-簡単な計算プログラム"><a class="header" href="#例2-簡単な計算プログラム">例2: 簡単な計算プログラム</a></h3>
<pre><code class="language-javascript">void main() {
  // 計算の紹介
  print('簡単な計算をしてみましょう');
  print('');
  
  // 足し算
  print('足し算: 5 + 3 = ');
  print(5 + 3);
  
  // 引き算
  print('引き算: 10 - 4 = ');
  print(10 - 4);
  
  // 掛け算
  print('掛け算: 6 × 7 = ');
  print(6 * 7);
  
  // 割り算
  print('割り算: 15 ÷ 3 = ');
  print(15 / 3);
}
</code></pre>
<h2 id="プログラムの構造で気をつけること"><a class="header" href="#プログラムの構造で気をつけること">プログラムの構造で気をつけること</a></h2>
<h3 id="1-括弧の対応"><a class="header" href="#1-括弧の対応">1. 括弧の対応</a></h3>
<p>すべての開き括弧には対応する閉じ括弧が必要です。</p>
<pre><code class="language-javascript">// 正しい
void main() {
  print('Hello');
}

// 間違い：閉じ括弧がない
void main() {
  print('Hello');
</code></pre>
<h3 id="2-セミコロンの忘れ"><a class="header" href="#2-セミコロンの忘れ">2. セミコロンの忘れ</a></h3>
<p>文の最後には必ずセミコロンを付けます。</p>
<pre><code class="language-javascript">// 正しい
void main() {
  print('Hello');
  print('World');
}

// 間違い：セミコロンがない
void main() {
  print('Hello')
  print('World')
}
</code></pre>
<h3 id="3-インデントの統一"><a class="header" href="#3-インデントの統一">3. インデントの統一</a></h3>
<p>プロジェクト内では同じインデントルールを使います。</p>
<pre><code class="language-javascript">// 良い例：統一されたインデント
void main() {
  print('line 1');
  print('line 2');
  print('line 3');
}
</code></pre>
<h2 id="プログラム構造の視覚化"><a class="header" href="#プログラム構造の視覚化">プログラム構造の視覚化</a></h2>
<pre><code>プログラム全体
│
├── main関数
    │
    ├── 文1: print('Hello');
    ├── 文2: print('World');
    └── 文3: print('!');
</code></pre>
<p>この階層構造を理解することで、より複雑なプログラムも整理して書けるようになります。</p>
<h2 id="良い構造の例と悪い構造の例"><a class="header" href="#良い構造の例と悪い構造の例">良い構造の例と悪い構造の例</a></h2>
<h3 id="良い構造の例"><a class="header" href="#良い構造の例">良い構造の例</a></h3>
<pre><code class="language-javascript">void main() {
  // プログラムの目的を明確に
  print('今日の予定表');
  print('================');
  
  // 朝の予定
  print('9:00  朝食');
  print('10:00 勉強');
  
  // 昼の予定
  print('12:00 昼食');
  print('13:00 休憩');
  
  // 夜の予定
  print('18:00 夕食');
  print('20:00 プログラミング学習');
}
</code></pre>
<h3 id="悪い構造の例"><a class="header" href="#悪い構造の例">悪い構造の例</a></h3>
<pre><code class="language-javascript">void main() {
print('今日の予定表');print('================');print('9:00  朝食');print('10:00 勉強');print('12:00 昼食');print('13:00 休憩');print('18:00 夕食');print('20:00 プログラミング学習');
}
</code></pre>
<p>同じ動作をしますが、読みやすさが全く違います。</p>
<h2 id="まとめ-5"><a class="header" href="#まとめ-5">まとめ</a></h2>
<p>プログラムの基本構造：</p>
<ol>
<li><strong>main関数</strong>: プログラムの開始点</li>
<li><strong>文</strong>: 一つ一つの処理指示</li>
<li><strong>ブロック</strong>: 処理をグループ化する{}</li>
<li><strong>インデント</strong>: コードを読みやすくする字下げ</li>
<li><strong>空白と改行</strong>: プログラムの見た目を整える</li>
</ol>
<p>これらの要素を適切に使うことで：</p>
<ul>
<li><strong>読みやすいコード</strong>が書ける</li>
<li><strong>間違いを見つけやすくなる</strong></li>
<li><strong>他の人と協力しやすくなる</strong></li>
<li><strong>保守・修正が簡単になる</strong></li>
</ul>
<p>次の節では、プログラムをより理解しやすくする「コメント」について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="22-コメントの書き方と重要性"><a class="header" href="#22-コメントの書き方と重要性">2.2 コメントの書き方と重要性</a></h1>
<h2 id="コメントとは何か"><a class="header" href="#コメントとは何か">コメントとは何か</a></h2>
<p><strong>コメント</strong>とは、プログラムの中に書く「説明文」のことです。プログラムの実行には影響しませんが、コードを読む人（自分自身を含む）がプログラムを理解しやすくするために書きます。</p>
<pre><code class="language-javascript">void main() {
  // これがコメントです
  print('Hello, World!');
}
</code></pre>
<p>コンピュータはコメント部分を無視するので、日本語でも英語でも自由に書くことができます。</p>
<h2 id="なぜコメントが重要なのか"><a class="header" href="#なぜコメントが重要なのか">なぜコメントが重要なのか</a></h2>
<h3 id="1-理解しやすくなる"><a class="header" href="#1-理解しやすくなる">1. 理解しやすくなる</a></h3>
<p>自分が書いたプログラムでも、時間が経つと「何をしているのか忘れる」ことがあります。コメントがあることで、すぐに思い出せます。</p>
<h3 id="2-他の人との協力がしやすくなる"><a class="header" href="#2-他の人との協力がしやすくなる">2. 他の人との協力がしやすくなる</a></h3>
<p>チームでプログラミングをするとき、コメントがあることで他の人があなたのコードを理解しやすくなります。</p>
<h3 id="3-バグを見つけやすくなる"><a class="header" href="#3-バグを見つけやすくなる">3. バグを見つけやすくなる</a></h3>
<p>プログラムの意図をコメントで明確にしておくことで、実際の動作との違いに気づきやすくなります。</p>
<h3 id="4-学習効果が高まる"><a class="header" href="#4-学習効果が高まる">4. 学習効果が高まる</a></h3>
<p>特に初学者にとって、「なぜこのコードを書いたのか」をコメントで記録することは、学習の振り返りに非常に有効です。</p>
<h2 id="dartでのコメントの書き方"><a class="header" href="#dartでのコメントの書き方">Dartでのコメントの書き方</a></h2>
<h3 id="1-1行コメント"><a class="header" href="#1-1行コメント">1. 1行コメント（//）</a></h3>
<p><code>//</code> から行の終わりまでがコメントになります。</p>
<pre><code class="language-javascript">void main() {
  // プログラムの開始を知らせる
  print('プログラムを開始します');
  
  print('Hello, World!'); // メッセージを表示
}
</code></pre>
<h3 id="2-複数行コメント-"><a class="header" href="#2-複数行コメント-">2. 複数行コメント（/* */）</a></h3>
<p><code>/*</code> と <code>*/</code> で囲まれた部分がコメントになります。複数行にわたるコメントを書くときに便利です。</p>
<pre><code class="language-javascript">void main() {
  /*
   これは複数行のコメントです。
   プログラムの詳しい説明や
   注意事項などを書くことができます。
   */
  print('Hello, World!');
}
</code></pre>
<h3 id="3-ドキュメンテーションコメント"><a class="header" href="#3-ドキュメンテーションコメント">3. ドキュメンテーションコメント（///）</a></h3>
<p><code>///</code> で始まるコメントは、特別な<strong>ドキュメンテーションコメント</strong>です。後で学ぶ関数やクラスの説明を書くときに使います。</p>
<pre><code class="language-javascript">/// このプログラムは挨拶を表示するプログラムです。
/// 学習の第一歩として作成しました。
void main() {
  print('Hello, World!');
}
</code></pre>
<h2 id="効果的なコメントの書き方"><a class="header" href="#効果的なコメントの書き方">効果的なコメントの書き方</a></h2>
<h3 id="1-なぜを説明する"><a class="header" href="#1-なぜを説明する">1. 「なぜ」を説明する</a></h3>
<p>❌ <strong>悪い例</strong>: 何をしているかだけを書く</p>
<pre><code class="language-javascript">void main() {
  // Hello, World!を表示する
  print('Hello, World!');
}
</code></pre>
<p>✅ <strong>良い例</strong>: なぜそうするのかを書く</p>
<pre><code class="language-javascript">void main() {
  // プログラミング学習の第一歩として、伝統的な挨拶を表示
  print('Hello, World!');
}
</code></pre>
<h3 id="2-複雑な処理の説明"><a class="header" href="#2-複雑な処理の説明">2. 複雑な処理の説明</a></h3>
<pre><code class="language-javascript">void main() {
  // 消費税込み価格の計算（税率10%）
  int price = 1000;
  double taxRate = 0.1;
  int totalPrice = (price * (1 + taxRate)).round();
  
  print('税込価格: $totalPrice円');
}
</code></pre>
<h3 id="3-注意点や制限事項の記録"><a class="header" href="#3-注意点や制限事項の記録">3. 注意点や制限事項の記録</a></h3>
<pre><code class="language-javascript">void main() {
  // 注意: この計算は整数のみ対応（小数点以下は切り捨て）
  int result = 10 ~/ 3;
  print('結果: $result');
}
</code></pre>
<h3 id="4-todoやることリストの記録"><a class="header" href="#4-todoやることリストの記録">4. TODO（やることリスト）の記録</a></h3>
<pre><code class="language-javascript">void main() {
  print('現在の機能');
  
  // TODO: エラーハンドリングを追加する
  // TODO: ユーザー入力機能を実装する
  // TODO: 設定ファイルから値を読み込む機能を追加
}
</code></pre>
<h2 id="コメントの実践例"><a class="header" href="#コメントの実践例">コメントの実践例</a></h2>
<h3 id="例1-計算プログラム"><a class="header" href="#例1-計算プログラム">例1: 計算プログラム</a></h3>
<pre><code class="language-javascript">void main() {
  /*
   簡単な計算プログラム
   目的: 基本的な四則演算の練習
   作成日: 2024年1月15日
   */
  
  // 計算に使用する数値を定義
  int num1 = 15;
  int num2 = 3;
  
  // 四則演算を実行
  print('=== 計算結果 ===');
  
  // 足し算
  print('$num1 + $num2 = ${num1 + num2}');
  
  // 引き算
  print('$num1 - $num2 = ${num1 - num2}');
  
  // 掛け算
  print('$num1 × $num2 = ${num1 * num2}');
  
  // 割り算（整数除算）
  print('$num1 ÷ $num2 = ${num1 ~/ num2}');
  
  // 余り
  print('$num1 % $num2 = ${num1 % num2}');
  
  // 処理完了を表示
  print('計算が完了しました');
}
</code></pre>
<h3 id="例2-成績管理プログラム"><a class="header" href="#例2-成績管理プログラム">例2: 成績管理プログラム</a></h3>
<pre><code class="language-javascript">void main() {
  // 学生の成績データ（テスト用のサンプル）
  String studentName = '田中太郎';
  int mathScore = 85;
  int englishScore = 78;
  int scienceScore = 92;
  
  // 合計点の計算
  int totalScore = mathScore + englishScore + scienceScore;
  
  // 平均点の計算（小数点以下は四捨五入）
  double averageScore = totalScore / 3;
  
  // 成績表示
  print('=== 成績表 ===');
  print('生徒名: $studentName');
  print('');
  print('各科目の成績:');
  print('  数学: ${mathScore}点');
  print('  英語: ${englishScore}点');
  print('  理科: ${scienceScore}点');
  print('');
  print('合計: ${totalScore}点');
  print('平均: ${averageScore.toStringAsFixed(1)}点');
  
  // 成績判定（後で条件分岐を学んだら実装予定）
  // TODO: 平均点に基づいて「優秀」「良好」「要努力」を判定する機能を追加
}
</code></pre>
<h2 id="コメントを書くべき場面"><a class="header" href="#コメントを書くべき場面">コメントを書くべき場面</a></h2>
<h3 id="1-プログラムの目的を説明するとき"><a class="header" href="#1-プログラムの目的を説明するとき">1. プログラムの目的を説明するとき</a></h3>
<pre><code class="language-javascript">// 目的: 1から100までの数値の合計を求める
void main() {
  int sum = 0;
  for (int i = 1; i &lt;= 100; i++) {
    sum += i;
  }
  print('1から100までの合計: $sum');
}
</code></pre>
<h3 id="2-複雑な計算をするとき"><a class="header" href="#2-複雑な計算をするとき">2. 複雑な計算をするとき</a></h3>
<pre><code class="language-javascript">void main() {
  // 円の面積を計算（半径5の場合）
  // 公式: 面積 = π × 半径²
  double radius = 5.0;
  double pi = 3.14159;
  double area = pi * radius * radius;
  
  print('半径${radius}の円の面積: $area');
}
</code></pre>
<h3 id="3-特殊な値や制限があるとき"><a class="header" href="#3-特殊な値や制限があるとき">3. 特殊な値や制限があるとき</a></h3>
<pre><code class="language-javascript">void main() {
  // 制限: 年齢は0以上150以下で入力してください
  int age = 25;
  
  // 特別値: -1 は「年齢不明」を表す
  if (age == -1) {
    print('年齢不明');
  } else {
    print('年齢: ${age}歳');
  }
}
</code></pre>
<h3 id="4-将来の改良予定があるとき"><a class="header" href="#4-将来の改良予定があるとき">4. 将来の改良予定があるとき</a></h3>
<pre><code class="language-javascript">void main() {
  // 現在は固定値を使用
  String greeting = 'こんにちは';
  
  // TODO: 時間帯に応じて「おはよう」「こんにちは」「こんばんは」を自動選択
  // TODO: 言語設定に応じて日本語/英語を切り替え
  
  print(greeting);
}
</code></pre>
<h2 id="良くないコメントの例"><a class="header" href="#良くないコメントの例">良くないコメントの例</a></h2>
<h3 id="1-当たり前のことを書く"><a class="header" href="#1-当たり前のことを書く">1. 当たり前のことを書く</a></h3>
<p>❌ <strong>避けるべき例</strong>:</p>
<pre><code class="language-javascript">void main() {
  // 変数iに1を代入
  int i = 1;
  
  // print関数を使って文字列を出力
  print('Hello');
}
</code></pre>
<h3 id="2-コードと一致しない説明"><a class="header" href="#2-コードと一致しない説明">2. コードと一致しない説明</a></h3>
<p>❌ <strong>避けるべき例</strong>:</p>
<pre><code class="language-javascript">void main() {
  // 掛け算を実行
  int result = 10 + 5; // 実際は足し算
  print(result);
}
</code></pre>
<h3 id="3-長すぎる説明"><a class="header" href="#3-長すぎる説明">3. 長すぎる説明</a></h3>
<p>❌ <strong>避けるべき例</strong>:</p>
<pre><code class="language-javascript">void main() {
  /*
   ここでは変数を使って数値を格納します。
   変数とは値を記憶しておく箱のようなもので、
   プログラムの実行中に値を変更することができます。
   Dartでは型を明示的に指定することで、
   より安全なプログラムを書くことができ...
   （長すぎる説明が続く）
   */
  int number = 42;
  print(number);
}
</code></pre>
<h2 id="コメントのスタイルガイド"><a class="header" href="#コメントのスタイルガイド">コメントのスタイルガイド</a></h2>
<h3 id="1-一貫性を保つ"><a class="header" href="#1-一貫性を保つ">1. 一貫性を保つ</a></h3>
<p>プロジェクト内では同じスタイルでコメントを書きましょう。</p>
<h3 id="2-適度な長さにする"><a class="header" href="#2-適度な長さにする">2. 適度な長さにする</a></h3>
<p>1行コメントは簡潔に、複数行コメントも必要以上に長くしない。</p>
<h3 id="3-定期的に更新する"><a class="header" href="#3-定期的に更新する">3. 定期的に更新する</a></h3>
<p>コードを変更したら、関連するコメントも忘れずに更新する。</p>
<h3 id="4-日本語を使う"><a class="header" href="#4-日本語を使う">4. 日本語を使う</a></h3>
<p>初学者は日本語でコメントを書いて構いません。理解しやすさを最優先にしましょう。</p>
<h2 id="演習-コメントを追加してみよう"><a class="header" href="#演習-コメントを追加してみよう">演習: コメントを追加してみよう</a></h2>
<p>以下のプログラムに適切なコメントを追加してください：</p>
<pre><code class="language-javascript">void main() {
  String name = '山田花子';
  int age = 20;
  String hobby = 'reading';
  
  print('自己紹介');
  print('名前: $name');
  print('年齢: $age');
  print('趣味: $hobby');
}
</code></pre>
<p>解答例：</p>
<pre><code class="language-javascript">void main() {
  // 自己紹介プログラム - 基本情報を画面に表示
  
  // 個人情報の設定
  String name = '山田花子';    // 名前
  int age = 20;               // 年齢
  String hobby = 'reading';   // 趣味（英語で記録）
  
  // 自己紹介の表示
  print('自己紹介');
  print('名前: $name');
  print('年齢: $age');
  print('趣味: $hobby');
  
  // TODO: 将来的には趣味を日本語表示に変更する
}
</code></pre>
<h2 id="まとめ-6"><a class="header" href="#まとめ-6">まとめ</a></h2>
<p>コメントの重要性：</p>
<ol>
<li><strong>理解促進</strong>: プログラムの意図を明確にする</li>
<li><strong>保守性向上</strong>: 後でコードを修正しやすくする</li>
<li><strong>協力促進</strong>: チームでの開発を円滑にする</li>
<li><strong>学習効果</strong>: 自分の学習過程を記録できる</li>
</ol>
<p>コメントの書き方：</p>
<ul>
<li><strong>1行コメント</strong>: <code>//</code> を使用</li>
<li><strong>複数行コメント</strong>: <code>/* */</code> を使用</li>
<li><strong>ドキュメンテーションコメント</strong>: <code>///</code> を使用</li>
</ul>
<p>良いコメントの特徴：</p>
<ul>
<li><strong>目的を説明する</strong>: 「なぜ」を重視</li>
<li><strong>適切な量</strong>: 必要十分な情報量</li>
<li><strong>最新性</strong>: コードと一致している</li>
<li><strong>明確性</strong>: 分かりやすい表現</li>
</ul>
<p>次の節では、プログラムで最も基本的な出力機能である「print文」について詳しく学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="23-print文で画面に表示する"><a class="header" href="#23-print文で画面に表示する">2.3 print文で画面に表示する</a></h1>
<h2 id="print文とは"><a class="header" href="#print文とは">print文とは</a></h2>
<p><strong>print文</strong>は、Dartで最も基本的で重要な機能の一つです。プログラムから画面（コンソール）に文字や数値を表示するために使います。今まで何度も使ってきた<code>print()</code>が、まさにこのprint文です。</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}
</code></pre>
<h2 id="print文の基本的な使い方"><a class="header" href="#print文の基本的な使い方">print文の基本的な使い方</a></h2>
<h3 id="1-文字列を表示する"><a class="header" href="#1-文字列を表示する">1. 文字列を表示する</a></h3>
<pre><code class="language-javascript">void main() {
  print('こんにちは');
  print('Dartプログラミング');
  print('楽しく学習しましょう！');
}
</code></pre>
<p>実行結果：</p>
<pre><code>こんにちは
Dartプログラミング
楽しく学習しましょう！
</code></pre>
<h3 id="2-数値を表示する"><a class="header" href="#2-数値を表示する">2. 数値を表示する</a></h3>
<pre><code class="language-javascript">void main() {
  print(42);      // 整数
  print(3.14);    // 小数
  print(-10);     // 負の数
}
</code></pre>
<p>実行結果：</p>
<pre><code>42
3.14
-10
</code></pre>
<h3 id="3-計算結果を表示する"><a class="header" href="#3-計算結果を表示する">3. 計算結果を表示する</a></h3>
<pre><code class="language-javascript">void main() {
  print(5 + 3);       // 足し算
  print(10 - 4);      // 引き算
  print(6 * 7);       // 掛け算
  print(15 / 3);      // 割り算
}
</code></pre>
<p>実行結果：</p>
<pre><code>8
6
42
5.0
</code></pre>
<h2 id="空行を表示する"><a class="header" href="#空行を表示する">空行を表示する</a></h2>
<p>何も表示しない空行を作りたいときは、空の文字列を表示します：</p>
<pre><code class="language-javascript">void main() {
  print('最初の行');
  print('');        // 空行
  print('次の行');
}
</code></pre>
<p>実行結果：</p>
<pre><code>最初の行

次の行
</code></pre>
<h2 id="文字列の結合"><a class="header" href="#文字列の結合">文字列の結合</a></h2>
<h3 id="1--演算子を使った結合"><a class="header" href="#1--演算子を使った結合">1. + 演算子を使った結合</a></h3>
<pre><code class="language-javascript">void main() {
  print('私の名前は' + '田中太郎' + 'です');
  print('今日は' + '晴れ' + 'です');
}
</code></pre>
<p>実行結果：</p>
<pre><code>私の名前は田中太郎です
今日は晴れです
</code></pre>
<h3 id="2-文字列補間string-interpolation"><a class="header" href="#2-文字列補間string-interpolation">2. 文字列補間（String Interpolation）</a></h3>
<p>より便利な方法として、<code>$</code>記号を使った<strong>文字列補間</strong>があります：</p>
<pre><code class="language-javascript">void main() {
  String name = '田中太郎';
  int age = 16;
  
  print('私の名前は$nameです');
  print('年齢は$age歳です');
}
</code></pre>
<p>実行結果：</p>
<pre><code>私の名前は田中太郎です
年齢は16歳です
</code></pre>
<h3 id="3-複雑な式の場合"><a class="header" href="#3-複雑な式の場合">3. 複雑な式の場合</a></h3>
<p>計算式など複雑な内容を含める場合は、<code>${}</code>を使います：</p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 5;
  
  print('${a} + ${b} = ${a + b}');
  print('${a} × ${b} = ${a * b}');
}
</code></pre>
<p>実行結果：</p>
<pre><code>10 + 5 = 15
10 × 5 = 50
</code></pre>
<h2 id="printのいろいろな使い方"><a class="header" href="#printのいろいろな使い方">printのいろいろな使い方</a></h2>
<h3 id="1-複数の値を一度に表示"><a class="header" href="#1-複数の値を一度に表示">1. 複数の値を一度に表示</a></h3>
<pre><code class="language-javascript">void main() {
  String name = '佐藤花子';
  int math = 85;
  int english = 92;
  int science = 78;
  
  print('生徒名: $name');
  print('数学: ${math}点, 英語: ${english}点, 理科: ${science}点');
  print('合計: ${math + english + science}点');
  print('平均: ${(math + english + science) / 3}点');
}
</code></pre>
<p>実行結果：</p>
<pre><code>生徒名: 佐藤花子
数学: 85点, 英語: 92点, 理科: 78点
合計: 255点
平均: 85.0点
</code></pre>
<h3 id="2-表形式の表示"><a class="header" href="#2-表形式の表示">2. 表形式の表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('=== 成績表 ===');
  print('名前      | 数学 | 英語 | 理科');
  print('----------|------|------|------');
  print('田中太郎  |  85  |  78  |  92');
  print('佐藤花子  |  90  |  88  |  85');
  print('山田次郎  |  75  |  82  |  79');
}
</code></pre>
<p>実行結果：</p>
<pre><code>=== 成績表 ===
名前      | 数学 | 英語 | 理科
----------|------|------|------
田中太郎  |  85  |  78  |  92
佐藤花子  |  90  |  88  |  85
山田次郎  |  75  |  82  |  79
</code></pre>
<h3 id="3-パターンやデザインの表示"><a class="header" href="#3-パターンやデザインの表示">3. パターンやデザインの表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('★☆★☆★☆★☆★☆');
  print('   プログラム開始   ');
  print('★☆★☆★☆★☆★☆');
  print('');
  
  // 簡単な図形
  print('  ◆');
  print(' ◆◆◆');
  print('◆◆◆◆◆');
  print(' ◆◆◆');
  print('  ◆');
}
</code></pre>
<p>実行結果：</p>
<pre><code>★☆★☆★☆★☆★☆
   プログラム開始   
★☆★☆★☆★☆★☆

  ◆
 ◆◆◆
◆◆◆◆◆
 ◆◆◆
  ◆
</code></pre>
<h2 id="特殊文字の表示"><a class="header" href="#特殊文字の表示">特殊文字の表示</a></h2>
<h3 id="1-エスケープシーケンス"><a class="header" href="#1-エスケープシーケンス">1. エスケープシーケンス</a></h3>
<p>特殊な文字を表示するには、<strong>エスケープシーケンス</strong>を使います：</p>
<pre><code class="language-javascript">void main() {
  print('これは \"引用符\" を含む文字列です');
  print('これは \'アポストロフィ\' を含む文字列です');
  print('これは \\ バックスラッシュを含む文字列です');
}
</code></pre>
<p>実行結果：</p>
<pre><code>これは "引用符" を含む文字列です
これは 'アポストロフィ' を含む文字列です
これは \ バックスラッシュを含む文字列です
</code></pre>
<h3 id="2-よく使うエスケープシーケンス"><a class="header" href="#2-よく使うエスケープシーケンス">2. よく使うエスケープシーケンス</a></h3>
<div class="table-wrapper"><table><thead><tr><th>エスケープシーケンス</th><th>意味</th><th>例</th></tr></thead><tbody>
<tr><td><code>\n</code></td><td>改行</td><td><code>print('1行目\n2行目');</code></td></tr>
<tr><td><code>\t</code></td><td>タブ</td><td><code>print('名前\t年齢');</code></td></tr>
<tr><td><code>\"</code></td><td>ダブルクォート</td><td><code>print("彼は\"こんにちは\"と言った");</code></td></tr>
<tr><td><code>\'</code></td><td>シングルクォート</td><td><code>print('It\'s a pen');</code></td></tr>
<tr><td><code>\\</code></td><td>バックスラッシュ</td><td><code>print('ファイルパス: C:\\Users');</code></td></tr>
</tbody></table>
</div>
<h3 id="改行の例"><a class="header" href="#改行の例">改行の例</a></h3>
<pre><code class="language-javascript">void main() {
  print('1行目\n2行目\n3行目');
  print('これは\n複数行の\nメッセージです');
}
</code></pre>
<p>実行結果：</p>
<pre><code>1行目
2行目
3行目
これは
複数行の
メッセージです
</code></pre>
<h3 id="タブの例"><a class="header" href="#タブの例">タブの例</a></h3>
<pre><code class="language-javascript">void main() {
  print('名前\t年齢\t住所');
  print('田中太郎\t16\t東京都');
  print('佐藤花子\t17\t大阪府');
}
</code></pre>
<p>実行結果：</p>
<pre><code>名前	年齢	住所
田中太郎	16	東京都
佐藤花子	17	大阪府
</code></pre>
<h2 id="print文の実用例"><a class="header" href="#print文の実用例">print文の実用例</a></h2>
<h3 id="1-プログラムの進行状況を表示"><a class="header" href="#1-プログラムの進行状況を表示">1. プログラムの進行状況を表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('[1/5] プログラム開始');
  print('[2/5] データ読み込み中...');
  print('[3/5] 計算処理中...');
  print('[4/5] 結果の検証中...');
  print('[5/5] 処理完了！');
}
</code></pre>
<h3 id="2-メニューの表示"><a class="header" href="#2-メニューの表示">2. メニューの表示</a></h3>
<pre><code class="language-javascript">void main() {
  print('=== メニュー ===');
  print('1. 新規作成');
  print('2. ファイルを開く');
  print('3. 保存');
  print('4. 終了');
  print('');
  print('選択してください (1-4): ');
}
</code></pre>
<h3 id="3-計算過程の表示"><a class="header" href="#3-計算過程の表示">3. 計算過程の表示</a></h3>
<pre><code class="language-javascript">void main() {
  int principal = 100000;  // 元金
  double rate = 0.05;      // 利率5%
  int years = 3;           // 3年
  
  print('=== 複利計算 ===');
  print('元金: ${principal}円');
  print('利率: ${(rate * 100)}%');
  print('期間: ${years}年');
  print('');
  
  double amount = principal;
  for (int year = 1; year &lt;= years; year++) {
    amount = amount * (1 + rate);
    print('${year}年後: ${amount.toStringAsFixed(0)}円');
  }
}
</code></pre>
<h2 id="print文でのデバッグ"><a class="header" href="#print文でのデバッグ">print文でのデバッグ</a></h2>
<p>プログラムの動作を確認するために、print文を使ってデバッグ（問題の発見と修正）ができます：</p>
<pre><code class="language-javascript">void main() {
  print('プログラム開始');
  
  int x = 10;
  int y = 20;
  print('x = $x, y = $y');  // 変数の値を確認
  
  int sum = x + y;
  print('計算結果: x + y = $sum');  // 計算結果を確認
  
  if (sum &gt; 25) {
    print('合計は25より大きいです');
  } else {
    print('合計は25以下です');
  }
  
  print('プログラム終了');
}
</code></pre>
<h2 id="print文使用時の注意点"><a class="header" href="#print文使用時の注意点">print文使用時の注意点</a></h2>
<h3 id="1-文字列は引用符で囲む"><a class="header" href="#1-文字列は引用符で囲む">1. 文字列は引用符で囲む</a></h3>
<pre><code class="language-javascript">// 正しい
print('Hello, World!');
print("Hello, World!");

// 間違い（エラーになる）
print(Hello, World!);
</code></pre>
<h3 id="2-セミコロンを忘れない"><a class="header" href="#2-セミコロンを忘れない">2. セミコロンを忘れない</a></h3>
<pre><code class="language-javascript">// 正しい
print('Hello');
print('World');

// 間違い（エラーになる）
print('Hello')
print('World')
</code></pre>
<h3 id="3-括弧の対応を確認"><a class="header" href="#3-括弧の対応を確認">3. 括弧の対応を確認</a></h3>
<pre><code class="language-javascript">// 正しい
print('Hello, World!');

// 間違い（エラーになる）
print('Hello, World!';
print 'Hello, World!');
</code></pre>
<h2 id="応用演習"><a class="header" href="#応用演習">応用演習</a></h2>
<h3 id="演習1-自己紹介カードを作成"><a class="header" href="#演習1-自己紹介カードを作成">演習1: 自己紹介カードを作成</a></h3>
<p>以下の情報を使って、見栄えの良い自己紹介カードを表示するプログラムを作成してください：</p>
<ul>
<li>名前: 山田太郎</li>
<li>年齢: 17歳</li>
<li>学校: サンプル高校</li>
<li>趣味: プログラミング、読書</li>
</ul>
<p>解答例：</p>
<pre><code class="language-javascript">void main() {
  String name = '山田太郎';
  int age = 17;
  String school = 'サンプル高校';
  String hobby1 = 'プログラミング';
  String hobby2 = '読書';
  
  print('┌─────────────────────┐');
  print('│      自己紹介カード      │');
  print('├─────────────────────┤');
  print('│ 名前: $name          │');
  print('│ 年齢: ${age}歳              │');
  print('│ 学校: $school        │');
  print('│ 趣味: $hobby1、$hobby2    │');
  print('└─────────────────────┘');
}
</code></pre>
<h3 id="演習2-計算機の結果表示"><a class="header" href="#演習2-計算機の結果表示">演習2: 計算機の結果表示</a></h3>
<p>二つの数値で四則演算を行い、結果を見やすく表示するプログラムを作成してください。</p>
<p>解答例：</p>
<pre><code class="language-javascript">void main() {
  int num1 = 15;
  int num2 = 4;
  
  print('=== 計算機 ===');
  print('数値1: $num1');
  print('数値2: $num2');
  print('');
  print('計算結果:');
  print('  $num1 + $num2 = ${num1 + num2}');
  print('  $num1 - $num2 = ${num1 - num2}');
  print('  $num1 × $num2 = ${num1 * num2}');
  print('  $num1 ÷ $num2 = ${num1 / num2}');
  print('  $num1 % $num2 = ${num1 % num2}  (余り)');
}
</code></pre>
<h2 id="まとめ-7"><a class="header" href="#まとめ-7">まとめ</a></h2>
<p>print文の重要なポイント：</p>
<h3 id="基本的な使い方"><a class="header" href="#基本的な使い方">基本的な使い方</a></h3>
<ul>
<li><strong>文字列表示</strong>: <code>print('文字列')</code></li>
<li><strong>数値表示</strong>: <code>print(数値)</code></li>
<li><strong>空行表示</strong>: <code>print('')</code></li>
</ul>
<h3 id="文字列の結合と補間"><a class="header" href="#文字列の結合と補間">文字列の結合と補間</a></h3>
<ul>
<li><strong>結合</strong>: <code>print('文字列1' + '文字列2')</code></li>
<li><strong>補間</strong>: <code>print('変数の値は$variableです')</code></li>
<li><strong>複雑な式</strong>: <code>print('計算結果: ${a + b}')</code></li>
</ul>
<h3 id="特殊文字"><a class="header" href="#特殊文字">特殊文字</a></h3>
<ul>
<li><strong>改行</strong>: <code>\n</code></li>
<li><strong>タブ</strong>: <code>\t</code></li>
<li><strong>引用符</strong>: <code>\"</code> または <code>\'</code></li>
</ul>
<h3 id="実用的な活用"><a class="header" href="#実用的な活用">実用的な活用</a></h3>
<ul>
<li><strong>デバッグ</strong>: 変数の値や処理の流れを確認</li>
<li><strong>ユーザー界面</strong>: メニューや結果の表示</li>
<li><strong>レポート</strong>: 整理された情報の出力</li>
</ul>
<p>print文は、プログラムとユーザー（あるいは開発者）をつなぐ重要な架け橋です。見やすく、分かりやすい出力を心がけることで、より良いプログラムが作れるようになります。</p>
<p>次の節では、プログラムがどのような順序で実行されるかを詳しく学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="24-プログラムの実行順序"><a class="header" href="#24-プログラムの実行順序">2.4 プログラムの実行順序</a></h1>
<h2 id="プログラムは上から下へ実行される"><a class="header" href="#プログラムは上から下へ実行される">プログラムは上から下へ実行される</a></h2>
<p>プログラミングにおいて最も基本的で重要な概念の一つが、<strong>プログラムの実行順序</strong>です。コンピュータは、プログラムを<strong>上から下へ、一行ずつ順番に</strong>実行します。</p>
<pre><code class="language-javascript">void main() {
  print('1番目に実行される');
  print('2番目に実行される');
  print('3番目に実行される');
}
</code></pre>
<p>実行結果：</p>
<pre><code>1番目に実行される
2番目に実行される
3番目に実行される
</code></pre>
<p>この順序は、プログラミングの基本原則で「<strong>逐次実行</strong>（Sequential Execution）」と呼ばれます。</p>
<h2 id="実行順序の実例"><a class="header" href="#実行順序の実例">実行順序の実例</a></h2>
<h3 id="例1-料理の手順"><a class="header" href="#例1-料理の手順">例1: 料理の手順</a></h3>
<p>現実の料理手順をプログラムで表現してみましょう：</p>
<pre><code class="language-javascript">void main() {
  print('=== カレーライスの作り方 ===');
  print('1. 材料を準備する');
  print('2. 野菜を切る');
  print('3. 肉を炒める');
  print('4. 野菜を加えて炒める');
  print('5. 水を加えて煮込む');
  print('6. カレールーを入れる');
  print('7. さらに煮込む');
  print('8. ご飯にかけて完成！');
}
</code></pre>
<p>実行結果：</p>
<pre><code>=== カレーライスの作り方 ===
1. 材料を準備する
2. 野菜を切る
3. 肉を炒める
4. 野菜を加えて炒める
5. 水を加えて煮込む
6. カレールーを入れる
7. さらに煮込む
8. ご飯にかけて完成！
</code></pre>
<h3 id="例2-数学の計算手順"><a class="header" href="#例2-数学の計算手順">例2: 数学の計算手順</a></h3>
<p>複数の計算を順番に行う例：</p>
<pre><code class="language-javascript">void main() {
  print('=== 計算の手順 ===');
  
  // ステップ1: 初期値の設定
  print('ステップ1: 初期値を設定');
  int a = 10;
  int b = 5;
  print('a = $a, b = $b');
  
  // ステップ2: 足し算
  print('ステップ2: a + b を計算');
  int sum = a + b;
  print('結果: $sum');
  
  // ステップ3: 掛け算
  print('ステップ3: 結果に2を掛ける');
  int result = sum * 2;
  print('最終結果: $result');
}
</code></pre>
<p>実行結果：</p>
<pre><code>=== 計算の手順 ===
ステップ1: 初期値を設定
a = 10, b = 5
ステップ2: a + b を計算
結果: 15
ステップ3: 結果に2を掛ける
最終結果: 30
</code></pre>
<h2 id="実行順序が重要な理由"><a class="header" href="#実行順序が重要な理由">実行順序が重要な理由</a></h2>
<h3 id="1-依存関係がある処理"><a class="header" href="#1-依存関係がある処理">1. 依存関係がある処理</a></h3>
<p>後の処理が前の処理結果に依存する場合、順序が重要になります：</p>
<pre><code class="language-javascript">void main() {
  // この順序は正しい
  int price = 1000;           // 1. 価格を設定
  double taxRate = 0.1;       // 2. 税率を設定
  int totalPrice = (price * (1 + taxRate)).round();  // 3. 税込価格を計算
  print('税込価格: ${totalPrice}円');
  
  // この順序だと問題が起きる（変数が定義される前に使おうとする）
  // int wrongTotal = (undefinedPrice * (1 + undefinedTaxRate)).round();
  // int undefinedPrice = 1000;
  // double undefinedTaxRate = 0.1;
}
</code></pre>
<h3 id="2-初期化の順序"><a class="header" href="#2-初期化の順序">2. 初期化の順序</a></h3>
<p>変数や設定は、使用する前に初期化する必要があります：</p>
<pre><code class="language-javascript">void main() {
  // 正しい順序：設定 → 使用
  String playerName = '田中太郎';
  int playerScore = 0;
  int playerLevel = 1;
  
  print('プレイヤー情報:');
  print('名前: $playerName');
  print('スコア: $playerScore');
  print('レベル: $playerLevel');
}
</code></pre>
<h3 id="3-出力の順序"><a class="header" href="#3-出力の順序">3. 出力の順序</a></h3>
<p>メッセージの表示順序も重要です：</p>
<pre><code class="language-javascript">void main() {
  print('プログラムを開始します');
  print('計算中...');
  
  int result = 42 * 8;
  
  print('計算が完了しました');
  print('結果: $result');
  print('プログラムを終了します');
}
</code></pre>
<h2 id="実行順序の追跡"><a class="header" href="#実行順序の追跡">実行順序の追跡</a></h2>
<p>プログラムがどの順序で実行されているかを確認するために、各ステップに番号を付ける方法があります：</p>
<h3 id="方法1-コメントで順序を記録"><a class="header" href="#方法1-コメントで順序を記録">方法1: コメントで順序を記録</a></h3>
<pre><code class="language-javascript">void main() {
  // ステップ1: プログラム開始の通知
  print('プログラム開始');
  
  // ステップ2: データの初期化
  String name = '佐藤花子';
  int age = 17;
  
  // ステップ3: 基本情報の表示
  print('名前: $name');
  print('年齢: $age');
  
  // ステップ4: 計算処理
  int nextAge = age + 1;
  
  // ステップ5: 結果の表示
  print('来年の年齢: $nextAge');
  
  // ステップ6: プログラム終了の通知
  print('プログラム終了');
}
</code></pre>
<h3 id="方法2-実行順序を出力で確認"><a class="header" href="#方法2-実行順序を出力で確認">方法2: 実行順序を出力で確認</a></h3>
<pre><code class="language-javascript">void main() {
  print('[1] main関数が開始されました');
  
  print('[2] 変数の初期化を行います');
  int x = 100;
  int y = 50;
  
  print('[3] 計算処理を実行します');
  int difference = x - y;
  
  print('[4] 結果を表示します');
  print('$x - $y = $difference');
  
  print('[5] main関数が終了します');
}
</code></pre>
<p>実行結果：</p>
<pre><code>[1] main関数が開始されました
[2] 変数の初期化を行います
[3] 計算処理を実行します
[4] 結果を表示します
100 - 50 = 50
[5] main関数が終了します
</code></pre>
<h2 id="複雑な実行順序の例"><a class="header" href="#複雑な実行順序の例">複雑な実行順序の例</a></h2>
<h3 id="例1-学生の成績処理システム"><a class="header" href="#例1-学生の成績処理システム">例1: 学生の成績処理システム</a></h3>
<pre><code class="language-javascript">void main() {
  // === 初期化フェーズ ===
  print('=== 成績処理システム ===');
  print('[初期化] データを準備しています...');
  
  String studentName = '山田太郎';
  int mathScore = 85;
  int englishScore = 78;
  int scienceScore = 92;
  
  print('[初期化] 完了');
  
  // === 計算フェーズ ===
  print('[計算] 合計点を算出しています...');
  int totalScore = mathScore + englishScore + scienceScore;
  
  print('[計算] 平均点を算出しています...');
  double averageScore = totalScore / 3;
  
  print('[計算] 完了');
  
  // === 表示フェーズ ===
  print('[表示] 結果を出力しています...');
  print('');
  print('生徒名: $studentName');
  print('数学: ${mathScore}点');
  print('英語: ${englishScore}点');
  print('理科: ${scienceScore}点');
  print('合計: ${totalScore}点');
  print('平均: ${averageScore.toStringAsFixed(1)}点');
  
  print('[表示] 完了');
  print('処理を終了します');
}
</code></pre>
<h3 id="例2-ショッピングの計算システム"><a class="header" href="#例2-ショッピングの計算システム">例2: ショッピングの計算システム</a></h3>
<pre><code class="language-javascript">void main() {
  print('=== お買い物計算システム ===');
  
  // 商品情報の設定
  print('1. 商品情報を設定しています');
  String item1 = 'りんご';
  int price1 = 150;
  int quantity1 = 3;
  
  String item2 = 'パン';
  int price2 = 200;
  int quantity2 = 2;
  
  // 小計の計算
  print('2. 各商品の小計を計算しています');
  int subtotal1 = price1 * quantity1;
  int subtotal2 = price2 * quantity2;
  
  print('   ${item1}: ${price1}円 × ${quantity1}個 = ${subtotal1}円');
  print('   ${item2}: ${price2}円 × ${quantity2}個 = ${subtotal2}円');
  
  // 合計の計算
  print('3. 合計金額を計算しています');
  int total = subtotal1 + subtotal2;
  
  // 税込み価格の計算
  print('4. 消費税（10%）を計算しています');
  double taxRate = 0.10;
  int totalWithTax = (total * (1 + taxRate)).round();
  int tax = totalWithTax - total;
  
  // 結果の表示
  print('5. 計算結果を表示します');
  print('');
  print('--- レシート ---');
  print('小計: ${total}円');
  print('消費税: ${tax}円');
  print('合計: ${totalWithTax}円');
  print('---------------');
  print('');
  print('計算完了しました！');
}
</code></pre>
<h2 id="実行順序を変えると起こる問題"><a class="header" href="#実行順序を変えると起こる問題">実行順序を変えると起こる問題</a></h2>
<h3 id="問題例1-変数の順序問題"><a class="header" href="#問題例1-変数の順序問題">問題例1: 変数の順序問題</a></h3>
<pre><code class="language-javascript">void main() {
  // これはエラーになる例
  // print('合計: $total');  // totalがまだ定義されていないためエラー
  
  // 正しい順序
  int a = 10;
  int b = 20;
  int total = a + b;
  print('合計: $total');  // この順序なら正常に動作
}
</code></pre>
<h3 id="問題例2-論理的な順序問題"><a class="header" href="#問題例2-論理的な順序問題">問題例2: 論理的な順序問題</a></h3>
<pre><code class="language-javascript">void main() {
  // 論理的におかしい順序の例
  print('結果を発表します');
  print('計算完了！');
  print('計算を開始します');  // 順序が逆転している
  
  print('');
  
  // 正しい論理的順序
  print('計算を開始します');
  int result = 5 * 8;
  print('計算完了！');
  print('結果を発表します: $result');
}
</code></pre>
<h2 id="デバッグと実行順序"><a class="header" href="#デバッグと実行順序">デバッグと実行順序</a></h2>
<p>プログラムに問題があるとき、実行順序を追跡することでデバッグ（問題の発見と修正）ができます：</p>
<pre><code class="language-javascript">void main() {
  print('デバッグ開始');
  
  print('ステップ1: 変数aを初期化');
  int a = 10;
  print('a = $a');
  
  print('ステップ2: 変数bを初期化');
  int b = 0;  // 問題のある値
  print('b = $b');
  
  print('ステップ3: 割り算を実行');
  if (b != 0) {
    double result = a / b;
    print('結果: $result');
  } else {
    print('エラー: ゼロで割ることはできません');
  }
  
  print('デバッグ終了');
}
</code></pre>
<h2 id="実行順序の制御予告"><a class="header" href="#実行順序の制御予告">実行順序の制御（予告）</a></h2>
<p>今は順次実行だけを学んでいますが、後の章では実行順序を制御する方法を学びます：</p>
<h3 id="条件分岐第5章で詳しく学習"><a class="header" href="#条件分岐第5章で詳しく学習">条件分岐（第5章で詳しく学習）</a></h3>
<pre><code class="language-javascript">void main() {
  int score = 85;
  
  print('成績を判定します');
  if (score &gt;= 80) {
    print('優秀です！');
  } else {
    print('頑張りましょう');
  }
  print('判定完了');
}
</code></pre>
<h3 id="繰り返し処理第6章で詳しく学習"><a class="header" href="#繰り返し処理第6章で詳しく学習">繰り返し処理（第6章で詳しく学習）</a></h3>
<pre><code class="language-javascript">void main() {
  print('カウントダウン開始');
  
  for (int i = 3; i &gt;= 1; i--) {
    print('${i}...');
  }
  
  print('発射！');
}
</code></pre>
<h2 id="演習問題"><a class="header" href="#演習問題">演習問題</a></h2>
<h3 id="演習1-朝の準備プログラム"><a class="header" href="#演習1-朝の準備プログラム">演習1: 朝の準備プログラム</a></h3>
<p>朝の準備の手順をプログラムで表現してください。以下の順序で実行されるようにしてください：</p>
<ol>
<li>起床の挨拶</li>
<li>歯磨き</li>
<li>洗顔</li>
<li>朝食</li>
<li>準備完了の挨拶</li>
</ol>
<p>解答例：</p>
<pre><code class="language-javascript">void main() {
  print('=== 朝の準備 ===');
  print('1. おはようございます！起床しました');
  print('2. 歯磨きをします');
  print('3. 洗顔をします');
  print('4. 朝食を食べます');
  print('5. 準備完了！今日も一日頑張ります');
}
</code></pre>
<h3 id="演習2-図書館での本の貸出プログラム"><a class="header" href="#演習2-図書館での本の貸出プログラム">演習2: 図書館での本の貸出プログラム</a></h3>
<p>図書館で本を借りる手順をプログラムで表現してください：</p>
<p>解答例：</p>
<pre><code class="language-javascript">void main() {
  print('=== 図書館 本の貸出システム ===');
  
  // 利用者情報
  String userName = '田中太郎';
  String bookTitle = 'Dartプログラミング入門';
  String borrowDate = '2024年1月15日';
  String returnDate = '2024年1月29日';
  
  print('1. 利用者確認を行います');
  print('   利用者: $userName');
  
  print('2. 本の情報を確認します');
  print('   書籍名: $bookTitle');
  
  print('3. 貸出処理を実行します');
  print('   貸出日: $borrowDate');
  print('   返却予定日: $returnDate');
  
  print('4. 貸出完了');
  print('   ※返却期限を守ってください');
  
  print('貸出処理が完了しました');
}
</code></pre>
<h2 id="まとめ-8"><a class="header" href="#まとめ-8">まとめ</a></h2>
<p>プログラムの実行順序について学んだ重要なポイント：</p>
<h3 id="基本原則"><a class="header" href="#基本原則">基本原則</a></h3>
<ul>
<li><strong>逐次実行</strong>: プログラムは上から下へ、一行ずつ順番に実行される</li>
<li><strong>依存関係</strong>: 後の処理が前の処理結果に依存する場合、順序が重要</li>
<li><strong>初期化</strong>: 変数は使用する前に定義・初期化する必要がある</li>
</ul>
<h3 id="実用的な活用-1"><a class="header" href="#実用的な活用-1">実用的な活用</a></h3>
<ul>
<li><strong>段階的処理</strong>: 複雑な処理を段階に分けて整理</li>
<li><strong>デバッグ</strong>: 実行順序を追跡して問題を発見</li>
<li><strong>ユーザビリティ</strong>: 適切な順序でメッセージを表示</li>
</ul>
<h3 id="注意点"><a class="header" href="#注意点">注意点</a></h3>
<ul>
<li><strong>変数の定義順序</strong>: 使用する前に定義する</li>
<li><strong>論理的な順序</strong>: 現実の手順に合わせた順序</li>
<li><strong>出力の一貫性</strong>: ユーザーにとって分かりやすい順序</li>
</ul>
<p>プログラムの実行順序を理解することは、より複雑なプログラムを作るための基礎となります。次の節では、プログラムでエラーが発生したときの対処法について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="25-エラーメッセージの読み方"><a class="header" href="#25-エラーメッセージの読み方">2.5 エラーメッセージの読み方</a></h1>
<h2 id="エラーは学習の大切なパートナー"><a class="header" href="#エラーは学習の大切なパートナー">エラーは学習の大切なパートナー</a></h2>
<p>プログラミングを学ぶ過程で、<strong>エラー</strong>（間違い）に遭遇することは避けられません。しかし、エラーは「失敗」ではなく、より良いプログラムを作るための<strong>重要な手がかり</strong>です。エラーメッセージを正しく理解することで、問題を素早く解決し、プログラミングスキルを向上させることができます。</p>
<h2 id="エラーとは何か"><a class="header" href="#エラーとは何か">エラーとは何か</a></h2>
<p><strong>エラー</strong>とは、プログラムが正常に動作しない状態のことです。コンピュータは、プログラムに問題があることを発見すると、エラーメッセージを表示して、何が問題なのか、どこに問題があるのかを教えてくれます。</p>
<h2 id="dartにおけるエラーの種類"><a class="header" href="#dartにおけるエラーの種類">Dartにおけるエラーの種類</a></h2>
<h3 id="1-構文エラーsyntax-error"><a class="header" href="#1-構文エラーsyntax-error">1. 構文エラー（Syntax Error）</a></h3>
<p>プログラムの書き方（構文）が間違っている場合に発生するエラーです。</p>
<h4 id="例1-セミコロンの忘れ"><a class="header" href="#例1-セミコロンの忘れ">例1: セミコロンの忘れ</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello, World!')  // セミコロンがない
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Expected ';' after this.
</code></pre>
<p><strong>意味</strong>: 「この後にセミコロン（;）が必要です」</p>
<p><strong>解決方法</strong>: 行の最後にセミコロンを追加する</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');  // セミコロンを追加
}
</code></pre>
<h4 id="例2-括弧の不一致"><a class="header" href="#例2-括弧の不一致">例2: 括弧の不一致</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello, World!';  // 閉じ括弧がない
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Expected ')' after this.
</code></pre>
<p><strong>意味</strong>: 「この後に右括弧（)）が必要です」</p>
<p><strong>解決方法</strong>: 不足している括弧を追加する</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');  // 括弧を正しく対応させる
}
</code></pre>
<h4 id="例3-中括弧の不一致"><a class="header" href="#例3-中括弧の不一致">例3: 中括弧の不一致</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
// 閉じ中括弧がない
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Expected '}' after this.
</code></pre>
<p><strong>意味</strong>: 「この後に右中括弧（}）が必要です」</p>
<p><strong>解決方法</strong>: 不足している中括弧を追加する</p>
<pre><code class="language-javascript">void main() {
  print('Hello, World!');
}  // 中括弧を追加
</code></pre>
<h3 id="2-名前エラーname-error"><a class="header" href="#2-名前エラーname-error">2. 名前エラー（Name Error）</a></h3>
<p>存在しない変数や関数を使おうとした場合に発生するエラーです。</p>
<h4 id="例1-未定義の変数"><a class="header" href="#例1-未定義の変数">例1: 未定義の変数</a></h4>
<pre><code class="language-javascript">void main() {
  print(unknownVariable);  // 定義されていない変数
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Undefined name 'unknownVariable'.
</code></pre>
<p><strong>意味</strong>: 「'unknownVariable'という名前が定義されていません」</p>
<p><strong>解決方法</strong>: 変数を事前に定義するか、正しい変数名を使う</p>
<pre><code class="language-javascript">void main() {
  String knownVariable = 'Hello';
  print(knownVariable);  // 正しく定義された変数を使用
}
</code></pre>
<h4 id="例2-スペルミス"><a class="header" href="#例2-スペルミス">例2: スペルミス</a></h4>
<pre><code class="language-javascript">void main() {
  String name = 'Dart';
  print(namme);  // 変数名のスペルミス
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Undefined name 'namme'.
</code></pre>
<p><strong>意味</strong>: 「'namme'という名前が定義されていません」</p>
<p><strong>解決方法</strong>: 正しいスペルに修正する</p>
<pre><code class="language-javascript">void main() {
  String name = 'Dart';
  print(name);  // 正しいスペルに修正
}
</code></pre>
<h3 id="3-型エラーtype-error"><a class="header" href="#3-型エラーtype-error">3. 型エラー（Type Error）</a></h3>
<p>データの型が合わない場合に発生するエラーです。</p>
<h4 id="例1-型の不一致"><a class="header" href="#例1-型の不一致">例1: 型の不一致</a></h4>
<pre><code class="language-javascript">void main() {
  int number = 'Hello';  // 整数型に文字列を代入
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: A value of type 'String' can't be assigned to a variable of type 'int'.
</code></pre>
<p><strong>意味</strong>: 「String型の値をint型の変数に代入することはできません」</p>
<p><strong>解決方法</strong>: 型を合わせる</p>
<pre><code class="language-javascript">void main() {
  int number = 42;        // 整数型に整数を代入
  String text = 'Hello';  // 文字列型に文字列を代入
}
</code></pre>
<h3 id="4-実行時エラーruntime-error"><a class="header" href="#4-実行時エラーruntime-error">4. 実行時エラー（Runtime Error）</a></h3>
<p>プログラムは正しく書かれているが、実行中に問題が発生した場合のエラーです。</p>
<h4 id="例1-ゼロ割り算"><a class="header" href="#例1-ゼロ割り算">例1: ゼロ割り算</a></h4>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 0;
  print(a ~/ b);  // ゼロで割り算
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Unhandled exception:
IntegerDivisionByZeroException
</code></pre>
<p><strong>意味</strong>: 「処理されていない例外：ゼロによる整数除算例外」</p>
<p><strong>解決方法</strong>: ゼロ割りを避ける</p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 0;
  
  if (b != 0) {
    print(a ~/ b);
  } else {
    print('エラー: ゼロで割ることはできません');
  }
}
</code></pre>
<h2 id="エラーメッセージの読み方"><a class="header" href="#エラーメッセージの読み方">エラーメッセージの読み方</a></h2>
<h3 id="1-エラーメッセージの構造"><a class="header" href="#1-エラーメッセージの構造">1. エラーメッセージの構造</a></h3>
<p>典型的なエラーメッセージは以下の構造になっています：</p>
<pre><code>Error: [エラーの種類]: [詳細な説明]
  at line [行番号] column [列番号] of [ファイル名]
</code></pre>
<h3 id="2-重要な情報を見つける"><a class="header" href="#2-重要な情報を見つける">2. 重要な情報を見つける</a></h3>
<h4 id="行番号の確認"><a class="header" href="#行番号の確認">行番号の確認</a></h4>
<p>エラーメッセージには、問題が発生した行番号が表示されます。</p>
<pre><code class="language-javascript">// 1行目
void main() {
  // 2行目
  print('Hello')  // 3行目：セミコロンがない
  // 4行目
  print('World');
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Expected ';' after this.
  at line 3 column 18 of file.dart
</code></pre>
<p><strong>読み方</strong>: 「3行目の18文字目にセミコロンが必要です」</p>
<h4 id="エラーの種類を理解する"><a class="header" href="#エラーの種類を理解する">エラーの種類を理解する</a></h4>
<ul>
<li><strong>Expected</strong>: 「〜が期待されています」</li>
<li><strong>Undefined</strong>: 「〜が定義されていません」</li>
<li><strong>Can't be assigned</strong>: 「〜を代入できません」</li>
<li><strong>Exception</strong>: 「例外が発生しました」</li>
</ul>
<h3 id="3-エラーメッセージの具体例と解読"><a class="header" href="#3-エラーメッセージの具体例と解読">3. エラーメッセージの具体例と解読</a></h3>
<h4 id="例1-複雑な構文エラー"><a class="header" href="#例1-複雑な構文エラー">例1: 複雑な構文エラー</a></h4>
<pre><code class="language-javascript">void main() {
  String message = 'Hello, World!;
  print(message);
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Unterminated string literal.
  at line 2 column 20 of file.dart
</code></pre>
<p><strong>解読</strong>:</p>
<ul>
<li><strong>Unterminated string literal</strong>: 「終了されていない文字列リテラル」</li>
<li><strong>line 2 column 20</strong>: 「2行目の20文字目」</li>
<li><strong>問題</strong>: 文字列の終了引用符がない</li>
<li><strong>解決</strong>: 文字列を正しく閉じる</li>
</ul>
<pre><code class="language-javascript">void main() {
  String message = 'Hello, World!';  // 引用符を正しく閉じる
  print(message);
}
</code></pre>
<h4 id="例2-関数呼び出しのエラー"><a class="header" href="#例2-関数呼び出しのエラー">例2: 関数呼び出しのエラー</a></h4>
<pre><code class="language-javascript">void main() {
  print('Hello', 'World');  // print関数は1つの引数のみ受け取る
}
</code></pre>
<p>エラーメッセージ：</p>
<pre><code>Error: Too many positional arguments: 1 expected, but 2 found.
</code></pre>
<p><strong>解読</strong>:</p>
<ul>
<li><strong>Too many positional arguments</strong>: 「位置引数が多すぎます」</li>
<li><strong>1 expected, but 2 found</strong>: 「1つ期待されているが、2つ見つかりました」</li>
<li><strong>解決</strong>: 引数を1つにするか、文字列を結合する</li>
</ul>
<pre><code class="language-javascript">void main() {
  print('Hello World');           // 1つの文字列にする
  // または
  print('Hello' + ' ' + 'World'); // 文字列を結合する
}
</code></pre>
<h2 id="よくあるエラーとその対処法"><a class="header" href="#よくあるエラーとその対処法">よくあるエラーとその対処法</a></h2>
<h3 id="1-expected--after-this"><a class="header" href="#1-expected--after-this">1. 「Expected ';' after this」</a></h3>
<p><strong>原因</strong>: セミコロンの忘れ
<strong>対処法</strong>: 文の最後にセミコロンを追加する</p>
<pre><code class="language-javascript">// 間違い
print('Hello')

// 正しい
print('Hello');
</code></pre>
<h3 id="2-undefined-name-変数名"><a class="header" href="#2-undefined-name-変数名">2. 「Undefined name '変数名'」</a></h3>
<p><strong>原因</strong>: 変数名のスペルミスまたは未定義
<strong>対処法</strong>: 正しいスペルに修正するか、変数を定義する</p>
<pre><code class="language-javascript">// 間違い
String name = 'Dart';
print(naem);  // スペルミス

// 正しい
String name = 'Dart';
print(name);  // 正しいスペル
</code></pre>
<h3 id="3-expected--to-close-block-opened"><a class="header" href="#3-expected--to-close-block-opened">3. 「Expected '}' to close block opened」</a></h3>
<p><strong>原因</strong>: 中括弧の不一致
<strong>対処法</strong>: 開いた中括弧に対応する閉じ中括弧を追加する</p>
<pre><code class="language-javascript">// 間違い
void main() {
  print('Hello');
// } がない

// 正しい
void main() {
  print('Hello');
}  // } を追加
</code></pre>
<h3 id="4-a-value-of-type-string-cant-be-assigned-to-a-variable-of-type-int"><a class="header" href="#4-a-value-of-type-string-cant-be-assigned-to-a-variable-of-type-int">4. 「A value of type 'String' can't be assigned to a variable of type 'int'」</a></h3>
<p><strong>原因</strong>: 型の不一致
<strong>対処法</strong>: 正しい型の値を代入する</p>
<pre><code class="language-javascript">// 間違い
int age = '20';  // 文字列を整数型に代入

// 正しい
int age = 20;          // 整数を整数型に代入
String ageString = '20';  // 文字列を文字列型に代入
</code></pre>
<h2 id="エラーの解決手順"><a class="header" href="#エラーの解決手順">エラーの解決手順</a></h2>
<h3 id="ステップ1-落ち着く"><a class="header" href="#ステップ1-落ち着く">ステップ1: 落ち着く</a></h3>
<p>エラーが出ても慌てないことが重要です。エラーは問題を教えてくれる親切な機能です。</p>
<h3 id="ステップ2-エラーメッセージをよく読む"><a class="header" href="#ステップ2-エラーメッセージをよく読む">ステップ2: エラーメッセージをよく読む</a></h3>
<ul>
<li>どんなエラーか（構文エラー、名前エラーなど）</li>
<li>どこでエラーが起きたか（行番号、列番号）</li>
<li>何が問題か（具体的な説明）</li>
</ul>
<h3 id="ステップ3-該当箇所を確認する"><a class="header" href="#ステップ3-該当箇所を確認する">ステップ3: 該当箇所を確認する</a></h3>
<p>エラーメッセージで示された行と列を確認します。</p>
<h3 id="ステップ4-近くの行も確認する"><a class="header" href="#ステップ4-近くの行も確認する">ステップ4: 近くの行も確認する</a></h3>
<p>エラーの原因は、表示された行の前後にある場合があります。</p>
<h3 id="ステップ5-修正して再実行"><a class="header" href="#ステップ5-修正して再実行">ステップ5: 修正して再実行</a></h3>
<p>修正したら、プログラムを再実行して確認します。</p>
<h2 id="エラーの予防方法"><a class="header" href="#エラーの予防方法">エラーの予防方法</a></h2>
<h3 id="1-コードを少しずつ書く"><a class="header" href="#1-コードを少しずつ書く">1. コードを少しずつ書く</a></h3>
<p>一度に大量のコードを書かずに、少しずつ書いて動作確認することで、エラーの箇所を特定しやすくなります。</p>
<pre><code class="language-javascript">void main() {
  // ステップ1: 基本の出力を確認
  print('Hello');
  
  // ここで一度実行して動作確認
  
  // ステップ2: 変数を追加
  String name = 'Dart';
  print(name);
  
  // ここでも実行して動作確認
}
</code></pre>
<h3 id="2-インデントを正しく使う"><a class="header" href="#2-インデントを正しく使う">2. インデントを正しく使う</a></h3>
<p>正しいインデントを使うことで、構造が見やすくなり、エラーを防げます。</p>
<pre><code class="language-javascript">// 見やすいコード
void main() {
  if (true) {
    print('条件が真です');
  }
}

// 見にくいコード
void main() {
if (true) {
print('条件が真です');
}
}
</code></pre>
<h3 id="3-コメントを活用する"><a class="header" href="#3-コメントを活用する">3. コメントを活用する</a></h3>
<p>コメントを使って自分の意図を記録しておくことで、エラーの原因を見つけやすくなります。</p>
<pre><code class="language-javascript">void main() {
  // 学生の情報を設定
  String studentName = '田中太郎';
  int score = 85;
  
  // 成績判定（80点以上で合格）
  if (score &gt;= 80) {
    print('$studentName: 合格');
  } else {
    print('$studentName: 不合格');
  }
}
</code></pre>
<h2 id="デバッグのテクニック"><a class="header" href="#デバッグのテクニック">デバッグのテクニック</a></h2>
<h3 id="1-print文を使った確認"><a class="header" href="#1-print文を使った確認">1. print文を使った確認</a></h3>
<p>変数の値や処理の流れを確認するために、print文を追加します。</p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 5;
  
  print('デバッグ: a = $a, b = $b');  // 変数の値を確認
  
  int result = a + b;
  
  print('デバッグ: 計算結果 = $result');  // 計算結果を確認
  
  print('最終結果: $result');
}
</code></pre>
<h3 id="2-段階的な実行"><a class="header" href="#2-段階的な実行">2. 段階的な実行</a></h3>
<p>複雑な処理を段階に分けて、どこで問題が起きているかを特定します。</p>
<pre><code class="language-javascript">void main() {
  print('ステップ1: 開始');
  
  String name = '山田花子';
  print('ステップ2: 名前設定完了 - $name');
  
  int age = 20;
  print('ステップ3: 年齢設定完了 - $age');
  
  String message = '$nameは${age}歳です';
  print('ステップ4: メッセージ作成完了 - $message');
  
  print('ステップ5: 完了');
}
</code></pre>
<h2 id="実践演習"><a class="header" href="#実践演習">実践演習</a></h2>
<h3 id="演習1-エラーを修正しよう"><a class="header" href="#演習1-エラーを修正しよう">演習1: エラーを修正しよう</a></h3>
<p>以下のプログラムにはエラーがあります。エラーメッセージを読んで修正してください。</p>
<pre><code class="language-javascript">void main() {
  String name = 'プログラミング'
  int score = '85';
  print('科目: $name')
  print('点数: $score点');
</code></pre>
<p><strong>解答例</strong>:</p>
<pre><code class="language-javascript">void main() {
  String name = 'プログラミング';  // セミコロンを追加
  int score = 85;                   // 文字列ではなく数値を代入
  print('科目: $name');             // セミコロンを追加
  print('点数: $score点');
}
</code></pre>
<h3 id="演習2-エラーメッセージを読み解こう"><a class="header" href="#演習2-エラーメッセージを読み解こう">演習2: エラーメッセージを読み解こう</a></h3>
<p>以下のエラーメッセージから、何が問題で、どう修正すべきかを考えてください。</p>
<pre><code>Error: Undefined name 'userName'.
  at line 4 column 9 of program.dart
</code></pre>
<p><strong>問題のコード</strong>:</p>
<pre><code class="language-javascript">void main() {
  String userNaem = '田中太郎';  // スペルミス
  int userAge = 25;
  print('名前: $userName');      // 4行目：間違った変数名
  print('年齢: $userAge');
}
</code></pre>
<p><strong>解答</strong>:</p>
<ul>
<li>2行目の変数名 <code>userNaem</code> を <code>userName</code> に修正</li>
<li>または4行目の <code>userName</code> を <code>userNaem</code> に修正</li>
</ul>
<h2 id="まとめ-9"><a class="header" href="#まとめ-9">まとめ</a></h2>
<p>エラーメッセージの理解について学んだ重要なポイント：</p>
<h3 id="エラーの捉え方"><a class="header" href="#エラーの捉え方">エラーの捉え方</a></h3>
<ul>
<li><strong>エラーは敵ではない</strong>: 問題を教えてくれる親切な機能</li>
<li><strong>学習の機会</strong>: エラーから多くのことを学べる</li>
<li><strong>スキル向上</strong>: エラー対処能力はプログラミング力の一部</li>
</ul>
<h3 id="エラーの種類"><a class="header" href="#エラーの種類">エラーの種類</a></h3>
<ul>
<li><strong>構文エラー</strong>: プログラムの書き方の間違い</li>
<li><strong>名前エラー</strong>: 存在しない変数・関数の使用</li>
<li><strong>型エラー</strong>: データ型の不一致</li>
<li><strong>実行時エラー</strong>: プログラム実行中の問題</li>
</ul>
<h3 id="解決のアプローチ"><a class="header" href="#解決のアプローチ">解決のアプローチ</a></h3>
<ul>
<li><strong>冷静に対処</strong>: 慌てずにメッセージを読む</li>
<li><strong>段階的デバッグ</strong>: 少しずつ問題を切り分ける</li>
<li><strong>予防的プログラミング</strong>: エラーを未然に防ぐ書き方</li>
</ul>
<h3 id="重要な習慣"><a class="header" href="#重要な習慣">重要な習慣</a></h3>
<ul>
<li><strong>こまめな実行</strong>: 少し書いたら動作確認</li>
<li><strong>整理された コード</strong>: インデントとコメントの活用</li>
<li><strong>段階的開発</strong>: 複雑な処理を段階に分ける</li>
</ul>
<p>エラーメッセージを読めるようになることで、プログラミングの学習効率が大幅に向上します。エラーを恐れず、エラーメッセージから学ぶ姿勢を大切にしましょう。</p>
<p>第2章はこれで完了です。次の第3章では、プログラムで データを扱うための「変数とデータ型」について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第3章変数とデータ型"><a class="header" href="#第3章変数とデータ型">第3章：変数とデータ型</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="変数とは何か"><a class="header" href="#変数とは何か">変数とは何か</a></h1>
<p>プログラムにおいて、<strong>変数</strong>は値を格納するための「箱」のような存在です。この箱には名前を付けることができ、後でその名前を使って中身の値を取り出したり、新しい値を入れ替えたりできます。</p>
<h2 id="変数の基本概念"><a class="header" href="#変数の基本概念">変数の基本概念</a></h2>
<p>変数を日常生活に例えると、ラベルの貼られた収納ボックスのようなものです。</p>
<ul>
<li><strong>ボックス（メモリ）</strong>：値を保存する場所</li>
<li><strong>ラベル（変数名）</strong>：ボックスを識別するための名前</li>
<li><strong>中身（値）</strong>：実際に格納されているデータ</li>
</ul>
<h2 id="dartでの変数の宣言"><a class="header" href="#dartでの変数の宣言">Dartでの変数の宣言</a></h2>
<p>Dartで変数を作成するには、いくつかの方法があります：</p>
<pre><code class="language-javascript">// 方法1：型を明示して宣言
int age = 25;
String name = "太郎";

// 方法2：varキーワードを使用（型推論）
var score = 100;     // intとして推論される
var message = "こんにちは"; // Stringとして推論される

// 方法3：動的型（Object型）
dynamic value = 42;
value = "文字列に変更";  // 異なる型の値を代入可能
</code></pre>
<h2 id="変数の初期化と代入"><a class="header" href="#変数の初期化と代入">変数の初期化と代入</a></h2>
<pre><code class="language-javascript">// 変数の宣言と初期化
int count = 0;

// 後から値を代入
count = 10;
count = count + 5;  // 既存の値を使った計算

print(count);  // 出力：15
</code></pre>
<h2 id="変数を使う理由"><a class="header" href="#変数を使う理由">変数を使う理由</a></h2>
<ol>
<li><strong>値の再利用</strong>：同じ値を何度も使える</li>
<li><strong>可読性の向上</strong>：意味のある名前で値を表現</li>
<li><strong>保守性の向上</strong>：値の変更が一箇所で済む</li>
<li><strong>計算の中間結果保存</strong>：複雑な計算を段階的に実行</li>
</ol>
<pre><code class="language-javascript">// 変数を使わない場合（良くない例）
print(3.14159 * 5 * 5);  // 円の面積

// 変数を使う場合（良い例）
double pi = 3.14159;
double radius = 5.0;
double area = pi * radius * radius;
print(area);  // 何を計算しているか明確
</code></pre>
<h2 id="練習問題"><a class="header" href="#練習問題">練習問題</a></h2>
<ol>
<li>あなたの年齢を格納する変数を作成してください</li>
<li>あなたの名前を格納する変数を作成してください</li>
<li>これらの変数を使って自己紹介文を出力してください</li>
</ol>
<pre><code class="language-javascript">// 解答例
int myAge = 20;
String myName = "田中";
print("私の名前は${myName}で、${myAge}歳です。");
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="数値を扱うintdouble"><a class="header" href="#数値を扱うintdouble">数値を扱う（int、double）</a></h1>
<p>プログラミングにおいて、数値の扱いは基本的な操作の一つです。Dartでは主に2つの数値型を使います：<strong>int</strong>（整数）と<strong>double</strong>（小数）です。</p>
<h2 id="int型整数"><a class="header" href="#int型整数">int型（整数）</a></h2>
<p><strong>int型</strong>は整数（小数点のない数値）を扱います。</p>
<pre><code class="language-javascript">// int型の変数宣言
int age = 25;
int population = 1000000;
int temperature = -5;  // 負の数も扱える

print(age);        // 出力：25
print(population); // 出力：1000000
print(temperature); // 出力：-5
</code></pre>
<h3 id="int型の操作"><a class="header" href="#int型の操作">int型の操作</a></h3>
<pre><code class="language-javascript">int a = 10;
int b = 3;

// 基本的な算術演算
print(a + b);  // 加算：13
print(a - b);  // 減算：7
print(a * b);  // 乗算：30
print(a ~/ b); // 整数除算：3（小数部分は切り捨て）
print(a % b);  // 余り：1

// 代入演算子
int count = 0;
count = count + 1;  // または count += 1;
count++;           // インクリメント（1を足す）
count--;           // デクリメント（1を引く）
</code></pre>
<h2 id="double型小数"><a class="header" href="#double型小数">double型（小数）</a></h2>
<p><strong>double型</strong>は小数点を含む数値を扱います。</p>
<pre><code class="language-javascript">// double型の変数宣言
double price = 199.99;
double pi = 3.14159;
double rate = 0.05;  // 5%を表現

print(price); // 出力：199.99
print(pi);    // 出力：3.14159
print(rate);  // 出力：0.05
</code></pre>
<h3 id="double型の操作"><a class="header" href="#double型の操作">double型の操作</a></h3>
<pre><code class="language-javascript">double x = 10.5;
double y = 3.2;

// 基本的な算術演算
print(x + y);  // 加算：13.7
print(x - y);  // 減算：7.3
print(x * y);  // 乗算：33.6
print(x / y);  // 除算：3.28125

// 四捨五入などの操作
double value = 3.7;
print(value.round());     // 四捨五入：4
print(value.floor());     // 切り捨て：3
print(value.ceil());      // 切り上げ：4
</code></pre>
<h2 id="型変換"><a class="header" href="#型変換">型変換</a></h2>
<p>int型とdouble型を相互に変換できます。</p>
<pre><code class="language-javascript">// intからdoubleへ
int intValue = 42;
double doubleValue = intValue.toDouble();
print(doubleValue); // 出力：42.0

// doubleからintへ
double price = 299.99;
int roundedPrice = price.round();  // または price.toInt()
print(roundedPrice); // 出力：300

// 文字列から数値へ
String ageString = "25";
int age = int.parse(ageString);
print(age); // 出力：25

String priceString = "199.99";
double price2 = double.parse(priceString);
print(price2); // 出力：199.99
</code></pre>
<h2 id="数値の型推論"><a class="header" href="#数値の型推論">数値の型推論</a></h2>
<pre><code class="language-javascript">// varを使った場合の型推論
var wholeNumber = 42;      // int型として推論
var decimalNumber = 42.0;  // double型として推論

print(wholeNumber.runtimeType);  // 出力：int
print(decimalNumber.runtimeType); // 出力：double
</code></pre>
<h2 id="実用的な例"><a class="header" href="#実用的な例">実用的な例</a></h2>
<pre><code class="language-javascript">// 商品の価格計算
double unitPrice = 150.0;  // 単価
int quantity = 3;          // 数量
double subtotal = unitPrice * quantity;  // 小計
double taxRate = 0.10;     // 消費税率（10%）
double tax = subtotal * taxRate;         // 消費税
double total = subtotal + tax;           // 合計

print("単価: ${unitPrice}円");
print("数量: ${quantity}個");
print("小計: ${subtotal}円");
print("消費税: ${tax}円");
print("合計: ${total}円");
</code></pre>
<h2 id="注意点-1"><a class="header" href="#注意点-1">注意点</a></h2>
<ol>
<li>
<p><strong>除算の違い</strong>：</p>
<ul>
<li><code>/</code>：通常の除算（結果はdoubleになる）</li>
<li><code>~/</code>：整数除算（結果はintになる）</li>
</ul>
</li>
<li>
<p><strong>精度の問題</strong>：</p>
<pre><code class="language-javascript">double result = 0.1 + 0.2;
print(result); // 0.30000000000000004（期待値：0.3）
</code></pre>
</li>
</ol>
<h2 id="練習問題-1"><a class="header" href="#練習問題-1">練習問題</a></h2>
<ol>
<li>あなたの身長（cm）をdouble型で、体重（kg）をint型で宣言してください</li>
<li>BMIを計算してください（BMI = 体重 ÷ 身長² × 10000）</li>
<li>円の半径を入力として、円周と面積を計算してください</li>
</ol>
<pre><code class="language-javascript">// 解答例
double height = 170.5;  // cm
int weight = 65;        // kg

// BMI計算
double bmi = weight / (height * height) * 10000;
print("BMI: ${bmi.toStringAsFixed(1)}");

// 円の計算
double radius = 5.0;
double pi = 3.14159;
double circumference = 2 * pi * radius;  // 円周
double area = pi * radius * radius;      // 面積

print("半径: ${radius}");
print("円周: ${circumference.toStringAsFixed(2)}");
print("面積: ${area.toStringAsFixed(2)}");
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="文字列を扱うstring"><a class="header" href="#文字列を扱うstring">文字列を扱う（String）</a></h1>
<p><strong>String型</strong>は文字列（テキスト）を扱うためのデータ型です。プログラムでは、名前やメッセージ、説明文など、文字の情報を扱う機会が非常に多くあります。</p>
<h2 id="string型の基本"><a class="header" href="#string型の基本">String型の基本</a></h2>
<p>文字列は引用符（<code>"</code>または<code>'</code>）で囲んで表現します。</p>
<pre><code class="language-javascript">// String型の変数宣言
String name = "田中太郎";
String message = "こんにちは、世界！";
String empty = "";  // 空文字列

// シングルクォートも使用可能
String greeting = 'おはようございます';

print(name);     // 出力：田中太郎
print(message);  // 出力：こんにちは、世界！
print(greeting); // 出力：おはようございます
</code></pre>
<h2 id="文字列の連結"><a class="header" href="#文字列の連結">文字列の連結</a></h2>
<p>複数の文字列を結合することができます。</p>
<pre><code class="language-javascript">String firstName = "太郎";
String lastName = "田中";

// + 演算子を使った連結
String fullName = lastName + firstName;
print(fullName); // 出力：田中太郎

// 複数の文字列を連結
String introduction = "私の名前は" + lastName + firstName + "です。";
print(introduction); // 出力：私の名前は田中太郎です。
</code></pre>
<h2 id="文字列補間string-interpolation"><a class="header" href="#文字列補間string-interpolation">文字列補間（String Interpolation）</a></h2>
<p><code>$</code>記号を使って、文字列の中に変数の値を埋め込むことができます。</p>
<pre><code class="language-javascript">String name = "佐藤";
int age = 25;
double height = 170.5;

// $変数名 で値を埋め込み
String profile = "名前：$name、年齢：$age歳";
print(profile); // 出力：名前：佐藤、年齢：25歳

// ${式} で計算結果も埋め込み可能
String detail = "私は$nameです。${age + 5}年後は${age + 5}歳になります。";
print(detail); // 出力：私は佐藤です。30年後は30歳になります。

// 小数の表示
String info = "身長は${height}cmです。";
print(info); // 出力：身長は170.5cmです。
</code></pre>
<h2 id="複数行文字列"><a class="header" href="#複数行文字列">複数行文字列</a></h2>
<p>長い文字列や改行を含む文字列は、3つの引用符で囲みます。</p>
<pre><code class="language-javascript">String multiLine = """
これは
複数行の
文字列です。
""";

print(multiLine);
// 出力：
// これは
// 複数行の
// 文字列です。

// 実用例：HTMLテンプレート
String htmlTemplate = """
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;$title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;$heading&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
""";
</code></pre>
<h2 id="文字列のメソッド"><a class="header" href="#文字列のメソッド">文字列のメソッド</a></h2>
<p>Stringには便利なメソッドが多数用意されています。</p>
<pre><code class="language-javascript">String text = "Hello World";

// 基本情報
print(text.length);        // 文字列の長さ：11
print(text.isEmpty);       // 空文字列か：false
print(text.isNotEmpty);    // 空でないか：true

// 大文字・小文字変換
print(text.toUpperCase()); // 大文字：HELLO WORLD
print(text.toLowerCase()); // 小文字：hello world

// 部分文字列
print(text.substring(0, 5)); // 最初の5文字：Hello

// 検索
print(text.contains("World")); // 含むか：true
print(text.indexOf("o"));      // 最初の位置：4
print(text.startsWith("Hello")); // で始まるか：true
print(text.endsWith("World"));   // で終わるか：true

// 分割
List&lt;String&gt; words = text.split(" ");
print(words); // [Hello, World]
</code></pre>
<h2 id="日本語文字列の扱い"><a class="header" href="#日本語文字列の扱い">日本語文字列の扱い</a></h2>
<pre><code class="language-javascript">String japanese = "こんにちは、世界！";

print(japanese.length);     // 文字数：8
print(japanese.contains("世界")); // true

// 日本語での文字列補間
String name = "田中";
String greeting = "こんにちは、${name}さん！";
print(greeting); // 出力：こんにちは、田中さん！

// ひらがな・カタカナ・漢字の混在
String mixed = "私の名前はタナカ太郎です。";
print(mixed); // 出力：私の名前はタナカ太郎です。
</code></pre>
<h2 id="エスケープシーケンス"><a class="header" href="#エスケープシーケンス">エスケープシーケンス</a></h2>
<p>特殊な文字を文字列に含める方法です。</p>
<pre><code class="language-javascript">// 改行文字
String withNewline = "1行目\n2行目";
print(withNewline);
// 出力：
// 1行目
// 2行目

// タブ文字
String withTab = "項目1\t項目2\t項目3";
print(withTab); // 出力：項目1    項目2    項目3

// 引用符を含める
String withQuote = "彼は\"こんにちは\"と言いました。";
print(withQuote); // 出力：彼は"こんにちは"と言いました。

// バックスラッシュ
String withBackslash = "ファイルパス: C:\\Users\\Documents";
print(withBackslash); // 出力：ファイルパス: C:\Users\Documents
</code></pre>
<h2 id="実用的な例-1"><a class="header" href="#実用的な例-1">実用的な例</a></h2>
<pre><code class="language-javascript">// ユーザー情報の表示
String userName = "山田花子";
int userAge = 28;
String userEmail = "hanako@example.com";

String userProfile = """
=== ユーザープロフィール ===
名前: $userName
年齢: $userAge歳
メール: $userEmail
登録日: 2024年1月15日
""";

print(userProfile);

// 商品情報の整形
String productName = "ワイヤレスイヤホン";
double productPrice = 12980.0;
int stockCount = 15;

String productInfo = "商品名：$productName\n"
                    "価格：¥${productPrice.toStringAsFixed(0)}\n"
                    "在庫：${stockCount}個";

print(productInfo);
</code></pre>
<h2 id="注意点とベストプラクティス"><a class="header" href="#注意点とベストプラクティス">注意点とベストプラクティス</a></h2>
<ol>
<li>
<p><strong>文字列補間を積極的に使用</strong>：</p>
<pre><code class="language-javascript">// 良い例
String message = "こんにちは、${name}さん！";

// あまり良くない例
String message = "こんにちは、" + name + "さん！";
</code></pre>
</li>
<li>
<p><strong>長い文字列は複数行文字列を使用</strong>：</p>
<pre><code class="language-javascript">String longText = """
この文章は非常に長く、
複数行にわたって書かれています。
読みやすさを重視しています。
""";
</code></pre>
</li>
</ol>
<h2 id="練習問題-2"><a class="header" href="#練習問題-2">練習問題</a></h2>
<ol>
<li>あなたの自己紹介文を文字列補間を使って作成してください</li>
<li>商品名と価格を受け取って、「商品名：○○、価格：¥○○」という形式で出力してください</li>
<li>文字列のメソッドを使って、入力された文字列の情報（長さ、大文字変換など）を表示してください</li>
</ol>
<pre><code class="language-javascript">// 解答例
// 1. 自己紹介
String myName = "鈴木一郎";
int myAge = 22;
String myHobby = "読書";

String selfIntroduction = """
はじめまして！
私の名前は${myName}です。
年齢は${myAge}歳で、趣味は${myHobby}です。
よろしくお願いします。
""";

print(selfIntroduction);

// 2. 商品情報
String productName = "コーヒーメーカー";
double price = 8980.0;

String productDisplay = "商品名：$productName、価格：¥${price.toStringAsFixed(0)}";
print(productDisplay);

// 3. 文字列情報
String inputText = "Programming with Dart";
print("元の文字列: $inputText");
print("文字数: ${inputText.length}");
print("大文字: ${inputText.toUpperCase()}");
print("小文字: ${inputText.toLowerCase()}");
print("'Dart'を含むか: ${inputText.contains('Dart')}");
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="真偽値を扱うbool"><a class="header" href="#真偽値を扱うbool">真偽値を扱う（bool）</a></h1>
<p><strong>bool型</strong>（ブール型）は、真（true）または偽（false）の2つの値のみを持つデータ型です。プログラムでの条件判断や状態管理において非常に重要な役割を果たします。</p>
<h2 id="bool型の基本"><a class="header" href="#bool型の基本">bool型の基本</a></h2>
<p>bool型の変数は<code>true</code>または<code>false</code>の値のみを格納できます。</p>
<pre><code class="language-javascript">// bool型の変数宣言
bool isActive = true;
bool isComplete = false;
bool hasError = true;

print(isActive);   // 出力：true
print(isComplete); // 出力：false
print(hasError);   // 出力：true

// varを使った場合も自動的にbool型として推論される
var isReady = true;
print(isReady.runtimeType); // 出力：bool
</code></pre>
<h2 id="比較演算子とbool値"><a class="header" href="#比較演算子とbool値">比較演算子とbool値</a></h2>
<p>比較演算子を使うと、その結果としてbool値が得られます。</p>
<pre><code class="language-javascript">int a = 10;
int b = 5;

// 等価比較
print(a == b);  // false（aとbは等しくない）
print(a != b);  // true（aとbは等しくない）

// 大小比較
print(a &gt; b);   // true（aはbより大きい）
print(a &lt; b);   // false（aはbより小さくない）
print(a &gt;= b);  // true（aはb以上）
print(a &lt;= b);  // false（aはb以下でない）

// 文字列の比較
String name1 = "田中";
String name2 = "佐藤";
print(name1 == name2); // false
print(name1 != name2); // true
</code></pre>
<h2 id="論理演算子"><a class="header" href="#論理演算子">論理演算子</a></h2>
<p>複数の条件を組み合わせる際に使用します。</p>
<pre><code class="language-javascript">bool isSunny = true;
bool isWarm = false;
bool hasUmbrella = true;

// AND演算子（&amp;&amp;）- 全ての条件がtrueの場合のみtrue
bool canGoOut = isSunny &amp;&amp; isWarm;
print(canGoOut); // false（両方ともtrueではない）

// OR演算子（||）- いずれかの条件がtrueの場合true
bool needUmbrella = !isSunny || hasUmbrella;
print(needUmbrella); // true

// NOT演算子（!）- 条件を反転
bool isRainy = !isSunny;
print(isRainy); // false
</code></pre>
<h2 id="実用的な条件判断"><a class="header" href="#実用的な条件判断">実用的な条件判断</a></h2>
<pre><code class="language-javascript">int age = 20;
bool hasLicense = true;
double accountBalance = 5000.0;

// 年齢チェック
bool isAdult = age &gt;= 18;
print("成人：$isAdult"); // 成人：true

// 運転可能かチェック
bool canDrive = isAdult &amp;&amp; hasLicense;
print("運転可能：$canDrive"); // 運転可能：true

// 購入可能かチェック
double productPrice = 3000.0;
bool canBuy = accountBalance &gt;= productPrice;
print("購入可能：$canBuy"); // 購入可能：true

// 複合条件
bool canBuyAndDrive = canBuy &amp;&amp; canDrive;
print("購入して運転可能：$canBuyAndDrive"); // 購入して運転可能：true
</code></pre>
<h2 id="文字列やnullとの比較"><a class="header" href="#文字列やnullとの比較">文字列やnullとの比較</a></h2>
<pre><code class="language-javascript">String input = "";
String? optionalValue = null;

// 空文字列のチェック
bool isEmpty = input.isEmpty;
bool isNotEmpty = input.isNotEmpty;
print("空文字列：$isEmpty");     // 空文字列：true
print("空でない：$isNotEmpty");   // 空でない：false

// nullチェック
bool isNull = optionalValue == null;
bool isNotNull = optionalValue != null;
print("null：$isNull");        // null：true
print("nullでない：$isNotNull"); // nullでない：false
</code></pre>
<h2 id="bool値の活用例"><a class="header" href="#bool値の活用例">bool値の活用例</a></h2>
<h3 id="ユーザー状態管理"><a class="header" href="#ユーザー状態管理">ユーザー状態管理</a></h3>
<pre><code class="language-javascript">// ユーザーの状態を管理
bool isLoggedIn = false;
bool isPremiumUser = true;
bool hasNotifications = true;

String userStatus = """
ログイン状態：${isLoggedIn ? "ログイン中" : "未ログイン"}
会員種別：${isPremiumUser ? "プレミアム" : "通常"}
通知：${hasNotifications ? "あり" : "なし"}
""";

print(userStatus);
</code></pre>
<h3 id="設定管理"><a class="header" href="#設定管理">設定管理</a></h3>
<pre><code class="language-javascript">// アプリケーション設定
bool isDarkMode = true;
bool enableNotifications = false;
bool autoSave = true;

print("=== 設定 ===");
print("ダークモード：${isDarkMode ? "ON" : "OFF"}");
print("通知：${enableNotifications ? "ON" : "OFF"}");
print("自動保存：${autoSave ? "ON" : "OFF"}");
</code></pre>
<h3 id="バリデーション妥当性検証"><a class="header" href="#バリデーション妥当性検証">バリデーション（妥当性検証）</a></h3>
<pre><code class="language-javascript">String email = "user@example.com";
String password = "password123";

// 簡単なバリデーション
bool isValidEmail = email.contains("@") &amp;&amp; email.contains(".");
bool isValidPassword = password.length &gt;= 8;
bool hasUpperCase = password != password.toLowerCase();
bool hasNumber = password.contains(RegExp(r'[0-9]'));

bool isFormValid = isValidEmail &amp;&amp; isValidPassword;

print("=== バリデーション結果 ===");
print("有効なメール：$isValidEmail");
print("有効なパスワード：$isValidPassword");
print("大文字を含む：$hasUpperCase");
print("数字を含む：$hasNumber");
print("フォーム有効：$isFormValid");
</code></pre>
<h2 id="三項演算子条件演算子"><a class="header" href="#三項演算子条件演算子">三項演算子（条件演算子）</a></h2>
<p>bool値を使った簡潔な条件分岐ができます。</p>
<pre><code class="language-javascript">int score = 85;
bool isPassing = score &gt;= 60;

// 三項演算子：条件 ? 真の場合の値 : 偽の場合の値
String result = isPassing ? "合格" : "不合格";
String grade = score &gt;= 90 ? "A" : score &gt;= 80 ? "B" : score &gt;= 70 ? "C" : "D";

print("結果：$result");  // 結果：合格
print("評価：$grade");   // 評価：B
</code></pre>
<h2 id="よくある間違いと注意点"><a class="header" href="#よくある間違いと注意点">よくある間違いと注意点</a></h2>
<pre><code class="language-javascript">// 間違い：数値をboolとして使おうとする（Dartでは不可）
// int flag = 1;
// if (flag) { ... }  // エラー！

// 正しい：明示的にbool値を使用
int flag = 1;
bool isEnabled = flag == 1;
if (isEnabled) {
    print("有効");
}

// 間違い：文字列をboolとして使おうとする
// String status = "true";
// if (status) { ... }  // エラー！

// 正しい：文字列からbool値への変換
String status = "true";
bool isTrue = status.toLowerCase() == "true";
if (isTrue) {
    print("真");
}
</code></pre>
<h2 id="練習問題-3"><a class="header" href="#練習問題-3">練習問題</a></h2>
<ol>
<li>あなたの年齢が18歳以上かどうかを判定するプログラムを作成してください</li>
<li>パスワードの強度チェックプログラムを作成してください（8文字以上、大文字・小文字・数字を含む）</li>
<li>買い物システムで、商品が在庫ありかつ予算内かどうかを判定してください</li>
</ol>
<pre><code class="language-javascript">// 解答例

// 1. 年齢判定
int myAge = 20;
bool isAdult = myAge &gt;= 18;
print("成人かどうか：${isAdult ? "はい" : "いいえ"}");

// 2. パスワード強度チェック
String password = "MyPass123";
bool hasMinLength = password.length &gt;= 8;
bool hasUpperCase = password != password.toLowerCase();
bool hasLowerCase = password != password.toUpperCase();
bool hasNumber = password.contains(RegExp(r'[0-9]'));

bool isStrongPassword = hasMinLength &amp;&amp; hasUpperCase &amp;&amp; hasLowerCase &amp;&amp; hasNumber;

print("=== パスワード強度チェック ===");
print("8文字以上：$hasMinLength");
print("大文字を含む：$hasUpperCase");
print("小文字を含む：$hasLowerCase");
print("数字を含む：$hasNumber");
print("強いパスワード：$isStrongPassword");

// 3. 買い物システム
String productName = "ノートパソコン";
double productPrice = 80000.0;
int stockCount = 3;
double budget = 100000.0;

bool isInStock = stockCount &gt; 0;
bool isAffordable = productPrice &lt;= budget;
bool canPurchase = isInStock &amp;&amp; isAffordable;

print("=== 購入判定 ===");
print("商品名：$productName");
print("在庫あり：$isInStock");
print("予算内：$isAffordable");
print("購入可能：$canPurchase");
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="変数の命名規則とわかりやすい名前の付け方"><a class="header" href="#変数の命名規則とわかりやすい名前の付け方">変数の命名規則とわかりやすい名前の付け方</a></h1>
<p>プログラムにおいて、変数に適切な名前を付けることは、コードの可読性と保守性を大幅に向上させます。Dartには明確な命名規則があり、これに従うことで統一感のあるコードが書けます。</p>
<h2 id="dartの命名規則"><a class="header" href="#dartの命名規則">Dartの命名規則</a></h2>
<h3 id="1-キャメルケースcamelcase"><a class="header" href="#1-キャメルケースcamelcase">1. キャメルケース（camelCase）</a></h3>
<p>変数名や関数名には<strong>キャメルケース</strong>を使用します。</p>
<pre><code class="language-javascript">// 良い例
String userName = "田中太郎";
int userAge = 25;
double accountBalance = 50000.0;
bool isLoggedIn = true;

// 複数の単語を組み合わせる場合
String firstName = "太郎";
String lastName = "田中";
int totalScore = 0;
bool hasPermission = false;
</code></pre>
<h3 id="2-アンダースコア_の使用"><a class="header" href="#2-アンダースコア_の使用">2. アンダースコア（_）の使用</a></h3>
<ul>
<li><strong>プライベート変数</strong>：アンダースコアで始める</li>
<li><strong>定数</strong>：すべて大文字でアンダースコア区切り</li>
</ul>
<pre><code class="language-javascript">// プライベート変数（クラス内でのみ使用）
String _privateVariable = "内部用";
int _internalCounter = 0;

// 定数
const String API_URL = "https://api.example.com";
const int MAX_RETRY_COUNT = 3;
const double TAX_RATE = 0.10;
</code></pre>
<h3 id="3-使ってはいけない文字パターン"><a class="header" href="#3-使ってはいけない文字パターン">3. 使ってはいけない文字・パターン</a></h3>
<pre><code class="language-javascript">// 間違った例
// String user-name = "太郎";    // ハイフン不可
// String user name = "太郎";    // スペース不可
// int 123count = 0;            // 数字から始まる不可
// String class = "クラス";      // 予約語不可
// String いろ = "赤";           // 日本語不可（技術的には可能だが非推奨）

// 正しい例
String userName = "太郎";
int count123 = 0;
String className = "クラス";
String color = "赤";
</code></pre>
<h2 id="わかりやすい変数名の付け方"><a class="header" href="#わかりやすい変数名の付け方">わかりやすい変数名の付け方</a></h2>
<h3 id="1-目的を明確に表現する"><a class="header" href="#1-目的を明確に表現する">1. 目的を明確に表現する</a></h3>
<pre><code class="language-javascript">// 悪い例：何を表しているかわからない
int x = 25;
String s = "田中";
bool f = true;

// 良い例：目的が明確
int age = 25;
String customerName = "田中";
bool isActiveUser = true;
</code></pre>
<h3 id="2-略語を避ける"><a class="header" href="#2-略語を避ける">2. 略語を避ける</a></h3>
<pre><code class="language-javascript">// 悪い例：略語が多い
String usr = "田中";
int cnt = 0;
bool flg = true;

// 良い例：完全な単語を使用
String user = "田中";
int count = 0;
bool isEnabled = true;
</code></pre>
<h3 id="3-文脈に応じた具体性"><a class="header" href="#3-文脈に応じた具体性">3. 文脈に応じた具体性</a></h3>
<pre><code class="language-javascript">// 一般的すぎる例
String data = "情報";
int number = 42;

// 具体的で分かりやすい例
String productName = "ワイヤレスイヤホン";
int orderQuantity = 42;
</code></pre>
<h2 id="データ型別の命名例"><a class="header" href="#データ型別の命名例">データ型別の命名例</a></h2>
<h3 id="string型の変数"><a class="header" href="#string型の変数">String型の変数</a></h3>
<pre><code class="language-javascript">// 名前関連
String firstName = "太郎";
String lastName = "田中";
String fullName = "田中太郎";
String displayName = "田中様";

// メッセージ・テキスト関連
String welcomeMessage = "ようこそ！";
String errorMessage = "エラーが発生しました";
String descriptionText = "商品の説明文";

// ID・コード関連
String userId = "user123";
String productCode = "PROD-001";
String sessionToken = "abc123xyz";
</code></pre>
<h3 id="int型の変数"><a class="header" href="#int型の変数">int型の変数</a></h3>
<pre><code class="language-javascript">// 個数・数量
int itemCount = 5;
int totalQuantity = 100;
int remainingStock = 25;

// 順序・位置
int currentIndex = 0;
int pageNumber = 1;
int sortOrder = 3;

// 年齢・期間
int userAge = 30;
int experienceYears = 5;
int timeoutSeconds = 60;
</code></pre>
<h3 id="double型の変数"><a class="header" href="#double型の変数">double型の変数</a></h3>
<pre><code class="language-javascript">// 金額・価格
double productPrice = 1980.0;
double totalAmount = 5940.0;
double taxAmount = 594.0;

// 測定値
double userHeight = 170.5;
double bodyWeight = 65.2;
double temperature = 36.8;

// 比率・割合
double discountRate = 0.15;  // 15%
double completionRatio = 0.75;  // 75%
</code></pre>
<h3 id="bool型の変数"><a class="header" href="#bool型の変数">bool型の変数</a></h3>
<p>bool型は「is」「has」「can」などの接頭語を使うと読みやすくなります。</p>
<pre><code class="language-javascript">// is + 形容詞
bool isActive = true;
bool isVisible = false;
bool isComplete = true;
bool isValid = false;

// has + 名詞
bool hasPermission = true;
bool hasNotification = false;
bool hasError = true;

// can + 動詞
bool canEdit = true;
bool canDelete = false;
bool canAccess = true;

// 状態を表現
bool isLoggedIn = false;
bool isLoading = true;
bool isSelected = false;
</code></pre>
<h2 id="実用的な命名例"><a class="header" href="#実用的な命名例">実用的な命名例</a></h2>
<h3 id="ユーザー管理システム"><a class="header" href="#ユーザー管理システム">ユーザー管理システム</a></h3>
<pre><code class="language-javascript">// ユーザー基本情報
String currentUserId = "user_12345";
String currentUserName = "田中太郎";
String currentUserEmail = "tanaka@example.com";
int currentUserAge = 28;
bool isCurrentUserActive = true;

// 権限関連
bool hasAdminPermission = false;
bool canEditProfile = true;
bool canViewReports = true;
bool isPreiumMember = false;

// セッション管理
String sessionId = "session_abc123";
int sessionTimeoutMinutes = 30;
bool isSessionValid = true;
DateTime sessionStartTime = DateTime.now();
</code></pre>
<h3 id="ショッピングカート"><a class="header" href="#ショッピングカート">ショッピングカート</a></h3>
<pre><code class="language-javascript">// 商品情報
String selectedProductId = "prod_001";
String selectedProductName = "ワイヤレスマウス";
double selectedProductPrice = 2980.0;
int selectedProductQuantity = 2;

// カート情報
int cartItemCount = 5;
double cartSubtotal = 14900.0;
double cartTaxAmount = 1490.0;
double cartTotalAmount = 16390.0;

// 配送情報
String shippingAddress = "東京都渋谷区...";
double shippingCost = 500.0;
bool isFreeShipping = false;
DateTime estimatedDeliveryDate = DateTime.now();
</code></pre>
<h2 id="命名時のチェックリスト"><a class="header" href="#命名時のチェックリスト">命名時のチェックリスト</a></h2>
<ol>
<li><strong>明確性</strong>：変数名だけで何を表しているかわかるか？</li>
<li><strong>一貫性</strong>：同じ概念には同じ命名パターンを使っているか？</li>
<li><strong>簡潔性</strong>：必要以上に長すぎないか？</li>
<li><strong>文法</strong>：Dartの命名規則に従っているか？</li>
<li><strong>文脈</strong>：そのコードの文脈で適切な名前か？</li>
</ol>
<h2 id="よくある間違いと改善例"><a class="header" href="#よくある間違いと改善例">よくある間違いと改善例</a></h2>
<pre><code class="language-javascript">// 間違い：意味が不明
int i = 0;
String str = "データ";
bool flag = true;

// 改善：意味が明確
int currentPageIndex = 0;
String customerName = "データ";
bool isDataLoaded = true;

// 間違い：否定形が分かりにくい
bool isNotVisible = false;
bool isNotComplete = true;

// 改善：肯定形で表現
bool isVisible = true;
bool isComplete = false;

// 間違い：略語が多い
String usrNm = "田中";
int qty = 5;
double amt = 1500.0;

// 改善：完全な単語を使用
String userName = "田中";
int quantity = 5;
double amount = 1500.0;
</code></pre>
<h2 id="練習問題-4"><a class="header" href="#練習問題-4">練習問題</a></h2>
<p>以下の悪い例を、良い変数名に変更してください：</p>
<pre><code class="language-javascript">// 悪い例
int x = 20;
String s = "太郎";
bool f = true;
double p = 1500.0;
int c = 5;

// あなたの改善案を考えてください
</code></pre>
<pre><code class="language-javascript">// 解答例
int studentAge = 20;              // または userAge, personAge
String studentName = "太郎";       // または firstName, userName
bool isEnrolled = true;           // または isActive, isRegistered
double courseFee = 1500.0;        // または tuitionFee, price
int courseCount = 5;              // または enrolledCourseCount, totalCourses
</code></pre>
<p>良い変数名を付けることで、コードは自己文書化され、他の人（未来の自分も含む）が理解しやすくなります。時間をかけて適切な名前を考えることは、長期的にプログラムの品質向上につながります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第4章計算と演算子"><a class="header" href="#第4章計算と演算子">第4章：計算と演算子</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="算術演算子-"><a class="header" href="#算術演算子-">算術演算子（+、-、*、/、%）</a></h1>
<p>プログラミングでは、数学と同じように計算を行うことができます。Dartには基本的な算術演算子が用意されており、これらを使って様々な計算を実行できます。</p>
<h2 id="基本的な算術演算子"><a class="header" href="#基本的な算術演算子">基本的な算術演算子</a></h2>
<h3 id="足し算"><a class="header" href="#足し算">足し算（+）</a></h3>
<pre><code class="language-javascript">void main() {
  int a = 5;
  int b = 3;
  int sum = a + b;
  print('$a + $b = $sum'); // 5 + 3 = 8
}
</code></pre>
<h3 id="引き算-"><a class="header" href="#引き算-">引き算（-）</a></h3>
<pre><code class="language-javascript">void main() {
  int x = 10;
  int y = 4;
  int difference = x - y;
  print('$x - $y = $difference'); // 10 - 4 = 6
}
</code></pre>
<h3 id="掛け算"><a class="header" href="#掛け算">掛け算（*）</a></h3>
<pre><code class="language-javascript">void main() {
  int width = 6;
  int height = 4;
  int area = width * height;
  print('長方形の面積: $area'); // 長方形の面積: 24
}
</code></pre>
<h3 id="割り算"><a class="header" href="#割り算">割り算（/）</a></h3>
<pre><code class="language-javascript">void main() {
  double num1 = 15.0;
  double num2 = 4.0;
  double result = num1 / num2;
  print('$num1 ÷ $num2 = $result'); // 15.0 ÷ 4.0 = 3.75
}
</code></pre>
<p><strong>注意</strong>: 割り算の結果は常に<code>double</code>型になります。整数同士の割り算でも小数点以下の値が返されます。</p>
<h3 id="余りを求める"><a class="header" href="#余りを求める">余りを求める（%）</a></h3>
<pre><code class="language-javascript">void main() {
  int dividend = 17;
  int divisor = 5;
  int remainder = dividend % divisor;
  print('$dividend を $divisor で割った余り: $remainder'); // 17 を 5 で割った余り: 2
}
</code></pre>
<p>余り演算子（%）は、割り算の余りを求める演算子です。偶数・奇数の判定や、特定の間隔での処理などでよく使われます。</p>
<h2 id="整数除算"><a class="header" href="#整数除算">整数除算（~/）</a></h2>
<p>Dartには整数除算を行う特別な演算子もあります：</p>
<pre><code class="language-javascript">void main() {
  int a = 17;
  int b = 5;
  int quotient = a ~/ b; // 整数除算
  print('$a ÷ $b = $quotient (整数部分のみ)'); // 17 ÷ 5 = 3 (整数部分のみ)
}
</code></pre>
<h2 id="実用的な例-2"><a class="header" href="#実用的な例-2">実用的な例</a></h2>
<pre><code class="language-javascript">void main() {
  // 円の面積を計算する
  double radius = 5.0;
  double pi = 3.14159;
  double area = pi * radius * radius;
  print('半径${radius}の円の面積: $area');
  
  // 時間の変換（秒を時分秒に変換）
  int totalSeconds = 3661;
  int hours = totalSeconds ~/ 3600;
  int minutes = (totalSeconds % 3600) ~/ 60;
  int seconds = totalSeconds % 60;
  print('${totalSeconds}秒 = ${hours}時間${minutes}分${seconds}秒');
}
</code></pre>
<p>算術演算子を使うことで、プログラムで様々な計算処理を実装できます。次は文字列の連結について学んでいきましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="文字列の連結-1"><a class="header" href="#文字列の連結-1">文字列の連結</a></h1>
<p>数値の計算だけでなく、文字列（テキスト）同士を結合することもプログラミングでは頻繁に行います。Dartでは複数の方法で文字列を連結することができます。</p>
<h2 id="演算子を使った文字列連結"><a class="header" href="#演算子を使った文字列連結">+演算子を使った文字列連結</a></h2>
<p>最もシンプルな方法は、+演算子を使って文字列を連結することです：</p>
<pre><code class="language-javascript">void main() {
  String firstName = 'たろう';
  String lastName = '田中';
  String fullName = lastName + firstName;
  print(fullName); // 田中たろう
}
</code></pre>
<p>複数の文字列を連結することもできます：</p>
<pre><code class="language-javascript">void main() {
  String greeting = 'こんにちは';
  String name = '山田さん';
  String punctuation = '！';
  String message = greeting + '、' + name + punctuation;
  print(message); // こんにちは、山田さん！
}
</code></pre>
<h2 id="文字列補間テンプレート文字列"><a class="header" href="#文字列補間テンプレート文字列">文字列補間（テンプレート文字列）</a></h2>
<p>より読みやすく、便利な方法として文字列補間があります。<code>$</code>記号を使って変数の値を文字列に埋め込むことができます：</p>
<pre><code class="language-javascript">void main() {
  String name = '佐藤';
  int age = 25;
  String introduction = '私の名前は${name}です。${age}歳です。';
  print(introduction); // 私の名前は佐藤です。25歳です。
}
</code></pre>
<p>変数名が単純な場合は、波括弧を省略できます：</p>
<pre><code class="language-javascript">void main() {
  String product = 'りんご';
  int price = 150;
  print('$productの価格は$price円です。'); // りんごの価格は150円です。
}
</code></pre>
<h2 id="計算結果を文字列に含める"><a class="header" href="#計算結果を文字列に含める">計算結果を文字列に含める</a></h2>
<p>文字列補間では、計算式も直接記述できます：</p>
<pre><code class="language-javascript">void main() {
  int width = 5;
  int height = 3;
  print('長方形の面積は${width * height}平方センチメートルです。');
  // 長方形の面積は15平方センチメートルです。
}
</code></pre>
<h2 id="複数行の文字列"><a class="header" href="#複数行の文字列">複数行の文字列</a></h2>
<p>長い文字列や複数行にわたる文字列を作る場合：</p>
<pre><code class="language-javascript">void main() {
  String name = '鈴木';
  int score = 85;
  
  String report = '''
お疲れ様です。
${name}さんのテスト結果をお知らせします。
点数: $score点
  ''';
  
  print(report);
}
</code></pre>
<h2 id="実用的な例-3"><a class="header" href="#実用的な例-3">実用的な例</a></h2>
<pre><code class="language-javascript">void main() {
  // 商品情報の表示
  String itemName = 'ノートパソコン';
  double price = 89800.0;
  int quantity = 2;
  double total = price * quantity;
  
  print('=== 注文確認 ===');
  print('商品名: $itemName');
  print('単価: ${price.toInt()}円');
  print('数量: $quantity個');
  print('合計: ${total.toInt()}円');
  
  // 挨拶メッセージの生成
  String userName = 'やまだ';
  String timeOfDay = '午前';
  String greeting = '$timeOfDay中です、${userName}さん。今日も頑張りましょう！';
  print(greeting);
}
</code></pre>
<h2 id="文字列と数値の変換"><a class="header" href="#文字列と数値の変換">文字列と数値の変換</a></h2>
<p>文字列と数値を組み合わせる際の注意点：</p>
<pre><code class="language-javascript">void main() {
  String numText = '123';
  int number = int.parse(numText); // 文字列を整数に変換
  print('文字列「$numText」を数値に変換: $number');
  
  int value = 456;
  String valueText = value.toString(); // 数値を文字列に変換
  print('数値$valueを文字列に変換: 「$valueText」');
}
</code></pre>
<p>文字列連結を活用することで、ユーザーに分かりやすいメッセージを表示したり、データを見やすい形式で出力したりできます。次は変数の値を変更する方法について学んでいきましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="変数の値を変更する"><a class="header" href="#変数の値を変更する">変数の値を変更する</a></h1>
<p>プログラムを実行している間、変数の値を変更する必要がある場面は多くあります。Dartでは変数の値を更新したり、計算結果で変数を更新したりする便利な方法が用意されています。</p>
<h2 id="基本的な変数の更新"><a class="header" href="#基本的な変数の更新">基本的な変数の更新</a></h2>
<p>変数に新しい値を代入することで、変数の値を変更できます：</p>
<pre><code class="language-javascript">void main() {
  int score = 80;
  print('最初の点数: $score'); // 最初の点数: 80
  
  score = 90; // 新しい値を代入
  print('更新後の点数: $score'); // 更新後の点数: 90
}
</code></pre>
<p>文字列変数の場合：</p>
<pre><code class="language-javascript">void main() {
  String status = '待機中';
  print('現在の状態: $status'); // 現在の状態: 待機中
  
  status = '実行中';
  print('更新後の状態: $status'); // 更新後の状態: 実行中
}
</code></pre>
<h2 id="代入演算子を使った更新"><a class="header" href="#代入演算子を使った更新">代入演算子を使った更新</a></h2>
<h3 id="複合代入演算子"><a class="header" href="#複合代入演算子">複合代入演算子</a></h3>
<p>変数の現在の値を使って計算し、その結果を同じ変数に代入する場合、複合代入演算子が便利です：</p>
<pre><code class="language-javascript">void main() {
  int money = 1000;
  print('最初の所持金: $money円');
  
  money += 500; // money = money + 500 と同じ
  print('お小遣いをもらった後: $money円'); // 1500円
  
  money -= 200; // money = money - 200 と同じ
  print('買い物をした後: $money円'); // 1300円
  
  money *= 2; // money = money * 2 と同じ
  print('倍になった: $money円'); // 2600円
  
  money ~/= 4; // money = money ~/ 4 と同じ（整数除算）
  print('4分の1にした: $money円'); // 650円
}
</code></pre>
<h3 id="文字列の複合代入"><a class="header" href="#文字列の複合代入">文字列の複合代入</a></h3>
<p>文字列でも複合代入演算子を使用できます：</p>
<pre><code class="language-javascript">void main() {
  String message = 'こんにちは';
  print(message); // こんにちは
  
  message += '、';
  message += '世界';
  message += '！';
  print(message); // こんにちは、世界！
}
</code></pre>
<h2 id="インクリメントデクリメント演算子"><a class="header" href="#インクリメントデクリメント演算子">インクリメント・デクリメント演算子</a></h2>
<p>値を1増やしたり1減らしたりする場合の省略記法：</p>
<pre><code class="language-javascript">void main() {
  int counter = 5;
  print('カウンター: $counter'); // カウンター: 5
  
  counter++; // counter += 1 または counter = counter + 1 と同じ
  print('インクリメント後: $counter'); // インクリメント後: 6
  
  counter--; // counter -= 1 または counter = counter - 1 と同じ
  print('デクリメント後: $counter'); // デクリメント後: 5
  
  // 前置と後置の違い
  int a = 10;
  int b = ++a; // 先にaを1増やしてからbに代入
  print('a: $a, b: $b'); // a: 11, b: 11
  
  int c = 10;
  int d = c++; // 先にcの値をdに代入してからcを1増やす
  print('c: $c, d: $d'); // c: 11, d: 10
}
</code></pre>
<h2 id="実用的な例-4"><a class="header" href="#実用的な例-4">実用的な例</a></h2>
<h3 id="カウンターアプリ"><a class="header" href="#カウンターアプリ">カウンターアプリ</a></h3>
<pre><code class="language-javascript">void main() {
  int visitCount = 0;
  
  print('=== ウェブサイトの訪問カウンター ===');
  print('現在の訪問者数: $visitCount');
  
  // 新しい訪問者
  visitCount++;
  print('新しい訪問者が来ました: $visitCount');
  
  visitCount++;
  print('また新しい訪問者: $visitCount');
  
  visitCount += 5; // 一度に5人増加
  print('グループで訪問: $visitCount');
}
</code></pre>
<h3 id="買い物かごの計算"><a class="header" href="#買い物かごの計算">買い物かごの計算</a></h3>
<pre><code class="language-javascript">void main() {
  double total = 0.0;
  print('=== お買い物かご ===');
  print('現在の合計: ${total}円');
  
  // 商品を追加
  total += 250; // りんご
  print('りんごを追加: ${total}円');
  
  total += 180; // バナナ
  print('バナナを追加: ${total}円');
  
  total += 320; // オレンジ
  print('オレンジを追加: ${total}円');
  
  // 割引適用
  total *= 0.9; // 10%割引
  print('10%割引適用: ${total}円');
}
</code></pre>
<h3 id="ゲームのスコア管理"><a class="header" href="#ゲームのスコア管理">ゲームのスコア管理</a></h3>
<pre><code class="language-javascript">void main() {
  int score = 0;
  int level = 1;
  
  print('=== ゲーム開始 ===');
  print('スコア: $score, レベル: $level');
  
  // 敵を倒した
  score += 100;
  print('敵を倒した！ スコア: $score');
  
  // ボーナスアイテム取得
  score *= 2;
  print('ボーナス倍率！ スコア: $score');
  
  // レベルアップ
  level++;
  score += level * 50; // レベルに応じたボーナス
  print('レベルアップ！ レベル: $level, スコア: $score');
}
</code></pre>
<h2 id="const-と-final-について"><a class="header" href="#const-と-final-について">const と final について</a></h2>
<p>値を変更できない変数もあります：</p>
<pre><code class="language-javascript">void main() {
  // final: 実行時に一度だけ値を設定
  final int maxRetries = 3;
  // maxRetries = 5; // エラー：変更できません
  
  // const: コンパイル時に値が決定
  const double pi = 3.14159;
  // pi = 3.14; // エラー：変更できません
  
  print('最大リトライ回数: $maxRetries');
  print('円周率: $pi');
}
</code></pre>
<p>変数の値を適切に更新することで、プログラムの状態を管理し、動的な処理を実現できます。次は演算の優先順位について学んでいきましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="演算の優先順位"><a class="header" href="#演算の優先順位">演算の優先順位</a></h1>
<p>数学と同様に、プログラミングでも計算には決まった順番があります。演算子の優先順位を理解することで、期待通りの計算結果を得ることができます。</p>
<h2 id="基本的な演算の優先順位"><a class="header" href="#基本的な演算の優先順位">基本的な演算の優先順位</a></h2>
<p>数学の計算と同じルールが適用されます：</p>
<pre><code class="language-javascript">void main() {
  // 掛け算と割り算は足し算と引き算より先に実行される
  int result1 = 2 + 3 * 4;
  print('2 + 3 * 4 = $result1'); // 2 + 3 * 4 = 14 (3*4が先に計算される)
  
  int result2 = 10 - 6 / 2;
  print('10 - 6 / 2 = $result2'); // 10 - 6 / 2 = 7 (6/2が先に計算される)
}
</code></pre>
<h2 id="括弧を使った優先順位の変更"><a class="header" href="#括弧を使った優先順位の変更">括弧を使った優先順位の変更</a></h2>
<p>括弧を使うことで、計算の順序を明示的に指定できます：</p>
<pre><code class="language-javascript">void main() {
  // 括弧なし
  int result1 = 2 + 3 * 4;
  print('2 + 3 * 4 = $result1'); // 14
  
  // 括弧あり
  int result2 = (2 + 3) * 4;
  print('(2 + 3) * 4 = $result2'); // 20
  
  // より複雑な例
  double result3 = (10 + 5) / (3 * 2);
  print('(10 + 5) / (3 * 2) = $result3'); // 2.5
}
</code></pre>
<h2 id="dartの演算子優先順位表"><a class="header" href="#dartの演算子優先順位表">Dartの演算子優先順位表</a></h2>
<p>高い優先順位から低い優先順位の順番：</p>
<ol>
<li><strong>後置演算子</strong>: <code>++</code>, <code>--</code>, <code>[]</code>, <code>()</code></li>
<li><strong>前置演算子</strong>: <code>-</code>, <code>!</code>, <code>++</code>, <code>--</code></li>
<li><strong>乗算系</strong>: <code>*</code>, <code>/</code>, <code>%</code>, <code>~/</code></li>
<li><strong>加算系</strong>: <code>+</code>, <code>-</code></li>
<li><strong>比較演算子</strong>: <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code></li>
<li><strong>等価演算子</strong>: <code>==</code>, <code>!=</code></li>
<li><strong>論理AND</strong>: <code>&amp;&amp;</code></li>
<li><strong>論理OR</strong>: <code>||</code></li>
<li><strong>代入演算子</strong>: <code>=</code>, <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code></li>
</ol>
<h2 id="実例で確認"><a class="header" href="#実例で確認">実例で確認</a></h2>
<h3 id="複雑な計算式"><a class="header" href="#複雑な計算式">複雑な計算式</a></h3>
<pre><code class="language-javascript">void main() {
  int a = 5;
  int b = 3;
  int c = 2;
  
  // 優先順位に従った計算
  int result1 = a + b * c;
  print('$a + $b * $c = $result1'); // 5 + 3 * 2 = 11
  
  // 括弧で順序を変更
  int result2 = (a + b) * c;
  print('($a + $b) * $c = $result2'); // (5 + 3) * 2 = 16
  
  // さらに複雑な例
  double result3 = a + b * c / 2.0 - 1;
  print('$a + $b * $c / 2.0 - 1 = $result3'); // 5 + 3 * 2 / 2.0 - 1 = 7
}
</code></pre>
<h3 id="よくある間違いの例"><a class="header" href="#よくある間違いの例">よくある間違いの例</a></h3>
<pre><code class="language-javascript">void main() {
  // 間違いやすい例1: 平均の計算
  int score1 = 80;
  int score2 = 90;
  int score3 = 85;
  
  // 間違った書き方
  double wrong = score1 + score2 + score3 / 3;
  print('間違った平均: $wrong'); // 80 + 90 + 85/3 = 198.33... (間違い)
  
  // 正しい書き方
  double correct = (score1 + score2 + score3) / 3;
  print('正しい平均: $correct'); // (80 + 90 + 85) / 3 = 85.0
}
</code></pre>
<h3 id="割引計算の例"><a class="header" href="#割引計算の例">割引計算の例</a></h3>
<pre><code class="language-javascript">void main() {
  double price = 1000;
  double discountRate = 0.2; // 20%割引
  double taxRate = 0.1; // 10%の税
  
  // 間違った計算順序
  double wrong = price - price * discountRate + price * taxRate;
  print('間違った計算: ${wrong}円'); // 割引後に税金が元の価格に適用される
  
  // 正しい計算順序
  double discountedPrice = price * (1 - discountRate);
  double correct = discountedPrice * (1 + taxRate);
  print('正しい計算: ${correct}円'); // (1000 * 0.8) * 1.1 = 880円
  
  // または括弧を使って一行で
  double oneLine = (price * (1 - discountRate)) * (1 + taxRate);
  print('一行での計算: ${oneLine}円');
}
</code></pre>
<h2 id="論理演算子の優先順位"><a class="header" href="#論理演算子の優先順位">論理演算子の優先順位</a></h2>
<pre><code class="language-javascript">void main() {
  bool a = true;
  bool b = false;
  bool c = true;
  
  // &amp;&amp;（AND）は||（OR）より優先順位が高い
  bool result1 = a || b &amp;&amp; c;
  print('$a || $b &amp;&amp; $c = $result1'); // true || (false &amp;&amp; true) = true
  
  // 括弧で順序を明示
  bool result2 = (a || b) &amp;&amp; c;
  print('($a || $b) &amp;&amp; $c = $result2'); // (true || false) &amp;&amp; true = true
}
</code></pre>
<h2 id="代入演算子と優先順位"><a class="header" href="#代入演算子と優先順位">代入演算子と優先順位</a></h2>
<pre><code class="language-javascript">void main() {
  int x = 5;
  int y = 3;
  
  // 代入演算子は最も優先順位が低い
  x += y * 2; // x = x + (y * 2) と同じ
  print('x = $x'); // x = 11
  
  int z = 10;
  z *= 2 + 3; // z = z * (2 + 3) と同じ
  print('z = $z'); // z = 50
}
</code></pre>
<h2 id="実践的なアドバイス"><a class="header" href="#実践的なアドバイス">実践的なアドバイス</a></h2>
<h3 id="1-読みやすさを優先する"><a class="header" href="#1-読みやすさを優先する">1. 読みやすさを優先する</a></h3>
<pre><code class="language-javascript">void main() {
  int a = 10, b = 5, c = 2;
  
  // 技術的には正しいが読みにくい
  int complex = a + b * c - a / b + c % 2;
  
  // 括弧を使って意図を明確にする
  int clear = a + (b * c) - (a / b) + (c % 2);
  
  print('複雑: $complex, 明確: $clear');
}
</code></pre>
<h3 id="2-段階的な計算"><a class="header" href="#2-段階的な計算">2. 段階的な計算</a></h3>
<pre><code class="language-javascript">void main() {
  // 複雑な計算は段階的に分ける
  double basePrice = 1200;
  double discountRate = 0.15;
  double taxRate = 0.08;
  
  double discountAmount = basePrice * discountRate;
  double discountedPrice = basePrice - discountAmount;
  double tax = discountedPrice * taxRate;
  double finalPrice = discountedPrice + tax;
  
  print('元の価格: ${basePrice}円');
  print('割引額: ${discountAmount}円');
  print('割引後価格: ${discountedPrice}円');
  print('税額: ${tax}円');
  print('最終価格: ${finalPrice}円');
}
</code></pre>
<p>演算の優先順位を理解することで、正確な計算結果を得ることができ、他の人が読みやすいコードを書くことができます。次は練習問題で、これまで学んだ計算や演算子を実際に使ってみましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="練習問題簡単な計算プログラム"><a class="header" href="#練習問題簡単な計算プログラム">練習問題：簡単な計算プログラム</a></h1>
<p>これまで学んだ算術演算子、文字列連結、変数の更新、演算の優先順位を使って、実際に計算プログラムを作ってみましょう。段階的に難易度を上げながら、様々な計算処理を実装します。</p>
<h2 id="問題1基本的な四則演算"><a class="header" href="#問題1基本的な四則演算">問題1：基本的な四則演算</a></h2>
<p>二つの数値を使って、四則演算の結果を表示するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  // 変数の設定
  int a = 15;
  int b = 4;
  
  // 四則演算の実行と表示
  print('=== 基本的な四則演算 ===');
  print('a = $a, b = $b');
  print('');
  
  int sum = a + b;
  print('足し算: $a + $b = $sum');
  
  int difference = a - b;
  print('引き算: $a - $b = $difference');
  
  int product = a * b;
  print('掛け算: $a × $b = $product');
  
  double quotient = a / b;
  print('割り算: $a ÷ $b = $quotient');
  
  int remainder = a % b;
  print('余り: $a % $b = $remainder');
  
  int integerDivision = a ~/ b;
  print('整数除算: $a ~/ $b = $integerDivision');
}
</code></pre>
<h2 id="問題2円の面積と円周の計算"><a class="header" href="#問題2円の面積と円周の計算">問題2：円の面積と円周の計算</a></h2>
<p>半径を指定して、円の面積と円周を計算するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  // 変数の設定
  double radius = 7.5;
  double pi = 3.14159;
  
  print('=== 円の計算 ===');
  print('半径: ${radius}cm');
  print('');
  
  // 円周の計算 (2πr)
  double circumference = 2 * pi * radius;
  print('円周: ${circumference.toStringAsFixed(2)}cm');
  
  // 面積の計算 (πr²)
  double area = pi * radius * radius;
  print('面積: ${area.toStringAsFixed(2)}cm²');
}
</code></pre>
<h2 id="問題3温度変換プログラム"><a class="header" href="#問題3温度変換プログラム">問題3：温度変換プログラム</a></h2>
<p>摂氏温度を華氏温度に変換し、逆の変換も行うプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== 温度変換プログラム ===');
  
  // 摂氏から華氏への変換
  double celsius = 25.0;
  double fahrenheit = celsius * 9 / 5 + 32;
  print('摂氏${celsius}度 → 華氏${fahrenheit}度');
  
  // 華氏から摂氏への変換
  double fahrenheit2 = 77.0;
  double celsius2 = (fahrenheit2 - 32) * 5 / 9;
  print('華氏${fahrenheit2}度 → 摂氏${celsius2.toStringAsFixed(1)}度');
}
</code></pre>
<h2 id="問題4買い物の計算プログラム"><a class="header" href="#問題4買い物の計算プログラム">問題4：買い物の計算プログラム</a></h2>
<p>商品の価格、数量、税率から最終的な支払い金額を計算するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== お買い物計算 ===');
  
  // 商品情報
  String productName = 'プログラミング入門書';
  double unitPrice = 2800.0;
  int quantity = 3;
  double taxRate = 0.10; // 10%
  double discountRate = 0.15; // 15%割引
  
  // 計算処理
  double subtotal = unitPrice * quantity;
  double discountAmount = subtotal * discountRate;
  double discountedPrice = subtotal - discountAmount;
  double tax = discountedPrice * taxRate;
  double total = discountedPrice + tax;
  
  // 結果表示
  print('商品名: $productName');
  print('単価: ${unitPrice.toInt()}円');
  print('数量: $quantity冊');
  print('小計: ${subtotal.toInt()}円');
  print('割引(${(discountRate * 100).toInt()}%): -${discountAmount.toInt()}円');
  print('割引後価格: ${discountedPrice.toInt()}円');
  print('消費税(${(taxRate * 100).toInt()}%): ${tax.toInt()}円');
  print('合計金額: ${total.toInt()}円');
}
</code></pre>
<h2 id="問題5時間計算プログラム"><a class="header" href="#問題5時間計算プログラム">問題5：時間計算プログラム</a></h2>
<p>秒数を入力として、時間、分、秒に変換するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== 時間変換プログラム ===');
  
  // 総秒数
  int totalSeconds = 7325;
  
  // 時間、分、秒への変換
  int hours = totalSeconds ~/ 3600;
  int remainingAfterHours = totalSeconds % 3600;
  int minutes = remainingAfterHours ~/ 60;
  int seconds = remainingAfterHours % 60;
  
  print('総秒数: ${totalSeconds}秒');
  print('変換結果: ${hours}時間${minutes}分${seconds}秒');
  
  // 逆の計算も確認
  int backToSeconds = hours * 3600 + minutes * 60 + seconds;
  print('確認: ${backToSeconds}秒 (元の値と一致: ${backToSeconds == totalSeconds})');
}
</code></pre>
<h2 id="問題6bmi計算プログラム"><a class="header" href="#問題6bmi計算プログラム">問題6：BMI計算プログラム</a></h2>
<p>身長と体重からBMI（Body Mass Index）を計算し、判定結果も表示するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== BMI計算プログラム ===');
  
  // 身体データ
  double height = 170.5; // cm
  double weight = 65.3;  // kg
  
  // BMI計算（体重kg ÷ (身長m)²）
  double heightInMeters = height / 100;
  double bmi = weight / (heightInMeters * heightInMeters);
  
  // 結果表示
  print('身長: ${height}cm');
  print('体重: ${weight}kg');
  print('BMI: ${bmi.toStringAsFixed(1)}');
  
  // BMI判定（簡易版）
  String status;
  if (bmi &lt; 18.5) {
    status = '低体重';
  } else if (bmi &lt; 25.0) {
    status = '普通体重';
  } else if (bmi &lt; 30.0) {
    status = '肥満（1度）';
  } else {
    status = '肥満（2度以上）';
  }
  print('判定: $status');
}
</code></pre>
<h2 id="問題7複利計算プログラム"><a class="header" href="#問題7複利計算プログラム">問題7：複利計算プログラム</a></h2>
<p>元本、金利、期間から複利計算を行うプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== 複利計算プログラム ===');
  
  // 投資条件
  double principal = 100000.0; // 元本（円）
  double annualRate = 0.03;    // 年利3%
  int years = 10;              // 10年間
  
  print('元本: ${principal.toInt()}円');
  print('年利: ${(annualRate * 100)}%');
  print('期間: ${years}年');
  print('');
  
  // 年次計算
  double amount = principal;
  for (int year = 1; year &lt;= years; year++) {
    amount = amount * (1 + annualRate);
    int yearlyIncrease = (amount - principal).toInt();
    print('${year}年後: ${amount.toInt()}円 (増加額: ${yearlyIncrease}円)');
  }
  
  // 最終結果
  int totalIncrease = (amount - principal).toInt();
  print('');
  print('最終元利合計: ${amount.toInt()}円');
  print('利息合計: ${totalIncrease}円');
}
</code></pre>
<h2 id="問題8文字列を使った計算結果の表示"><a class="header" href="#問題8文字列を使った計算結果の表示">問題8：文字列を使った計算結果の表示</a></h2>
<p>これまでの計算結果を見やすい形式で表示するプログラムを作成してください。</p>
<pre><code class="language-javascript">void main() {
  print('=== 計算結果表示プログラム ===');
  
  // 計算データ
  String studentName = '田中太郎';
  List&lt;int&gt; scores = [85, 92, 78, 88, 95];
  
  print('生徒名: $studentName');
  print('テスト結果:');
  
  // 各教科の得点表示
  List&lt;String&gt; subjects = ['国語', '数学', '英語', '理科', '社会'];
  int total = 0;
  
  for (int i = 0; i &lt; scores.length; i++) {
    print('  ${subjects[i]}: ${scores[i]}点');
    total += scores[i];
  }
  
  // 統計計算
  double average = total / scores.length;
  int maxScore = scores[0];
  int minScore = scores[0];
  
  for (int score in scores) {
    if (score &gt; maxScore) maxScore = score;
    if (score &lt; minScore) minScore = score;
  }
  
  // 結果表示
  print('');
  print('=== 成績統計 ===');
  print('合計点: ${total}点');
  print('平均点: ${average.toStringAsFixed(1)}点');
  print('最高点: ${maxScore}点');
  print('最低点: ${minScore}点');
  
  // 成績判定
  String grade;
  if (average &gt;= 90) {
    grade = 'A（優秀）';
  } else if (average &gt;= 80) {
    grade = 'B（良好）';
  } else if (average &gt;= 70) {
    grade = 'C（可）';
  } else {
    grade = 'D（要努力）';
  }
  print('総合評価: $grade');
}
</code></pre>
<h2 id="チャレンジ問題"><a class="header" href="#チャレンジ問題">チャレンジ問題</a></h2>
<h3 id="1-二次方程式の解を求める"><a class="header" href="#1-二次方程式の解を求める">1. 二次方程式の解を求める</a></h3>
<p>ax² + bx + c = 0の解を求めるプログラムを作成してください。</p>
<h3 id="2-年齢計算機"><a class="header" href="#2-年齢計算機">2. 年齢計算機</a></h3>
<p>生年月日から現在の年齢を計算するプログラムを作成してください。</p>
<p>これらの練習問題を通じて、算術演算子と文字列操作を組み合わせた実用的なプログラムが作成できるようになります。次の章では、条件分岐について学び、より複雑な判断処理を実装していきます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第5章条件分岐if文"><a class="header" href="#第5章条件分岐if文">第5章：条件分岐（if文）</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="51-条件によって処理を変える"><a class="header" href="#51-条件によって処理を変える">5.1 条件によって処理を変える</a></h1>
<p>これまでのプログラムは、上から下へ順番に実行されるだけでした。しかし、実際のプログラムでは「もし～なら○○をする」という条件に応じて異なる処理を行う必要があります。</p>
<h2 id="プログラムの分岐とは"><a class="header" href="#プログラムの分岐とは">プログラムの分岐とは</a></h2>
<p>日常生活でも、私たちは常に条件によって行動を変えています：</p>
<ul>
<li>雨が降っていたら傘を持つ</li>
<li>テストの点数が80点以上なら合格</li>
<li>年齢が18歳以上なら映画を見られる</li>
</ul>
<p>プログラミングでも同じように、条件によって異なる処理を実行することを<strong>条件分岐</strong>や<strong>分岐処理</strong>と呼びます。</p>
<h2 id="最も簡単な条件分岐if文"><a class="header" href="#最も簡単な条件分岐if文">最も簡単な条件分岐：if文</a></h2>
<p>Dartでは<code>if文</code>を使って条件分岐を行います。基本的な構文は次のとおりです：</p>
<pre><code class="language-javascript">if (条件) {
  // 条件が真（true）の時に実行される処理
}
</code></pre>
<p>実際の例を見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 20;
  
  if (age &gt;= 18) {
    print('あなたは成人です');
  }
  
  print('プログラム終了');
}
</code></pre>
<p>この例では：</p>
<ol>
<li>変数<code>age</code>に20が代入されます</li>
<li><code>age &gt;= 18</code>（20は18以上か？）が評価されます</li>
<li>条件が真（true）なので、<code>print('あなたは成人です');</code>が実行されます</li>
<li>最後に<code>print('プログラム終了');</code>が実行されます</li>
</ol>
<h2 id="条件の真偽値"><a class="header" href="#条件の真偽値">条件の真偽値</a></h2>
<p>条件は必ず<strong>真（true）<strong>または</strong>偽（false）<strong>のどちらかになります。これを</strong>ブール値</strong>（boolean）と呼びます。</p>
<pre><code class="language-javascript">void main() {
  bool isRaining = true;
  
  if (isRaining) {
    print('傘を持って出かけます');
  }
  
  print('出発します');
}
</code></pre>
<h2 id="実際に試してみよう"><a class="header" href="#実際に試してみよう">実際に試してみよう</a></h2>
<p>次のプログラムを実行して、結果を確認してみましょう：</p>
<pre><code class="language-javascript">void main() {
  int score = 85;
  
  print('あなたの点数: $score点');
  
  if (score &gt;= 80) {
    print('合格です！おめでとうございます');
  }
  
  print('結果発表終了');
}
</code></pre>
<p><code>score</code>の値を70や90に変更して、結果がどう変わるか試してみてください。</p>
<h2 id="まとめ-10"><a class="header" href="#まとめ-10">まとめ</a></h2>
<ul>
<li><code>if文</code>を使うと、条件によって処理を変えることができます</li>
<li>条件は真（true）または偽（false）の値を持ちます</li>
<li>条件が真の時だけ、if文の中の処理が実行されます</li>
<li>プログラムは上から下へ順番に実行され、if文の後の処理も続けて実行されます</li>
</ul>
<p>次の節では、条件を作るための比較演算子について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="52-比較演算子"><a class="header" href="#52-比較演算子">5.2 比較演算子（==、!=、&gt;、&lt;、&gt;=、&lt;=）</a></h1>
<p>前の節では、<code>age &gt;= 18</code>のような条件を使いました。この<code>&gt;=</code>は<strong>比較演算子</strong>と呼ばれ、2つの値を比較してtrue（真）またはfalse（偽）を返します。</p>
<h2 id="比較演算子の種類"><a class="header" href="#比較演算子の種類">比較演算子の種類</a></h2>
<p>Dartには以下の比較演算子があります：</p>
<div class="table-wrapper"><table><thead><tr><th>演算子</th><th>意味</th><th>例</th><th>結果</th></tr></thead><tbody>
<tr><td><code>==</code></td><td>等しい</td><td><code>5 == 5</code></td><td>true</td></tr>
<tr><td><code>!=</code></td><td>等しくない</td><td><code>5 != 3</code></td><td>true</td></tr>
<tr><td><code>&gt;</code></td><td>より大きい</td><td><code>7 &gt; 3</code></td><td>true</td></tr>
<tr><td><code>&lt;</code></td><td>より小さい</td><td><code>2 &lt; 8</code></td><td>true</td></tr>
<tr><td><code>&gt;=</code></td><td>以上（等しいか大きい）</td><td><code>5 &gt;= 5</code></td><td>true</td></tr>
<tr><td><code>&lt;=</code></td><td>以下（等しいか小さい）</td><td><code>4 &lt;= 6</code></td><td>true</td></tr>
</tbody></table>
</div>
<h2 id="等価演算子"><a class="header" href="#等価演算子">等価演算子（==、!=）</a></h2>
<h3 id="等しいかどうか"><a class="header" href="#等しいかどうか">等しいかどうか：==</a></h3>
<p><code>==</code>演算子は、2つの値が同じかどうかを調べます：</p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 10;
  int c = 5;
  
  print('a == b: ${a == b}'); // true
  print('a == c: ${a == c}'); // false
  
  String name1 = 'Dart';
  String name2 = 'Dart';
  String name3 = 'Java';
  
  print('name1 == name2: ${name1 == name2}'); // true
  print('name1 == name3: ${name1 == name3}'); // false
}
</code></pre>
<p><strong>重要な注意点：</strong> 等しいかどうかの比較には<code>==</code>を使います。<code>=</code>は代入演算子なので間違えないようにしましょう。</p>
<h3 id="等しくない"><a class="header" href="#等しくない">等しくない：!=</a></h3>
<p><code>!=</code>演算子は、2つの値が異なるかどうかを調べます：</p>
<pre><code class="language-javascript">void main() {
  int score = 75;
  
  if (score != 100) {
    print('満点ではありません');
  }
  
  String weather = '晴れ';
  if (weather != '雨') {
    print('傘は不要です');
  }
}
</code></pre>
<h2 id="大小比較演算子"><a class="header" href="#大小比較演算子">大小比較演算子（&gt;、&lt;、&gt;=、&lt;=）</a></h2>
<h3 id="より大きいより小さい"><a class="header" href="#より大きいより小さい">より大きい・より小さい：&gt;、&lt;</a></h3>
<pre><code class="language-javascript">void main() {
  int myAge = 16;
  int adultAge = 18;
  
  if (myAge &lt; adultAge) {
    print('まだ未成年です');
  }
  
  double temperature = 35.5;
  if (temperature &gt; 30.0) {
    print('暑い日ですね');
  }
}
</code></pre>
<h3 id="以上以下"><a class="header" href="#以上以下">以上・以下：&gt;=、&lt;=</a></h3>
<pre><code class="language-javascript">void main() {
  int testScore = 80;
  
  // 80点以上なら合格
  if (testScore &gt;= 80) {
    print('合格です！');
  }
  
  // 60点以下なら不合格
  if (testScore &lt;= 60) {
    print('不合格です');
  }
}
</code></pre>
<h2 id="実践例年齢チェックプログラム"><a class="header" href="#実践例年齢チェックプログラム">実践例：年齢チェックプログラム</a></h2>
<p>様々な比較演算子を使った例を見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 17;
  
  print('あなたの年齢: $age歳');
  
  if (age &lt; 13) {
    print('子供料金が適用されます');
  }
  
  if (age &gt;= 13) {
    print('中学生以上ですね');
  }
  
  if (age == 20) {
    print('成人おめでとうございます！');
  }
  
  if (age != 18) {
    print('18歳ではありませんね');
  }
}
</code></pre>
<h2 id="よくある間違い"><a class="header" href="#よくある間違い">よくある間違い</a></h2>
<h3 id="1-代入演算子と比較演算子の混同"><a class="header" href="#1-代入演算子と比較演算子の混同">1. 代入演算子と比較演算子の混同</a></h3>
<pre><code class="language-javascript">// 間違い
if (age = 18) {  // エラー！代入はできません
  print('18歳です');
}

// 正しい
if (age == 18) {  // 比較演算子を使う
  print('18歳です');
}
</code></pre>
<h3 id="2-文字列の比較"><a class="header" href="#2-文字列の比較">2. 文字列の比較</a></h3>
<p>文字列も比較できますが、大文字・小文字は区別されます：</p>
<pre><code class="language-javascript">void main() {
  String name = 'dart';
  
  print('name == "dart": ${name == "dart"}');   // true
  print('name == "Dart": ${name == "Dart"}');   // false
  print('name == "DART": ${name == "DART"}');   // false
}
</code></pre>
<h2 id="練習問題-5"><a class="header" href="#練習問題-5">練習問題</a></h2>
<p>次のプログラムを完成させてみましょう：</p>
<pre><code class="language-javascript">void main() {
  int number = 42;
  
  // 以下の条件をif文で書いてみてください
  // 1. numberが50より大きい場合
  // 2. numberが0以上の場合  
  // 3. numberが42と等しい場合
  // 4. numberが100と等しくない場合
}
</code></pre>
<h2 id="まとめ-11"><a class="header" href="#まとめ-11">まとめ</a></h2>
<ul>
<li>比較演算子は2つの値を比較してtrue/falseを返します</li>
<li><code>==</code>（等しい）と<code>=</code>（代入）は全く違う意味なので注意</li>
<li><code>&gt;=</code>や<code>&lt;=</code>は「以上」「以下」を表し、等しい場合も含みます</li>
<li>文字列の比較では大文字・小文字が区別されます</li>
</ul>
<p>次の節では、if-else文を使ってより柔軟な条件分岐を学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="53-if-else文の使い方"><a class="header" href="#53-if-else文の使い方">5.3 if-else文の使い方</a></h1>
<p>これまでのif文では、条件が真の時だけ処理を実行していました。しかし、実際のプログラムでは「条件が真の時はAをして、偽の時はBをする」という2択の処理が必要になることがよくあります。</p>
<h2 id="if-else文の基本構文"><a class="header" href="#if-else文の基本構文">if-else文の基本構文</a></h2>
<p><code>if-else文</code>を使うと、条件によって異なる2つの処理を実行できます：</p>
<pre><code class="language-javascript">if (条件) {
  // 条件が真（true）の時の処理
} else {
  // 条件が偽（false）の時の処理
}
</code></pre>
<h2 id="基本的な例"><a class="header" href="#基本的な例">基本的な例</a></h2>
<p>年齢による判定プログラムを見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 16;
  
  if (age &gt;= 18) {
    print('あなたは成人です');
  } else {
    print('あなたは未成年です');
  }
  
  print('判定終了');
}
</code></pre>
<p>この例では：</p>
<ul>
<li><code>age &gt;= 18</code>が真（true）なら「あなたは成人です」を表示</li>
<li><code>age &gt;= 18</code>が偽（false）なら「あなたは未成年です」を表示</li>
<li>どちらの場合も、最後に「判定終了」を表示</li>
</ul>
<h2 id="実用的な例-5"><a class="header" href="#実用的な例-5">実用的な例</a></h2>
<h3 id="例1テストの合否判定"><a class="header" href="#例1テストの合否判定">例1：テストの合否判定</a></h3>
<pre><code class="language-javascript">void main() {
  int score = 75;
  
  print('あなたの点数: $score点');
  
  if (score &gt;= 80) {
    print('合格です！おめでとうございます');
    print('次のレベルに進みましょう');
  } else {
    print('不合格です');
    print('もう一度チャレンジしてください');
  }
}
</code></pre>
<h3 id="例2天気による服装アドバイス"><a class="header" href="#例2天気による服装アドバイス">例2：天気による服装アドバイス</a></h3>
<pre><code class="language-javascript">void main() {
  String weather = '雨';
  
  if (weather == '雨') {
    print('傘を持って行きましょう');
    print('レインコートもあると良いですね');
  } else {
    print('傘は不要です');
    print('晴れやかな気分で出かけましょう');
  }
}
</code></pre>
<h2 id="else-if文複数の条件を扱う"><a class="header" href="#else-if文複数の条件を扱う">else if文：複数の条件を扱う</a></h2>
<p>2つ以上の条件を扱いたい場合は、<code>else if</code>を使います：</p>
<pre><code class="language-javascript">if (条件1) {
  // 条件1が真の時の処理
} else if (条件2) {
  // 条件1が偽で、条件2が真の時の処理
} else {
  // すべての条件が偽の時の処理
}
</code></pre>
<h3 id="例成績の評価"><a class="header" href="#例成績の評価">例：成績の評価</a></h3>
<pre><code class="language-javascript">void main() {
  int score = 85;
  
  print('あなたの点数: $score点');
  
  if (score &gt;= 90) {
    print('評価: A (優秀)');
  } else if (score &gt;= 80) {
    print('評価: B (良好)');
  } else if (score &gt;= 70) {
    print('評価: C (普通)');
  } else if (score &gt;= 60) {
    print('評価: D (合格)');
  } else {
    print('評価: F (不合格)');
  }
}
</code></pre>
<h3 id="例時間帯による挨拶"><a class="header" href="#例時間帯による挨拶">例：時間帯による挨拶</a></h3>
<pre><code class="language-javascript">void main() {
  int hour = 14;  // 14時（午後2時）
  
  if (hour &lt; 12) {
    print('おはようございます');
  } else if (hour &lt; 18) {
    print('こんにちは');
  } else {
    print('こんばんは');
  }
}
</code></pre>
<h2 id="ネストした条件分岐"><a class="header" href="#ネストした条件分岐">ネストした条件分岐</a></h2>
<p>if文の中に別のif文を書くこともできます（ネスト）：</p>
<pre><code class="language-javascript">void main() {
  int age = 16;
  bool hasLicense = false;
  
  if (age &gt;= 18) {
    print('年齢条件をクリアしています');
    
    if (hasLicense) {
      print('運転できます');
    } else {
      print('運転免許を取得してください');
    }
  } else {
    print('まだ運転はできません');
    print('18歳になってから免許を取りましょう');
  }
}
</code></pre>
<h2 id="よくある間違いとその修正"><a class="header" href="#よくある間違いとその修正">よくある間違いとその修正</a></h2>
<h3 id="1-else文の不適切な使用"><a class="header" href="#1-else文の不適切な使用">1. else文の不適切な使用</a></h3>
<pre><code class="language-javascript">// 間違った例
void main() {
  int score = 85;
  
  if (score &gt;= 80) {
    print('合格です');
  }
  
  if (score &lt; 80) {  // これは別のif文になってしまう
    print('不合格です');
  }
}

// 正しい例
void main() {
  int score = 85;
  
  if (score &gt;= 80) {
    print('合格です');
  } else {  // elseを使って明確に対照的な条件にする
    print('不合格です');
  }
}
</code></pre>
<h3 id="2-条件の順序"><a class="header" href="#2-条件の順序">2. 条件の順序</a></h3>
<pre><code class="language-javascript">// 問題のある例
void main() {
  int score = 95;
  
  if (score &gt;= 60) {
    print('合格');
  } else if (score &gt;= 90) {  // この条件には絶対に到達しない！
    print('優秀');
  }
}

// 正しい例
void main() {
  int score = 95;
  
  if (score &gt;= 90) {  // 厳しい条件から先に書く
    print('優秀');
  } else if (score &gt;= 60) {
    print('合格');
  } else {
    print('不合格');
  }
}
</code></pre>
<h2 id="練習問題-6"><a class="header" href="#練習問題-6">練習問題</a></h2>
<p>以下のプログラムを完成させてみましょう：</p>
<pre><code class="language-javascript">void main() {
  int temperature = 25;
  
  // 温度による服装アドバイスプログラムを作ってください
  // 30度以上：「暑いです。薄着で過ごしましょう」
  // 20度以上30度未満：「過ごしやすい気温です」
  // 10度以上20度未満：「少し涼しいです。上着があると良いでしょう」
  // 10度未満：「寒いです。暖かい服装でお出かけください」
}
</code></pre>
<h2 id="まとめ-12"><a class="header" href="#まとめ-12">まとめ</a></h2>
<ul>
<li><code>if-else文</code>を使うと、条件による2択の処理ができます</li>
<li><code>else if</code>を使って、3つ以上の選択肢を作れます</li>
<li>条件の順序は重要です（厳しい条件から先に書く）</li>
<li>ネストした条件分岐も可能ですが、複雑になりすぎないよう注意</li>
<li><code>else</code>は必ず直前の<code>if</code>または<code>else if</code>とペアになります</li>
</ul>
<p>次の節では、複数の条件を組み合わせる論理演算子について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="54-複数の条件を組み合わせる"><a class="header" href="#54-複数の条件を組み合わせる">5.4 複数の条件を組み合わせる（&amp;&amp;、||）</a></h1>
<p>実際のプログラムでは、複数の条件を同時に満たす場合や、複数の条件のいずれかを満たす場合の処理が必要になることがあります。このような時に使うのが<strong>論理演算子</strong>です。</p>
<h2 id="論理演算子の種類"><a class="header" href="#論理演算子の種類">論理演算子の種類</a></h2>
<p>Dartには3つの論理演算子があります：</p>
<div class="table-wrapper"><table><thead><tr><th>演算子</th><th>名前</th><th>意味</th><th>例</th></tr></thead><tbody>
<tr><td><code>&amp;&amp;</code></td><td>AND（論理積）</td><td>すべての条件が真の時に真</td><td><code>(age &gt;= 18) &amp;&amp; (hasLicense)</code></td></tr>
<tr><td>`</td><td></td><td>`</td><td>OR（論理和）</td></tr>
<tr><td><code>!</code></td><td>NOT（否定）</td><td>条件の真偽を反転</td><td><code>!(isRaining)</code></td></tr>
</tbody></table>
</div>
<h2 id="and演算子すべての条件を満たす"><a class="header" href="#and演算子すべての条件を満たす">AND演算子（&amp;&amp;）：すべての条件を満たす</a></h2>
<p><code>&amp;&amp;</code>演算子は、<strong>すべての条件が真の時だけ</strong>全体が真になります。</p>
<h3 id="基本的な使い方-1"><a class="header" href="#基本的な使い方-1">基本的な使い方</a></h3>
<pre><code class="language-javascript">void main() {
  int age = 20;
  bool hasLicense = true;
  
  if (age &gt;= 18 &amp;&amp; hasLicense) {
    print('運転できます');
  } else {
    print('運転できません');
  }
}
</code></pre>
<p>この例では、<code>age &gt;= 18</code>と<code>hasLicense</code>の<strong>両方</strong>が真の時だけ「運転できます」が表示されます。</p>
<h3 id="実用例映画の年齢制限"><a class="header" href="#実用例映画の年齢制限">実用例：映画の年齢制限</a></h3>
<pre><code class="language-javascript">void main() {
  int age = 16;
  bool parentConsent = false;
  
  // 18歳以上、または保護者の同意がある15歳以上なら視聴可能
  if (age &gt;= 18 || (age &gt;= 15 &amp;&amp; parentConsent)) {
    print('この映画を見ることができます');
  } else {
    print('この映画は見ることができません');
  }
}
</code></pre>
<h3 id="3つ以上の条件を組み合わせる"><a class="header" href="#3つ以上の条件を組み合わせる">3つ以上の条件を組み合わせる</a></h3>
<pre><code class="language-javascript">void main() {
  int score1 = 85;
  int score2 = 78;
  int score3 = 92;
  
  // すべての科目で70点以上なら合格
  if (score1 &gt;= 70 &amp;&amp; score2 &gt;= 70 &amp;&amp; score3 &gt;= 70) {
    print('全科目合格です！');
  } else {
    print('一部の科目で再試験が必要です');
  }
}
</code></pre>
<h2 id="or演算子いずれかの条件を満たす"><a class="header" href="#or演算子いずれかの条件を満たす">OR演算子（||）：いずれかの条件を満たす</a></h2>
<p><code>||</code>演算子は、<strong>いずれかの条件が真の時</strong>全体が真になります。</p>
<h3 id="基本的な使い方-2"><a class="header" href="#基本的な使い方-2">基本的な使い方</a></h3>
<pre><code class="language-javascript">void main() {
  String day = '土曜日';
  
  if (day == '土曜日' || day == '日曜日') {
    print('今日は休日です');
  } else {
    print('今日は平日です');
  }
}
</code></pre>
<h3 id="実用例割引条件の判定"><a class="header" href="#実用例割引条件の判定">実用例：割引条件の判定</a></h3>
<pre><code class="language-javascript">void main() {
  int age = 16;
  bool isStudent = true;
  bool isSenior = false;
  
  // 学生、65歳以上、または18歳未満なら割引適用
  if (isStudent || isSenior || age &lt; 18) {
    print('割引が適用されます');
  } else {
    print('通常料金です');
  }
}
</code></pre>
<h2 id="not演算子条件の否定"><a class="header" href="#not演算子条件の否定">NOT演算子（!）：条件の否定</a></h2>
<p><code>!</code>演算子は、条件の真偽を反転させます。</p>
<h3 id="基本的な使い方-3"><a class="header" href="#基本的な使い方-3">基本的な使い方</a></h3>
<pre><code class="language-javascript">void main() {
  bool isRaining = false;
  
  if (!isRaining) {  // 雨が降っていない場合
    print('今日は傘が不要です');
  } else {
    print('今日は傘を持参しましょう');
  }
}
</code></pre>
<h3 id="より複雑な例"><a class="header" href="#より複雑な例">より複雑な例</a></h3>
<pre><code class="language-javascript">void main() {
  bool isWeekend = true;
  bool isHoliday = false;
  
  if (!(isWeekend || isHoliday)) {  // 週末でも祝日でもない場合
    print('今日は平日です');
  } else {
    print('今日は休日です');
  }
}
</code></pre>
<h2 id="演算子の優先順位"><a class="header" href="#演算子の優先順位">演算子の優先順位</a></h2>
<p>論理演算子にも優先順位があります：</p>
<ol>
<li><code>!</code> (NOT) - 最優先</li>
<li><code>&amp;&amp;</code> (AND)</li>
<li><code>||</code> (OR) - 最後</li>
</ol>
<pre><code class="language-javascript">void main() {
  bool a = true;
  bool b = false;
  bool c = true;
  
  // !b &amp;&amp; a || c は (!b &amp;&amp; a) || c として評価される
  print(!b &amp;&amp; a || c);  // true
}
</code></pre>
<p>括弧を使って明示的に優先順位を指定することをお勧めします：</p>
<pre><code class="language-javascript">void main() {
  int age = 17;
  bool hasParentPermission = true;
  bool isEmergency = false;
  
  // 18歳以上、または（17歳以上で保護者の許可あり）、または緊急時
  if (age &gt;= 18 || (age &gt;= 17 &amp;&amp; hasParentPermission) || isEmergency) {
    print('許可されています');
  } else {
    print('許可されていません');
  }
}
</code></pre>
<h2 id="真理値表"><a class="header" href="#真理値表">真理値表</a></h2>
<p>論理演算子の動作を表にまとめると：</p>
<h3 id="andの真理値表"><a class="header" href="#andの真理値表">AND（&amp;&amp;）の真理値表</a></h3>
<div class="table-wrapper"><table><thead><tr><th>A</th><th>B</th><th>A &amp;&amp; B</th></tr></thead><tbody>
<tr><td>true</td><td>true</td><td>true</td></tr>
<tr><td>true</td><td>false</td><td>false</td></tr>
<tr><td>false</td><td>true</td><td>false</td></tr>
<tr><td>false</td><td>false</td><td>false</td></tr>
</tbody></table>
</div>
<h3 id="orの真理値表"><a class="header" href="#orの真理値表">OR（||）の真理値表</a></h3>
<div class="table-wrapper"><table><thead><tr><th>A</th><th>B</th><th>A || B</th></tr></thead><tbody>
<tr><td>true</td><td>true</td><td>true</td></tr>
<tr><td>true</td><td>false</td><td>true</td></tr>
<tr><td>false</td><td>true</td><td>true</td></tr>
<tr><td>false</td><td>false</td><td>false</td></tr>
</tbody></table>
</div>
<h3 id="notの真理値表"><a class="header" href="#notの真理値表">NOT（!）の真理値表</a></h3>
<div class="table-wrapper"><table><thead><tr><th>A</th><th>!A</th></tr></thead><tbody>
<tr><td>true</td><td>false</td></tr>
<tr><td>false</td><td>true</td></tr>
</tbody></table>
</div>
<h2 id="実践例総合的な条件判定"><a class="header" href="#実践例総合的な条件判定">実践例：総合的な条件判定</a></h2>
<p>会員システムの例を見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 25;
  bool isPremiumMember = true;
  int pointBalance = 500;
  String membershipType = 'gold';
  
  // 複数の条件を組み合わせた判定
  if ((age &gt;= 18 &amp;&amp; isPremiumMember) || 
      (pointBalance &gt;= 1000) || 
      (membershipType == 'gold' || membershipType == 'platinum')) {
    print('特別サービスを利用できます');
    
    if (membershipType == 'platinum' &amp;&amp; pointBalance &gt;= 5000) {
      print('さらに、最高級サービスも利用可能です');
    }
  } else {
    print('基本サービスのみ利用可能です');
  }
}
</code></pre>
<h2 id="よくある間違い-1"><a class="header" href="#よくある間違い-1">よくある間違い</a></h2>
<h3 id="1-範囲の条件を間違って書く"><a class="header" href="#1-範囲の条件を間違って書く">1. 範囲の条件を間違って書く</a></h3>
<pre><code class="language-javascript">// 間違った例
int age = 25;
if (18 &lt;= age &lt;= 65) {  // これはエラー！Dartでは使えません
  print('働き盛りです');
}

// 正しい例
int age = 25;
if (age &gt;= 18 &amp;&amp; age &lt;= 65) {
  print('働き盛りです');
}
</code></pre>
<h3 id="2-ドモルガンの法則を忘れる"><a class="header" href="#2-ドモルガンの法則を忘れる">2. ド・モルガンの法則を忘れる</a></h3>
<pre><code class="language-javascript">// 以下の2つは同じ意味です
!(a &amp;&amp; b) == (!a || !b)
!(a || b) == (!a &amp;&amp; !b)
</code></pre>
<h2 id="練習問題-7"><a class="header" href="#練習問題-7">練習問題</a></h2>
<p>以下のプログラムを完成させてみましょう：</p>
<pre><code class="language-javascript">void main() {
  int temperature = 25;
  bool isRaining = false;
  String season = '春';
  
  // 以下の条件でピクニックに適しているか判定してください：
  // - 気温が15度以上30度以下
  // - 雨が降っていない
  // - 季節が春または秋
  
  // ここに条件文を書いてください
}
</code></pre>
<h2 id="まとめ-13"><a class="header" href="#まとめ-13">まとめ</a></h2>
<ul>
<li><code>&amp;&amp;</code>（AND）：すべての条件が真の時に真</li>
<li><code>||</code>（OR）：いずれかの条件が真の時に真</li>
<li><code>!</code>（NOT）：条件の真偽を反転</li>
<li>複雑な条件では括弧を使って優先順位を明確にする</li>
<li>論理演算子を組み合わせることで、より柔軟な条件分岐が可能</li>
</ul>
<p>次の節では、これまで学んだ条件分岐の知識を使った実践的なプログラムを作成します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="55-実践年齢による入場料金の計算"><a class="header" href="#55-実践年齢による入場料金の計算">5.5 実践：年齢による入場料金の計算</a></h1>
<p>これまで学んだ条件分岐の知識を使って、実際のプログラムを作成してみましょう。年齢に応じて入場料金を計算する、実用的なプログラムを作ります。</p>
<h2 id="課題の設定"><a class="header" href="#課題の設定">課題の設定</a></h2>
<p>遊園地の入場料金システムを作ります。料金体系は以下のとおりです：</p>
<ul>
<li><strong>幼児（3歳未満）</strong>: 無料</li>
<li><strong>子供（3歳以上12歳未満）</strong>: 800円</li>
<li><strong>学生（12歳以上18歳未満）</strong>: 1,200円</li>
<li><strong>大人（18歳以上65歳未満）</strong>: 2,000円</li>
<li><strong>シニア（65歳以上）</strong>: 1,500円</li>
</ul>
<h2 id="ステップ1基本的な料金計算"><a class="header" href="#ステップ1基本的な料金計算">ステップ1：基本的な料金計算</a></h2>
<p>まず、シンプルな条件分岐で料金を計算してみましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 25;
  int price = 0;
  String category = '';
  
  if (age &lt; 3) {
    price = 0;
    category = '幼児';
  } else if (age &lt; 12) {
    price = 800;
    category = '子供';
  } else if (age &lt; 18) {
    price = 1200;
    category = '学生';
  } else if (age &lt; 65) {
    price = 2000;
    category = '大人';
  } else {
    price = 1500;
    category = 'シニア';
  }
  
  print('年齢: $age歳');
  print('区分: $category');
  print('料金: ${price}円');
}
</code></pre>
<h2 id="ステップ2学生割引の追加"><a class="header" href="#ステップ2学生割引の追加">ステップ2：学生割引の追加</a></h2>
<p>学生証を持っている場合は、18歳以上でも学生料金にしましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 20;
  bool hasStudentCard = true;
  int price = 0;
  String category = '';
  
  if (age &lt; 3) {
    price = 0;
    category = '幼児';
  } else if (age &lt; 12) {
    price = 800;
    category = '子供';
  } else if (age &lt; 18 || (age &lt; 25 &amp;&amp; hasStudentCard)) {
    price = 1200;
    category = '学生';
  } else if (age &lt; 65) {
    price = 2000;
    category = '大人';
  } else {
    price = 1500;
    category = 'シニア';
  }
  
  print('年齢: $age歳');
  if (hasStudentCard &amp;&amp; age &gt;= 18) {
    print('学生証あり');
  }
  print('区分: $category');
  print('料金: ${price}円');
}
</code></pre>
<h2 id="ステップ3グループ割引の追加"><a class="header" href="#ステップ3グループ割引の追加">ステップ3：グループ割引の追加</a></h2>
<p>3人以上のグループなら、1人あたり100円引きにしましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 30;
  bool hasStudentCard = false;
  int groupSize = 4;
  int basePrice = 0;
  String category = '';
  
  // 基本料金の計算
  if (age &lt; 3) {
    basePrice = 0;
    category = '幼児';
  } else if (age &lt; 12) {
    basePrice = 800;
    category = '子供';
  } else if (age &lt; 18 || (age &lt; 25 &amp;&amp; hasStudentCard)) {
    basePrice = 1200;
    category = '学生';
  } else if (age &lt; 65) {
    basePrice = 2000;
    category = '大人';
  } else {
    basePrice = 1500;
    category = 'シニア';
  }
  
  // グループ割引の適用
  int finalPrice = basePrice;
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    finalPrice = basePrice - 100;
  }
  
  print('年齢: $age歳');
  print('グループ人数: $groupSize人');
  if (hasStudentCard &amp;&amp; age &gt;= 18) {
    print('学生証あり');
  }
  print('区分: $category');
  print('基本料金: ${basePrice}円');
  
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    print('グループ割引: -100円');
    print('最終料金: ${finalPrice}円');
  } else {
    print('最終料金: ${finalPrice}円');
  }
}
</code></pre>
<h2 id="ステップ4特別な日の料金設定"><a class="header" href="#ステップ4特別な日の料金設定">ステップ4：特別な日の料金設定</a></h2>
<p>土日や祝日は料金が変わるシステムを追加しましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = 22;
  bool hasStudentCard = true;
  int groupSize = 2;
  String dayType = '平日'; // '平日', '土日', '祝日'
  
  int basePrice = 0;
  String category = '';
  
  // 基本料金の計算
  if (age &lt; 3) {
    basePrice = 0;
    category = '幼児';
  } else if (age &lt; 12) {
    basePrice = 800;
    category = '子供';
  } else if (age &lt; 18 || (age &lt; 25 &amp;&amp; hasStudentCard)) {
    basePrice = 1200;
    category = '学生';
  } else if (age &lt; 65) {
    basePrice = 2000;
    category = '大人';
  } else {
    basePrice = 1500;
    category = 'シニア';
  }
  
  // 休日料金の適用（幼児は除く）
  if (basePrice &gt; 0) {
    if (dayType == '土日') {
      basePrice = (basePrice * 1.2).round(); // 20%増し
    } else if (dayType == '祝日') {
      basePrice = (basePrice * 1.3).round(); // 30%増し
    }
  }
  
  // グループ割引の適用
  int finalPrice = basePrice;
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    finalPrice = basePrice - 100;
  }
  
  // 結果の表示
  print('=== 入場料金計算システム ===');
  print('年齢: $age歳');
  print('日程: $dayType');
  print('グループ人数: $groupSize人');
  
  if (hasStudentCard &amp;&amp; age &gt;= 18 &amp;&amp; age &lt; 25) {
    print('学生証: あり');
  }
  
  print('区分: $category');
  
  if (dayType != '平日' &amp;&amp; basePrice &gt; 0) {
    String multiplier = dayType == '土日' ? '20%増' : '30%増';
    print('$dayType料金($multiplier)適用');
  }
  
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    print('グループ割引: -100円');
  }
  
  print('最終料金: ${finalPrice}円');
  print('========================');
}
</code></pre>
<h2 id="ステップ5エラーチェックの追加"><a class="header" href="#ステップ5エラーチェックの追加">ステップ5：エラーチェックの追加</a></h2>
<p>不正な値に対する処理を追加しましょう：</p>
<pre><code class="language-javascript">void main() {
  int age = -5; // 不正な値をテスト
  bool hasStudentCard = false;
  int groupSize = 0; // 不正な値をテスト
  String dayType = '祝日';
  
  // 入力値の検証
  if (age &lt; 0 || age &gt; 150) {
    print('エラー: 年齢は0歳から150歳の間で入力してください');
    return;
  }
  
  if (groupSize &lt; 1) {
    print('エラー: グループ人数は1人以上で入力してください');
    return;
  }
  
  if (dayType != '平日' &amp;&amp; dayType != '土日' &amp;&amp; dayType != '祝日') {
    print('エラー: 日程は「平日」「土日」「祝日」のいずれかを入力してください');
    return;
  }
  
  int basePrice = 0;
  String category = '';
  
  // 基本料金の計算
  if (age &lt; 3) {
    basePrice = 0;
    category = '幼児';
  } else if (age &lt; 12) {
    basePrice = 800;
    category = '子供';
  } else if (age &lt; 18 || (age &lt; 25 &amp;&amp; hasStudentCard)) {
    basePrice = 1200;
    category = '学生';
  } else if (age &lt; 65) {
    basePrice = 2000;
    category = '大人';
  } else {
    basePrice = 1500;
    category = 'シニア';
  }
  
  // 休日料金の適用
  if (basePrice &gt; 0) {
    if (dayType == '土日') {
      basePrice = (basePrice * 1.2).round();
    } else if (dayType == '祝日') {
      basePrice = (basePrice * 1.3).round();
    }
  }
  
  // グループ割引の適用
  int finalPrice = basePrice;
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    finalPrice = basePrice - 100;
  }
  
  // 結果の表示
  print('=== 入場料金計算システム ===');
  print('年齢: $age歳');
  print('日程: $dayType');
  print('グループ人数: $groupSize人');
  
  if (hasStudentCard &amp;&amp; age &gt;= 18 &amp;&amp; age &lt; 25) {
    print('学生証: あり');
  }
  
  print('区分: $category');
  
  if (dayType != '平日' &amp;&amp; basePrice &gt; 0) {
    String multiplier = dayType == '土日' ? '20%増' : '30%増';
    print('$dayType料金($multiplier)適用');
  }
  
  if (groupSize &gt;= 3 &amp;&amp; basePrice &gt; 0) {
    print('グループ割引: -100円');
  }
  
  print('最終料金: ${finalPrice}円');
  print('========================');
}
</code></pre>
<h2 id="練習問題-8"><a class="header" href="#練習問題-8">練習問題</a></h2>
<p>以下の条件を追加してプログラムを改良してみましょう：</p>
<ol>
<li><strong>障害者割引</strong>: 障害者手帳を持っている場合は半額（<code>bool hasDisabilityCard</code>を追加）</li>
<li><strong>リピーター割引</strong>: 年間パスポート所持者は300円引き（<code>bool hasAnnualPass</code>を追加）</li>
<li><strong>早朝割引</strong>: 営業開始から2時間以内の入場で平日のみ200円引き（<code>bool isEarlyBird</code>を追加）</li>
</ol>
<pre><code class="language-javascript">void main() {
  int age = 35;
  bool hasStudentCard = false;
  bool hasDisabilityCard = true;
  bool hasAnnualPass = false;
  bool isEarlyBird = true;
  int groupSize = 1;
  String dayType = '平日';
  
  // ここにプログラムを書いてください
}
</code></pre>
<h2 id="まとめ-14"><a class="header" href="#まとめ-14">まとめ</a></h2>
<p>この実践例では、以下のプログラミング技術を使いました：</p>
<ul>
<li><strong>条件分岐（if-else if-else）</strong>: 年齢による料金区分の判定</li>
<li><strong>論理演算子（&amp;&amp;、||）</strong>: 学生証と年齢の組み合わせ条件</li>
<li><strong>複合条件</strong>: 複数の割引条件の組み合わせ</li>
<li><strong>エラーハンドリング</strong>: 不正な入力値の検証</li>
<li><strong>計算</strong>: パーセンテージ計算と四捨五入</li>
</ul>
<p>このようなプログラムを作ることで、条件分岐の基本的な考え方と実用的な応用方法を身につけることができます。実際のシステム開発でも、このような複雑な条件判定は頻繁に使われます。</p>
<p>次の章では、同じ処理を繰り返し実行する「ループ」について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第6章繰り返し処理ループ"><a class="header" href="#第6章繰り返し処理ループ">第6章：繰り返し処理（ループ）</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="61-同じ処理を繰り返す理由"><a class="header" href="#61-同じ処理を繰り返す理由">6.1 同じ処理を繰り返す理由</a></h1>
<p>プログラミングをしていると、同じような処理を何度も実行したい場面によく出会います。例えば、1から10までの数字を画面に表示したいときを考えてみましょう。</p>
<h2 id="繰り返し処理がない場合"><a class="header" href="#繰り返し処理がない場合">繰り返し処理がない場合</a></h2>
<p>まず、繰り返し処理を使わずに1から10までの数字を表示するプログラムを見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  print(1);
  print(2);
  print(3);
  print(4);
  print(5);
  print(6);
  print(7);
  print(8);
  print(9);
  print(10);
}
</code></pre>
<p>このプログラムは確かに動作しますが、いくつかの問題があります：</p>
<ol>
<li><strong>コードが長い</strong> - 同じようなコードを10回も書く必要があります</li>
<li><strong>変更が大変</strong> - もし1から100まで表示したくなったら、100行書かなければなりません</li>
<li><strong>ミスが起きやすい</strong> - コピー＆ペーストの際に、数字を間違える可能性があります</li>
</ol>
<h2 id="繰り返し処理の必要性"><a class="header" href="#繰り返し処理の必要性">繰り返し処理の必要性</a></h2>
<p>このような問題を解決するために、プログラミング言語には「繰り返し処理（ループ）」という機能があります。繰り返し処理を使うと、同じ処理を指定した回数だけ、あるいは特定の条件を満たすまで自動的に繰り返すことができます。</p>
<pre><code class="language-javascript">void main() {
  // for文を使って1から10まで表示
  for (int i = 1; i &lt;= 10; i++) {
    print(i);
  }
}
</code></pre>
<p>このコードはたった3行で、先ほどの10行のコードと同じ結果を得られます。しかも、100まで表示したければ、<code>i &lt;= 10</code> を <code>i &lt;= 100</code> に変えるだけです。</p>
<h2 id="繰り返し処理が役立つ場面"><a class="header" href="#繰り返し処理が役立つ場面">繰り返し処理が役立つ場面</a></h2>
<p>日常生活やプログラミングで繰り返し処理が役立つ場面は数多くあります：</p>
<h3 id="1-データの集計"><a class="header" href="#1-データの集計">1. データの集計</a></h3>
<pre><code class="language-javascript">void main() {
  // 1から100までの合計を計算
  int sum = 0;
  for (int i = 1; i &lt;= 100; i++) {
    sum = sum + i;
  }
  print('1から100までの合計: $sum');  // 5050
}
</code></pre>
<h3 id="2-パターンの生成"><a class="header" href="#2-パターンの生成">2. パターンの生成</a></h3>
<pre><code class="language-javascript">void main() {
  // 星のパターンを作る
  for (int i = 1; i &lt;= 5; i++) {
    print('*' * i);
  }
}
// 出力：
// *
// **
// ***
// ****
// *****
</code></pre>
<h3 id="3-ユーザー入力の検証"><a class="header" href="#3-ユーザー入力の検証">3. ユーザー入力の検証</a></h3>
<pre><code class="language-javascript">void main() {
  // パスワードの強度をチェック（文字数をカウント）
  String password = 'myPassword123';
  int digitCount = 0;
  
  for (int i = 0; i &lt; password.length; i++) {
    if ('0123456789'.contains(password[i])) {
      digitCount++;
    }
  }
  
  print('パスワードに含まれる数字の数: $digitCount');
}
</code></pre>
<h2 id="繰り返し処理の基本的な考え方"><a class="header" href="#繰り返し処理の基本的な考え方">繰り返し処理の基本的な考え方</a></h2>
<p>繰り返し処理を理解するには、以下の3つの要素を意識することが重要です：</p>
<ol>
<li><strong>初期状態</strong> - 繰り返しを始める前の状態</li>
<li><strong>継続条件</strong> - いつまで繰り返すか</li>
<li><strong>更新処理</strong> - 各繰り返しで何を変更するか</li>
</ol>
<p>例えば、1から10まで数える場合：</p>
<ul>
<li>初期状態：1から始める</li>
<li>継続条件：10以下の間は続ける</li>
<li>更新処理：1ずつ増やす</li>
</ul>
<h2 id="まとめ-15"><a class="header" href="#まとめ-15">まとめ</a></h2>
<p>繰り返し処理は、プログラミングにおいて非常に重要な概念です。同じ処理を効率的に実行できるだけでなく、コードをより短く、読みやすく、保守しやすくします。</p>
<p>次のセクションでは、Dartで最もよく使われる繰り返し処理の一つである「for文」について詳しく学んでいきます。</p>
<h2 id="練習問題-9"><a class="header" href="#練習問題-9">練習問題</a></h2>
<ol>
<li>繰り返し処理を使わずに「Hello」を5回表示するプログラムを書いてみましょう。</li>
<li>そのプログラムを、繰り返し処理を使って書き直すとどうなるか考えてみましょう。</li>
<li>日常生活で「同じことを繰り返す」場面を3つ挙げて、それをプログラムで表現するとしたらどうなるか考えてみましょう。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="62-for文の基本"><a class="header" href="#62-for文の基本">6.2 for文の基本</a></h1>
<p>for文は、プログラミングで最もよく使われる繰り返し処理の一つです。決まった回数だけ処理を繰り返したいときに特に便利です。</p>
<h2 id="for文の構造"><a class="header" href="#for文の構造">for文の構造</a></h2>
<p>for文は以下のような構造をしています：</p>
<pre><code class="language-javascript">for (初期化; 条件式; 更新式) {
  // 繰り返し実行したい処理
}
</code></pre>
<p>それぞれの部分を詳しく見ていきましょう：</p>
<ol>
<li><strong>初期化</strong>: 繰り返しの最初に一度だけ実行される</li>
<li><strong>条件式</strong>: 繰り返しを続けるかどうかを判断する（trueなら続ける）</li>
<li><strong>更新式</strong>: 各繰り返しの最後に実行される</li>
</ol>
<h2 id="基本的な例-1"><a class="header" href="#基本的な例-1">基本的な例</a></h2>
<p>最も基本的なfor文の例を見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  // 0から4まで（5回）繰り返す
  for (int i = 0; i &lt; 5; i++) {
    print('現在のiの値: $i');
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>現在のiの値: 0
現在のiの値: 1
現在のiの値: 2
現在のiの値: 3
現在のiの値: 4
</code></pre>
<p>このプログラムの動作を順番に追ってみましょう：</p>
<ol>
<li><code>int i = 0</code> - 変数iを0で初期化</li>
<li><code>i &lt; 5</code> - iが5より小さいか確認（0 &lt; 5はtrue）</li>
<li><code>print('現在のiの値: $i')</code> - 処理を実行</li>
<li><code>i++</code> - iを1増やす（i = 1になる）</li>
<li>手順2に戻る</li>
</ol>
<h2 id="さまざまなfor文の書き方"><a class="header" href="#さまざまなfor文の書き方">さまざまなfor文の書き方</a></h2>
<h3 id="1から始める場合"><a class="header" href="#1から始める場合">1から始める場合</a></h3>
<pre><code class="language-javascript">void main() {
  // 1から10まで表示
  for (int i = 1; i &lt;= 10; i++) {
    print(i);
  }
}
</code></pre>
<h3 id="2ずつ増やす場合"><a class="header" href="#2ずつ増やす場合">2ずつ増やす場合</a></h3>
<pre><code class="language-javascript">void main() {
  // 偶数だけを表示（0, 2, 4, 6, 8）
  for (int i = 0; i &lt; 10; i += 2) {
    print(i);
  }
}
</code></pre>
<h3 id="カウントダウン"><a class="header" href="#カウントダウン">カウントダウン</a></h3>
<pre><code class="language-javascript">void main() {
  // 10から1までカウントダウン
  for (int i = 10; i &gt;= 1; i--) {
    print('$i...');
  }
  print('発射！');
}
</code></pre>
<h2 id="インデックスと値の活用"><a class="header" href="#インデックスと値の活用">インデックスと値の活用</a></h2>
<p>for文では、カウンタ変数（通常はi）を使って、さまざまな計算や処理ができます：</p>
<pre><code class="language-javascript">void main() {
  // 配列のようなデータ構造と組み合わせる例
  List&lt;String&gt; fruits = ['りんご', 'バナナ', 'オレンジ'];
  
  for (int i = 0; i &lt; fruits.length; i++) {
    print('${i + 1}番目: ${fruits[i]}');
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>1番目: りんご
2番目: バナナ
3番目: オレンジ
</code></pre>
<h2 id="ネスト入れ子のfor文"><a class="header" href="#ネスト入れ子のfor文">ネスト（入れ子）のfor文</a></h2>
<p>for文の中に別のfor文を入れることもできます：</p>
<pre><code class="language-javascript">void main() {
  // 掛け算の表を作る（3×3）
  for (int i = 1; i &lt;= 3; i++) {
    for (int j = 1; j &lt;= 3; j++) {
      int result = i * j;
      print('$i × $j = $result');
    }
    print('---'); // 区切り線
  }
}
</code></pre>
<h2 id="for文を使った実用的な例"><a class="header" href="#for文を使った実用的な例">for文を使った実用的な例</a></h2>
<h3 id="合計値の計算"><a class="header" href="#合計値の計算">合計値の計算</a></h3>
<pre><code class="language-javascript">void main() {
  int sum = 0;
  
  // 1から10までの合計を計算
  for (int i = 1; i &lt;= 10; i++) {
    sum += i;  // sum = sum + i と同じ
  }
  
  print('1から10までの合計: $sum');  // 55
}
</code></pre>
<h3 id="文字列の繰り返し"><a class="header" href="#文字列の繰り返し">文字列の繰り返し</a></h3>
<pre><code class="language-javascript">void main() {
  String star = '';
  
  // 星を5個並べる
  for (int i = 0; i &lt; 5; i++) {
    star += '★';
    print(star);
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>★
★★
★★★
★★★★
★★★★★
</code></pre>
<h2 id="for文を使う際の注意点"><a class="header" href="#for文を使う際の注意点">for文を使う際の注意点</a></h2>
<h3 id="1-無限ループに注意"><a class="header" href="#1-無限ループに注意">1. 無限ループに注意</a></h3>
<pre><code class="language-javascript">// 危険な例（実行しないでください）
// for (int i = 0; i &gt;= 0; i++) {
//   print(i);  // iは増え続けるので、永遠に終わらない
// }
</code></pre>
<h3 id="2-境界値に注意"><a class="header" href="#2-境界値に注意">2. 境界値に注意</a></h3>
<pre><code class="language-javascript">void main() {
  // 注意：&lt;= と &lt; の違い
  print('5回繰り返す（i &lt; 5）:');
  for (int i = 0; i &lt; 5; i++) {
    print(i);  // 0, 1, 2, 3, 4
  }
  
  print('\n6回繰り返す（i &lt;= 5）:');
  for (int i = 0; i &lt;= 5; i++) {
    print(i);  // 0, 1, 2, 3, 4, 5
  }
}
</code></pre>
<h2 id="まとめ-16"><a class="header" href="#まとめ-16">まとめ</a></h2>
<p>for文は、決まった回数の繰り返し処理を簡潔に書くための強力な構文です。以下のポイントを覚えておきましょう：</p>
<ul>
<li>初期化、条件式、更新式の3つの要素で構成される</li>
<li>カウンタ変数を使って繰り返し回数を制御する</li>
<li>ネストして使うことで、より複雑な処理も可能</li>
<li>境界値と無限ループに注意する</li>
</ul>
<p>次のセクションでは、条件に基づいて繰り返すwhile文について学習します。</p>
<h2 id="練習問題-10"><a class="header" href="#練習問題-10">練習問題</a></h2>
<ol>
<li>1から20までの数字のうち、3の倍数だけを表示するプログラムを書いてみましょう。</li>
<li>次のパターンを表示するプログラムを書いてみましょう：
<pre><code>1
12
123
1234
12345
</code></pre>
</li>
<li>1から50までの数字の中で、偶数の合計を計算するプログラムを書いてみましょう。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="63-while文の使い方"><a class="header" href="#63-while文の使い方">6.3 while文の使い方</a></h1>
<p>while文は、for文と並んでよく使われる繰り返し処理の構文です。特定の条件が満たされている間、処理を繰り返し続けたいときに使います。</p>
<h2 id="while文の基本構造"><a class="header" href="#while文の基本構造">while文の基本構造</a></h2>
<p>while文の基本的な構造は以下のとおりです：</p>
<pre><code class="language-javascript">while (条件式) {
  // 条件式がtrueの間、繰り返される処理
}
</code></pre>
<p>条件式がtrueである限り、中括弧内の処理が繰り返し実行されます。</p>
<h2 id="基本的な例-2"><a class="header" href="#基本的な例-2">基本的な例</a></h2>
<p>まずは簡単な例から見ていきましょう：</p>
<pre><code class="language-javascript">void main() {
  int count = 0;
  
  while (count &lt; 5) {
    print('カウント: $count');
    count++;  // countを1増やす
  }
  
  print('終了！');
}
</code></pre>
<p>実行結果：</p>
<pre><code>カウント: 0
カウント: 1
カウント: 2
カウント: 3
カウント: 4
終了！
</code></pre>
<p>このプログラムの動作：</p>
<ol>
<li><code>count &lt; 5</code> を評価（0 &lt; 5 はtrue）</li>
<li>処理を実行（printとcount++）</li>
<li>再び条件式を評価</li>
<li>条件式がfalseになるまで繰り返す</li>
</ol>
<h2 id="for文との違い"><a class="header" href="#for文との違い">for文との違い</a></h2>
<p>同じ処理をfor文とwhile文で書いてみましょう：</p>
<pre><code class="language-javascript">void main() {
  // for文の場合
  print('for文:');
  for (int i = 0; i &lt; 3; i++) {
    print(i);
  }
  
  // while文の場合
  print('\nwhile文:');
  int j = 0;
  while (j &lt; 3) {
    print(j);
    j++;
  }
}
</code></pre>
<p>while文は、初期化と更新を自分で管理する必要があります。これにより、より柔軟な制御が可能になります。</p>
<h2 id="while文が適している場面"><a class="header" href="#while文が適している場面">while文が適している場面</a></h2>
<h3 id="1-繰り返し回数が事前にわからない場合"><a class="header" href="#1-繰り返し回数が事前にわからない場合">1. 繰り返し回数が事前にわからない場合</a></h3>
<pre><code class="language-javascript">import 'dart:math';

void main() {
  // ランダムに6が出るまでサイコロを振る
  Random random = Random();
  int dice = 0;
  int count = 0;
  
  while (dice != 6) {
    dice = random.nextInt(6) + 1;  // 1〜6のランダムな数
    count++;
    print('${count}回目: $dice');
  }
  
  print('6が出ました！ $count 回かかりました。');
}
</code></pre>
<h3 id="2-ユーザーの入力を待つ場合"><a class="header" href="#2-ユーザーの入力を待つ場合">2. ユーザーの入力を待つ場合</a></h3>
<pre><code class="language-javascript">void main() {
  // 簡単なゲームの例（実際の入力処理は簡略化）
  int playerHP = 100;
  int enemyHP = 50;
  
  print('バトル開始！');
  
  while (playerHP &gt; 0 &amp;&amp; enemyHP &gt; 0) {
    // プレイヤーの攻撃
    int damage = 20;
    enemyHP -= damage;
    print('敵に${damage}のダメージ！ 敵のHP: $enemyHP');
    
    if (enemyHP &lt;= 0) {
      print('勝利！');
      break;
    }
    
    // 敵の攻撃
    int enemyDamage = 15;
    playerHP -= enemyDamage;
    print('${enemyDamage}のダメージを受けた！ あなたのHP: $playerHP');
    
    if (playerHP &lt;= 0) {
      print('敗北...');
    }
  }
}
</code></pre>
<h2 id="do-while文"><a class="header" href="#do-while文">do-while文</a></h2>
<p>Dartには、少なくとも1回は処理を実行してから条件を確認する<code>do-while文</code>もあります：</p>
<pre><code class="language-javascript">void main() {
  int num = 10;
  
  // 通常のwhile文（条件が最初からfalseなので実行されない）
  print('while文:');
  while (num &lt; 5) {
    print('これは表示されません');
    num++;
  }
  
  // do-while文（最低1回は実行される）
  print('\ndo-while文:');
  num = 10;
  do {
    print('numの値: $num（条件に関係なく1回は実行）');
    num++;
  } while (num &lt; 5);
}
</code></pre>
<h2 id="実用的な例-6"><a class="header" href="#実用的な例-6">実用的な例</a></h2>
<h3 id="カウントダウンタイマー"><a class="header" href="#カウントダウンタイマー">カウントダウンタイマー</a></h3>
<pre><code class="language-javascript">void main() {
  int seconds = 10;
  
  print('カウントダウン開始！');
  
  while (seconds &gt; 0) {
    print('$seconds 秒');
    seconds--;
    
    // 実際のプログラムでは、ここで1秒待つ処理を入れます
    // await Future.delayed(Duration(seconds: 1));
  }
  
  print('時間切れ！');
}
</code></pre>
<h3 id="数値の桁数を数える"><a class="header" href="#数値の桁数を数える">数値の桁数を数える</a></h3>
<pre><code class="language-javascript">void main() {
  int number = 12345;
  int temp = number;
  int digitCount = 0;
  
  while (temp &gt; 0) {
    temp = temp ~/ 10;  // 整数除算（10で割った商）
    digitCount++;
  }
  
  print('$number は $digitCount 桁の数字です');
}
</code></pre>
<h3 id="合計が目標値を超えるまで加算"><a class="header" href="#合計が目標値を超えるまで加算">合計が目標値を超えるまで加算</a></h3>
<pre><code class="language-javascript">void main() {
  int sum = 0;
  int count = 1;
  int target = 100;
  
  while (sum &lt; target) {
    sum += count;
    print('$count を足して、合計: $sum');
    count++;
  }
  
  print('合計が $target を超えました！');
}
</code></pre>
<h2 id="while文使用時の注意点"><a class="header" href="#while文使用時の注意点">while文使用時の注意点</a></h2>
<h3 id="1-条件式の更新を忘れない"><a class="header" href="#1-条件式の更新を忘れない">1. 条件式の更新を忘れない</a></h3>
<pre><code class="language-javascript">void main() {
  int x = 0;
  
  // 良い例：xが更新される
  while (x &lt; 5) {
    print(x);
    x++;  // これを忘れると無限ループ！
  }
}
</code></pre>
<h3 id="2-breakとcontinue"><a class="header" href="#2-breakとcontinue">2. breakとcontinue</a></h3>
<p>while文の中でも、<code>break</code>と<code>continue</code>が使えます：</p>
<pre><code class="language-javascript">void main() {
  int num = 0;
  
  while (true) {  // 無限ループ
    num++;
    
    if (num % 2 == 0) {
      continue;  // 偶数はスキップ
    }
    
    print(num);
    
    if (num &gt;= 9) {
      break;  // 9に達したら終了
    }
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>1
3
5
7
9
</code></pre>
<h2 id="まとめ-17"><a class="header" href="#まとめ-17">まとめ</a></h2>
<p>while文は、条件に基づいて処理を繰り返すための基本的な構文です：</p>
<ul>
<li>繰り返し回数が事前にわからない場合に特に有用</li>
<li>条件式がtrueの間、処理を繰り返す</li>
<li>do-while文を使えば、最低1回は処理を実行できる</li>
<li>無限ループにならないよう、条件式が適切に更新されることを確認する</li>
</ul>
<p>次のセクションでは、無限ループとその回避方法について詳しく学習します。</p>
<h2 id="練習問題-11"><a class="header" href="#練習問題-11">練習問題</a></h2>
<ol>
<li>
<p>1から始めて、合計が50を超えるまで順番に数を足していくプログラムを書いてみましょう。何回足したかも表示してください。</p>
</li>
<li>
<p>ある数字を2で割り続けて、1以下になるまでの回数を数えるプログラムを書いてみましょう。例：16 → 8 → 4 → 2 → 1（4回）</p>
</li>
<li>
<p>フィボナッチ数列（前の2つの数の和が次の数になる）を、1000を超えるまで表示するプログラムを書いてみましょう。</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="64-無限ループとその回避方法"><a class="header" href="#64-無限ループとその回避方法">6.4 無限ループとその回避方法</a></h1>
<p>無限ループとは、終了条件を満たすことなく永遠に繰り返し続けるループのことです。プログラミング初心者がよく陥るミスの一つですが、理解すれば簡単に回避できます。</p>
<h2 id="無限ループとは"><a class="header" href="#無限ループとは">無限ループとは</a></h2>
<p>無限ループは、ループの終了条件が永遠にfalseにならない（またはtrueのまま）状態です。プログラムが応答しなくなり、強制終了が必要になることがあります。</p>
<h3 id="無限ループの例"><a class="header" href="#無限ループの例">無限ループの例</a></h3>
<pre><code class="language-javascript">// 警告：実行しないでください！
void main() {
  int i = 0;
  while (i &gt;= 0) {
    print(i);
    i++;  // iは増え続けるので、i &gt;= 0は常にtrue
  }
}
</code></pre>
<p>このプログラムは、iが0以上である限り続きます。iは増え続けるので、条件は永遠にtrueのままです。</p>
<h2 id="無限ループが発生する主な原因"><a class="header" href="#無限ループが発生する主な原因">無限ループが発生する主な原因</a></h2>
<h3 id="1-条件式の更新忘れ"><a class="header" href="#1-条件式の更新忘れ">1. 条件式の更新忘れ</a></h3>
<pre><code class="language-javascript">// 悪い例：countが更新されない
void main() {
  int count = 0;
  while (count &lt; 10) {
    print('Hello');
    // count++; を忘れている！
  }
}
</code></pre>
<h3 id="2-条件式の論理ミス"><a class="header" href="#2-条件式の論理ミス">2. 条件式の論理ミス</a></h3>
<pre><code class="language-javascript">// 悪い例：条件が常にtrue
void main() {
  int x = 5;
  while (x != 10 || x != 20) {  // xが10でも20でもこの条件はtrue
    print(x);
    x++;
  }
}
</code></pre>
<p>正しくは <code>&amp;&amp;</code>（かつ）を使うべきです：</p>
<pre><code class="language-javascript">while (x != 10 &amp;&amp; x != 20) {  // xが10または20になったら終了
</code></pre>
<h3 id="3-更新の方向が間違っている"><a class="header" href="#3-更新の方向が間違っている">3. 更新の方向が間違っている</a></h3>
<pre><code class="language-javascript">// 悪い例：減らすべきところを増やしている
void main() {
  int countdown = 10;
  while (countdown &gt; 0) {
    print(countdown);
    countdown++;  // 間違い！countdown--にすべき
  }
}
</code></pre>
<h2 id="無限ループの検出と対処"><a class="header" href="#無限ループの検出と対処">無限ループの検出と対処</a></h2>
<h3 id="デバッグ用の出力を追加"><a class="header" href="#デバッグ用の出力を追加">デバッグ用の出力を追加</a></h3>
<p>ループが正しく動作しているか確認するため、カウンタや変数の値を出力します：</p>
<pre><code class="language-javascript">void main() {
  int i = 0;
  int loopCount = 0;
  
  while (i &lt; 100) {
    loopCount++;
    print('ループ回数: $loopCount, i = $i');
    
    // 安全装置：1000回を超えたら強制終了
    if (loopCount &gt; 1000) {
      print('エラー：ループが多すぎます！');
      break;
    }
    
    i += 10;
  }
}
</code></pre>
<h3 id="安全な無限ループの作り方"><a class="header" href="#安全な無限ループの作り方">安全な無限ループの作り方</a></h3>
<p>意図的に無限ループを作る場合は、必ず脱出条件を用意します：</p>
<pre><code class="language-javascript">void main() {
  // メニュー選択の例
  while (true) {  // 意図的な無限ループ
    print('\nメニュー:');
    print('1. 開始');
    print('2. 設定');
    print('3. 終了');
    
    // 実際の入力処理は簡略化
    int choice = 3;  // 例として3を選択
    
    if (choice == 1) {
      print('ゲームを開始します');
    } else if (choice == 2) {
      print('設定画面を開きます');
    } else if (choice == 3) {
      print('終了します');
      break;  // ループを抜ける
    }
  }
}
</code></pre>
<h2 id="無限ループを防ぐためのベストプラクティス"><a class="header" href="#無限ループを防ぐためのベストプラクティス">無限ループを防ぐためのベストプラクティス</a></h2>
<h3 id="1-ループカウンタを使う"><a class="header" href="#1-ループカウンタを使う">1. ループカウンタを使う</a></h3>
<pre><code class="language-javascript">void main() {
  int maxIterations = 100;
  int iterations = 0;
  double value = 1.0;
  
  // 値が0.01より小さくなるまで半分にし続ける
  while (value &gt; 0.01) {
    value = value / 2;
    iterations++;
    
    // 安全装置
    if (iterations &gt;= maxIterations) {
      print('警告：最大繰り返し回数に達しました');
      break;
    }
  }
  
  print('最終的な値: $value');
  print('繰り返し回数: $iterations');
}
</code></pre>
<h3 id="2-明確な終了条件を設定"><a class="header" href="#2-明確な終了条件を設定">2. 明確な終了条件を設定</a></h3>
<pre><code class="language-javascript">void main() {
  // 良い例：明確な終了条件
  List&lt;int&gt; numbers = [1, 5, 3, 8, 2];
  int index = 0;
  
  // リストのサイズを超えないようにする
  while (index &lt; numbers.length) {
    print('numbers[$index] = ${numbers[index]}');
    index++;
  }
}
</code></pre>
<h3 id="3-do-whileでの注意点"><a class="header" href="#3-do-whileでの注意点">3. do-whileでの注意点</a></h3>
<pre><code class="language-javascript">void main() {
  int num = 100;
  
  // 注意：最低1回は実行される
  do {
    print('num = $num');
    num = num ~/ 2;  // 2で割る（整数除算）
  } while (num &gt; 0);
  
  print('終了時のnum: $num');
}
</code></pre>
<h2 id="実践的な例ユーザー入力の検証"><a class="header" href="#実践的な例ユーザー入力の検証">実践的な例：ユーザー入力の検証</a></h2>
<pre><code class="language-javascript">void main() {
  // パスワード入力の例（実際の入力は簡略化）
  String password = '';
  int attempts = 0;
  int maxAttempts = 3;
  
  while (attempts &lt; maxAttempts) {
    // 実際にはここでユーザー入力を受け取る
    password = 'wrong';  // 例として間違ったパスワード
    attempts++;
    
    if (password == 'correct') {
      print('ログイン成功！');
      break;
    } else {
      print('パスワードが違います。残り${maxAttempts - attempts}回');
      
      if (attempts &gt;= maxAttempts) {
        print('ログイン失敗。アカウントがロックされました。');
      }
    }
  }
}
</code></pre>
<h2 id="トラブルシューティング"><a class="header" href="#トラブルシューティング">トラブルシューティング</a></h2>
<p>プログラムが応答しなくなった場合：</p>
<ol>
<li><strong>DartPadの場合</strong>: ブラウザのタブを更新する</li>
<li><strong>コマンドラインの場合</strong>: Ctrl+C（Windows/Linux）またはCmd+C（Mac）で強制終了</li>
<li><strong>IDEの場合</strong>: 停止ボタンをクリック</li>
</ol>
<h2 id="まとめ-18"><a class="header" href="#まとめ-18">まとめ</a></h2>
<p>無限ループを防ぐための重要なポイント：</p>
<ul>
<li>ループの条件式が適切に更新されることを確認する</li>
<li>論理演算子（&amp;&amp;、||）の使い方に注意する</li>
<li>デバッグ時は変数の値を出力して動作を確認する</li>
<li>意図的な無限ループには必ず脱出条件を用意する</li>
<li>安全装置として最大繰り返し回数を設定することを検討する</li>
</ul>
<p>次のセクションでは、これまで学んだループの知識を活用して、九九の表を作成する実践的なプログラムを作ります。</p>
<h2 id="練習問題-12"><a class="header" href="#練習問題-12">練習問題</a></h2>
<ol>
<li>
<p>次のコードの問題点を指摘し、修正してください：</p>
<pre><code class="language-javascript">int x = 10;
while (x &gt; 0) {
  print(x);
  x += 1;
}
</code></pre>
</li>
<li>
<p>1から始めて3倍していき、1000を超えたら終了するプログラムを書いてください。ただし、無限ループにならないよう安全装置も含めてください。</p>
</li>
<li>
<p>ユーザーが「quit」と入力するまで続くプログラムを書いてください（実際の入力処理は、文字列を順番に試すシミュレーションで構いません）。</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="65-実践九九の表を作る"><a class="header" href="#65-実践九九の表を作る">6.5 実践：九九の表を作る</a></h1>
<p>これまで学んだfor文とwhile文の知識を活用して、九九の表を作成するプログラムを作ってみましょう。段階的に機能を追加していき、最終的に見やすい九九の表を完成させます。</p>
<h2 id="ステップ1基本的な九九の表示"><a class="header" href="#ステップ1基本的な九九の表示">ステップ1：基本的な九九の表示</a></h2>
<p>まずは、特定の段の九九を表示するプログラムから始めましょう：</p>
<pre><code class="language-javascript">void main() {
  // 3の段を表示
  int dan = 3;
  
  for (int i = 1; i &lt;= 9; i++) {
    int result = dan * i;
    print('$dan × $i = $result');
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>3 × 1 = 3
3 × 2 = 6
3 × 3 = 9
3 × 4 = 12
3 × 5 = 15
3 × 6 = 18
3 × 7 = 21
3 × 8 = 24
3 × 9 = 27
</code></pre>
<h2 id="ステップ2すべての段を表示"><a class="header" href="#ステップ2すべての段を表示">ステップ2：すべての段を表示</a></h2>
<p>次に、ネスト（入れ子）のfor文を使って、1から9までのすべての段を表示します：</p>
<pre><code class="language-javascript">void main() {
  // 1から9の段まですべて表示
  for (int dan = 1; dan &lt;= 9; dan++) {
    print('\n【${dan}の段】');
    
    for (int i = 1; i &lt;= 9; i++) {
      int result = dan * i;
      print('$dan × $i = $result');
    }
  }
}
</code></pre>
<h2 id="ステップ3横に並べて表示"><a class="header" href="#ステップ3横に並べて表示">ステップ3：横に並べて表示</a></h2>
<p>九九の表をより見やすくするため、横に並べて表示してみましょう：</p>
<pre><code class="language-javascript">void main() {
  // 各段を横一列に表示
  for (int dan = 1; dan &lt;= 9; dan++) {
    String line = '';
    
    for (int i = 1; i &lt;= 9; i++) {
      int result = dan * i;
      // 結果を2桁で揃えて表示
      if (result &lt; 10) {
        line += ' $result ';
      } else {
        line += '$result ';
      }
    }
    
    print('${dan}の段: $line');
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>1の段:  1  2  3  4  5  6  7  8  9 
2の段:  2  4  6  8 10 12 14 16 18 
3の段:  3  6  9 12 15 18 21 24 27 
4の段:  4  8 12 16 20 24 28 32 36 
5の段:  5 10 15 20 25 30 35 40 45 
6の段:  6 12 18 24 30 36 42 48 54 
7の段:  7 14 21 28 35 42 49 56 63 
8の段:  8 16 24 32 40 48 56 64 72 
9の段:  9 18 27 36 45 54 63 72 81 
</code></pre>
<h2 id="ステップ4表形式で表示"><a class="header" href="#ステップ4表形式で表示">ステップ4：表形式で表示</a></h2>
<p>より本格的な九九の表を作成します：</p>
<pre><code class="language-javascript">void main() {
  // ヘッダー行を表示
  print('    |  1  2  3  4  5  6  7  8  9');
  print('----+----------------------------');
  
  // 各段を表示
  for (int dan = 1; dan &lt;= 9; dan++) {
    // 段の数字を表示（右揃え）
    String danStr = ' $dan  |';
    
    // その段の計算結果を横に並べる
    for (int i = 1; i &lt;= 9; i++) {
      int result = dan * i;
      
      // 結果を3文字幅で右揃え
      if (result &lt; 10) {
        danStr += '  $result';
      } else {
        danStr += ' $result';
      }
    }
    
    print(danStr);
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>    |  1  2  3  4  5  6  7  8  9
----+----------------------------
 1  |  1  2  3  4  5  6  7  8  9
 2  |  2  4  6  8 10 12 14 16 18
 3  |  3  6  9 12 15 18 21 24 27
 4  |  4  8 12 16 20 24 28 32 36
 5  |  5 10 15 20 25 30 35 40 45
 6  |  6 12 18 24 30 36 42 48 54
 7  |  7 14 21 28 35 42 49 56 63
 8  |  8 16 24 32 40 48 56 64 72
 9  |  9 18 27 36 45 54 63 72 81
</code></pre>
<h2 id="ステップ5関数を使って整理"><a class="header" href="#ステップ5関数を使って整理">ステップ5：関数を使って整理</a></h2>
<p>コードを関数に分割して、より整理されたプログラムにします：</p>
<pre><code class="language-javascript">// 九九の結果を計算する関数
int calculateKuku(int dan, int multiplier) {
  return dan * multiplier;
}

// 数値を3文字幅でフォーマットする関数
String formatNumber(int num) {
  if (num &lt; 10) {
    return '  $num';
  } else {
    return ' $num';
  }
}

// ヘッダーを表示する関数
void printHeader() {
  print('    |  1  2  3  4  5  6  7  8  9');
  print('----+----------------------------');
}

// メイン関数
void main() {
  printHeader();
  
  // 各段を表示
  for (int dan = 1; dan &lt;= 9; dan++) {
    String line = ' $dan  |';
    
    for (int i = 1; i &lt;= 9; i++) {
      int result = calculateKuku(dan, i);
      line += formatNumber(result);
    }
    
    print(line);
  }
}
</code></pre>
<h2 id="応用例特定の範囲の九九"><a class="header" href="#応用例特定の範囲の九九">応用例：特定の範囲の九九</a></h2>
<p>より柔軟な九九の表を作ってみましょう：</p>
<pre><code class="language-javascript">void main() {
  // カスタマイズ可能な九九の表
  int startDan = 2;    // 開始の段
  int endDan = 5;      // 終了の段
  int startMulti = 3;  // 開始の掛ける数
  int endMulti = 7;    // 終了の掛ける数
  
  // ヘッダー表示
  String header = '   |';
  for (int i = startMulti; i &lt;= endMulti; i++) {
    header += '  $i';
  }
  print(header);
  print('---+' + '-' * ((endMulti - startMulti + 1) * 3));
  
  // 指定範囲の九九を表示
  for (int dan = startDan; dan &lt;= endDan; dan++) {
    String line = ' $dan |';
    
    for (int i = startMulti; i &lt;= endMulti; i++) {
      int result = dan * i;
      if (result &lt; 10) {
        line += '  $result';
      } else {
        line += ' $result';
      }
    }
    
    print(line);
  }
}
</code></pre>
<p>実行結果：</p>
<pre><code>   |  3  4  5  6  7
---+---------------
 2 |  6  8 10 12 14
 3 |  9 12 15 18 21
 4 | 12 16 20 24 28
 5 | 15 20 25 30 35
</code></pre>
<h2 id="while文を使った九九"><a class="header" href="#while文を使った九九">while文を使った九九</a></h2>
<p>for文の代わりにwhile文を使っても九九の表を作れます：</p>
<pre><code class="language-javascript">void main() {
  int dan = 1;
  
  while (dan &lt;= 9) {
    int i = 1;
    print('\n${dan}の段:');
    
    while (i &lt;= 9) {
      int result = dan * i;
      print('$dan × $i = $result');
      i++;
    }
    
    dan++;
  }
}
</code></pre>
<h2 id="チャレンジ課題"><a class="header" href="#チャレンジ課題">チャレンジ課題</a></h2>
<p>これまでの知識を活用して、以下の課題に挑戦してみましょう：</p>
<h3 id="1-逆順の九九"><a class="header" href="#1-逆順の九九">1. 逆順の九九</a></h3>
<p>9の段から1の段まで逆順に表示する九九の表を作ってください。</p>
<h3 id="2-奇数の段だけの九九"><a class="header" href="#2-奇数の段だけの九九">2. 奇数の段だけの九九</a></h3>
<p>1、3、5、7、9の段だけを表示する九九の表を作ってください。</p>
<h3 id="3-色付き九九疑似的に"><a class="header" href="#3-色付き九九疑似的に">3. 色付き九九（疑似的に）</a></h3>
<p>5の倍数の結果に「*」マークを付けて強調表示する九九の表を作ってください。</p>
<pre><code class="language-javascript">// ヒント：5の倍数の判定
if (result % 5 == 0) {
  // 特別な表示
}
</code></pre>
<h2 id="まとめ-19"><a class="header" href="#まとめ-19">まとめ</a></h2>
<p>九九の表を作成することで、以下の重要な概念を実践的に学びました：</p>
<ul>
<li>ネストされたfor文の使い方</li>
<li>文字列の連結とフォーマット</li>
<li>関数による処理の分割</li>
<li>条件に応じた表示の変更</li>
</ul>
<p>これらの技術は、より複雑なプログラムを作成する際の基礎となります。繰り返し処理をマスターすることで、効率的で読みやすいコードが書けるようになります。</p>
<h2 id="発展課題"><a class="header" href="#発展課題">発展課題</a></h2>
<p>余裕があれば、以下の発展的な課題にも挑戦してみてください：</p>
<ol>
<li>九九の表をCSV形式（カンマ区切り）で出力する</li>
<li>指定した段だけを表示する機能を追加する</li>
<li>九九の表から特定の答え（例：24）を見つけて、その式をすべて表示する</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第7章リスト配列"><a class="header" href="#第7章リスト配列">第7章：リスト（配列）</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="71-複数のデータをまとめて管理する"><a class="header" href="#71-複数のデータをまとめて管理する">7.1 複数のデータをまとめて管理する</a></h1>
<p>これまでの章では、一つ一つの変数に値を保存してきました。しかし、実際のプログラミングでは、たくさんのデータをまとめて扱いたい場面がよくあります。</p>
<h2 id="なぜリストが必要なのか"><a class="header" href="#なぜリストが必要なのか">なぜリストが必要なのか</a></h2>
<p>例えば、クラスの生徒30人のテストの点数を管理したいとしましょう。これまでの方法では、こんな風に書かなければなりません：</p>
<pre><code class="language-javascript">void main() {
  int score1 = 85;
  int score2 = 92;
  int score3 = 78;
  int score4 = 90;
  int score5 = 88;
  // ... 30人分続く
}
</code></pre>
<p>これでは変数を30個も作らなければならず、とても大変です。さらに、平均点を計算したり、最高点を見つけたりするのも困難になります。</p>
<h2 id="リストとは"><a class="header" href="#リストとは">リストとは</a></h2>
<p>リスト（配列とも呼ばれます）は、複数のデータを一つの変数にまとめて保存できる仕組みです。同じ種類のデータをひとまとめにして、効率的に管理できます。</p>
<p>リストのイメージ：</p>
<pre><code>scores = [85, 92, 78, 90, 88]
          ↑   ↑   ↑   ↑   ↑
        0番目 1番目 2番目 3番目 4番目
</code></pre>
<h2 id="リストの特徴"><a class="header" href="#リストの特徴">リストの特徴</a></h2>
<ol>
<li><strong>順序がある</strong>：データは追加した順番に並んでいます</li>
<li><strong>番号でアクセス</strong>：0から始まる番号（インデックス）で各要素にアクセスできます</li>
<li><strong>同じ型のデータ</strong>：通常、リストには同じ種類のデータを入れます</li>
<li><strong>サイズが変更可能</strong>：データを追加したり削除したりできます</li>
</ol>
<h2 id="実生活でのリストの例"><a class="header" href="#実生活でのリストの例">実生活でのリストの例</a></h2>
<p>リストは私たちの日常生活でもよく見かけます：</p>
<ul>
<li><strong>買い物リスト</strong>：「牛乳」「パン」「卵」「りんご」</li>
<li><strong>成績表</strong>：各科目の点数の一覧</li>
<li><strong>プレイリスト</strong>：お気に入りの曲のリスト</li>
<li><strong>連絡先</strong>：友達の名前のリスト</li>
</ul>
<h2 id="リストを使うメリット"><a class="header" href="#リストを使うメリット">リストを使うメリット</a></h2>
<ol>
<li><strong>コードがシンプルに</strong>：たくさんの変数を作る必要がありません</li>
<li><strong>繰り返し処理と相性が良い</strong>：for文と組み合わせて全要素を処理できます</li>
<li><strong>データの追加・削除が簡単</strong>：必要に応じてデータを増減できます</li>
<li><strong>関連するデータをまとめられる</strong>：同じ種類のデータを論理的にグループ化できます</li>
</ol>
<h2 id="まとめ-20"><a class="header" href="#まとめ-20">まとめ</a></h2>
<p>リストは、複数のデータを効率的に管理するための重要なプログラミングの道具です。次のセクションでは、実際にリストを作成し、使ってみましょう。</p>
<h3 id="練習問題-13"><a class="header" href="#練習問題-13">練習問題</a></h3>
<ol>
<li>あなたの好きな食べ物を5つ思い浮かべてください。これをリストで表現するとどうなるでしょうか？</li>
<li>一週間の曜日をリストで表現するとどうなるでしょうか？</li>
<li>リストを使わずに100人分のデータを管理することの問題点を3つ挙げてください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="72-リストの作成と要素へのアクセス"><a class="header" href="#72-リストの作成と要素へのアクセス">7.2 リストの作成と要素へのアクセス</a></h1>
<p>前のセクションでリストの概念を学びました。今度は実際にリストを作成し、使ってみましょう。</p>
<h2 id="リストの作成"><a class="header" href="#リストの作成">リストの作成</a></h2>
<p>Dartでリストを作成する最も基本的な方法は、角括弧 <code>[]</code> を使うことです。</p>
<pre><code class="language-javascript">void main() {
  // 数値のリストを作成
  List&lt;int&gt; scores = [85, 92, 78, 90, 88];
  
  // 文字列のリストを作成
  List&lt;String&gt; fruits = ['りんご', 'バナナ', 'オレンジ'];
  
  // 空のリストを作成
  List&lt;String&gt; tasks = [];
  
  print(scores);  // [85, 92, 78, 90, 88]
  print(fruits);  // [りんご, バナナ, オレンジ]
  print(tasks);   // []
}
</code></pre>
<h2 id="型推論を使った書き方"><a class="header" href="#型推論を使った書き方">型推論を使った書き方</a></h2>
<p>Dartは賢いので、リストの中身から型を推測してくれます：</p>
<pre><code class="language-javascript">void main() {
  // varを使うと型を自動で判断
  var numbers = [1, 2, 3, 4, 5];        // List&lt;int&gt;と推論
  var names = ['太郎', '花子', '次郎'];  // List&lt;String&gt;と推論
  
  print(numbers);
  print(names);
}
</code></pre>
<h2 id="要素へのアクセス"><a class="header" href="#要素へのアクセス">要素へのアクセス</a></h2>
<p>リストの要素には、インデックス（番号）を使ってアクセスします。<strong>重要：インデックスは0から始まります！</strong></p>
<pre><code class="language-javascript">void main() {
  var fruits = ['りんご', 'バナナ', 'オレンジ', 'ぶどう', 'いちご'];
  
  // インデックスを使って要素を取得
  print(fruits[0]);  // りんご（1番目の要素）
  print(fruits[1]);  // バナナ（2番目の要素）
  print(fruits[4]);  // いちご（5番目の要素）
  
  // 要素の値を変更
  fruits[1] = 'メロン';
  print(fruits);  // [りんご, メロン, オレンジ, ぶどう, いちご]
}
</code></pre>
<h2 id="リストの長さを調べる"><a class="header" href="#リストの長さを調べる">リストの長さを調べる</a></h2>
<p>リストに何個の要素が入っているかは、<code>length</code>プロパティで調べられます：</p>
<pre><code class="language-javascript">void main() {
  var scores = [85, 92, 78, 90, 88];
  
  print('要素の数: ${scores.length}');  // 要素の数: 5
  
  // 最後の要素にアクセス
  print('最後の要素: ${scores[scores.length - 1]}');  // 最後の要素: 88
}
</code></pre>
<h2 id="範囲外アクセスに注意"><a class="header" href="#範囲外アクセスに注意">範囲外アクセスに注意</a></h2>
<p>存在しないインデックスにアクセスするとエラーになります：</p>
<pre><code class="language-javascript">void main() {
  var colors = ['赤', '青', '緑'];
  
  print(colors[0]);  // 赤（OK）
  print(colors[2]);  // 緑（OK）
  // print(colors[3]);  // エラー！（インデックス3は存在しない）
}
</code></pre>
<h2 id="よく使うリストのプロパティ"><a class="header" href="#よく使うリストのプロパティ">よく使うリストのプロパティ</a></h2>
<pre><code class="language-javascript">void main() {
  var numbers = [3, 1, 4, 1, 5, 9];
  
  // リストが空かどうか
  print(numbers.isEmpty);    // false
  print(numbers.isNotEmpty); // true
  
  // 最初と最後の要素
  print(numbers.first);  // 3
  print(numbers.last);   // 9
}
</code></pre>
<h2 id="練習日付管理プログラム"><a class="header" href="#練習日付管理プログラム">練習：日付管理プログラム</a></h2>
<p>曜日を管理する簡単なプログラムを作ってみましょう：</p>
<pre><code class="language-javascript">void main() {
  // 曜日のリスト
  var weekdays = ['月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日', '日曜日'];
  
  // 今日は何曜日？（0 = 月曜日）
  int today = 2;  // 水曜日
  
  print('今日は${weekdays[today]}です');
  print('明日は${weekdays[today + 1]}です');
  
  // 週末かどうかチェック
  if (today &gt;= 5) {
    print('週末です！');
  } else {
    print('平日です。');
  }
}
</code></pre>
<h2 id="まとめ-21"><a class="header" href="#まとめ-21">まとめ</a></h2>
<ul>
<li>リストは <code>[]</code> で作成します</li>
<li>要素へのアクセスは <code>リスト名[インデックス]</code> で行います</li>
<li>インデックスは<strong>0から始まる</strong>ことを忘れずに！</li>
<li><code>length</code>でリストの要素数を調べられます</li>
<li>範囲外のインデックスにアクセスするとエラーになります</li>
</ul>
<h3 id="練習問題-14"><a class="header" href="#練習問題-14">練習問題</a></h3>
<ol>
<li>あなたの好きな科目を5つ含むリストを作成し、3番目の科目を表示してください</li>
<li>1から10までの数字を含むリストを作成し、最初と最後の要素を表示してください</li>
<li>家族の名前のリストを作成し、リストの要素数を表示してください</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="73-リストに要素を追加削除する"><a class="header" href="#73-リストに要素を追加削除する">7.3 リストに要素を追加・削除する</a></h1>
<p>リストの便利な点の一つは、プログラムの実行中に要素を追加したり削除したりできることです。このセクションでは、リストを動的に操作する方法を学びます。</p>
<h2 id="要素の追加"><a class="header" href="#要素の追加">要素の追加</a></h2>
<h3 id="addメソッド---末尾に追加"><a class="header" href="#addメソッド---末尾に追加">add()メソッド - 末尾に追加</a></h3>
<p>最も基本的な追加方法は<code>add()</code>メソッドです。リストの最後に新しい要素を追加します：</p>
<pre><code class="language-javascript">void main() {
  var todoList = ['宿題をする', '部屋を掃除する'];
  print('最初のリスト: $todoList');
  
  // 新しいタスクを追加
  todoList.add('買い物に行く');
  print('追加後: $todoList');
  
  // さらに追加
  todoList.add('友達に電話する');
  print('さらに追加後: $todoList');
}
</code></pre>
<h3 id="insertメソッド---指定位置に挿入"><a class="header" href="#insertメソッド---指定位置に挿入">insert()メソッド - 指定位置に挿入</a></h3>
<p>特定の位置に要素を挿入したい場合は<code>insert()</code>を使います：</p>
<pre><code class="language-javascript">void main() {
  var fruits = ['りんご', 'バナナ', 'オレンジ'];
  print('最初: $fruits');
  
  // インデックス1の位置に挿入
  fruits.insert(1, 'いちご');
  print('挿入後: $fruits');  // [りんご, いちご, バナナ, オレンジ]
  
  // 最初に挿入
  fruits.insert(0, 'ぶどう');
  print('先頭に挿入: $fruits');
}
</code></pre>
<h3 id="addallメソッド---複数要素を一度に追加"><a class="header" href="#addallメソッド---複数要素を一度に追加">addAll()メソッド - 複数要素を一度に追加</a></h3>
<p>複数の要素をまとめて追加する場合は<code>addAll()</code>を使います：</p>
<pre><code class="language-javascript">void main() {
  var numbers = [1, 2, 3];
  var moreNumbers = [4, 5, 6];
  
  numbers.addAll(moreNumbers);
  print(numbers);  // [1, 2, 3, 4, 5, 6]
  
  // 直接リストを指定することも可能
  numbers.addAll([7, 8, 9]);
  print(numbers);  // [1, 2, 3, 4, 5, 6, 7, 8, 9]
}
</code></pre>
<h2 id="要素の削除"><a class="header" href="#要素の削除">要素の削除</a></h2>
<h3 id="removeメソッド---値を指定して削除"><a class="header" href="#removeメソッド---値を指定して削除">remove()メソッド - 値を指定して削除</a></h3>
<p>特定の値を持つ要素を削除します（最初に見つかった要素のみ）：</p>
<pre><code class="language-javascript">void main() {
  var colors = ['赤', '青', '緑', '青', '黄'];
  print('最初: $colors');
  
  // '青'を削除（最初の一つだけ）
  colors.remove('青');
  print('削除後: $colors');  // [赤, 緑, 青, 黄]
  
  // 存在しない要素を削除しようとしても大丈夫
  colors.remove('紫');  // 何も起こらない
  print('変化なし: $colors');
}
</code></pre>
<h3 id="removeatメソッド---インデックスで削除"><a class="header" href="#removeatメソッド---インデックスで削除">removeAt()メソッド - インデックスで削除</a></h3>
<p>特定の位置の要素を削除します：</p>
<pre><code class="language-javascript">void main() {
  var animals = ['犬', '猫', '鳥', '魚', 'うさぎ'];
  print('最初: $animals');
  
  // インデックス2の要素を削除
  animals.removeAt(2);
  print('削除後: $animals');  // [犬, 猫, 魚, うさぎ]
  
  // 最後の要素を削除
  animals.removeAt(animals.length - 1);
  print('最後を削除: $animals');
}
</code></pre>
<h3 id="removelastメソッド---最後の要素を削除"><a class="header" href="#removelastメソッド---最後の要素を削除">removeLast()メソッド - 最後の要素を削除</a></h3>
<p>リストの最後の要素を削除します：</p>
<pre><code class="language-javascript">void main() {
  var stack = ['皿1', '皿2', '皿3', '皿4'];
  print('最初の積み重ね: $stack');
  
  // 一番上（最後）の皿を取る
  stack.removeLast();
  print('1枚取った後: $stack');
  
  stack.removeLast();
  print('もう1枚取った後: $stack');
}
</code></pre>
<h3 id="clearメソッド---全要素を削除"><a class="header" href="#clearメソッド---全要素を削除">clear()メソッド - 全要素を削除</a></h3>
<p>リストを空にします：</p>
<pre><code class="language-javascript">void main() {
  var items = ['アイテム1', 'アイテム2', 'アイテム3'];
  print('削除前: $items');
  print('要素数: ${items.length}');
  
  items.clear();
  print('削除後: $items');
  print('要素数: ${items.length}');  // 0
}
</code></pre>
<h2 id="実践例買い物リストアプリ"><a class="header" href="#実践例買い物リストアプリ">実践例：買い物リストアプリ</a></h2>
<pre><code class="language-javascript">void main() {
  // 買い物リストを作成
  var shoppingList = ['牛乳', 'パン'];
  print('買い物リスト: $shoppingList');
  
  // アイテムを追加
  print('\n--- アイテムを追加 ---');
  shoppingList.add('卵');
  shoppingList.add('バター');
  print('更新後: $shoppingList');
  
  // 優先度の高いアイテムを先頭に追加
  print('\n--- 優先アイテムを追加 ---');
  shoppingList.insert(0, '薬');
  print('更新後: $shoppingList');
  
  // 買い物完了したアイテムを削除
  print('\n--- 買い物完了 ---');
  shoppingList.remove('パン');
  print('パンを購入: $shoppingList');
  
  // リストの状態を確認
  print('\n--- 現在の状態 ---');
  print('残りのアイテム数: ${shoppingList.length}');
  print('リスト: $shoppingList');
}
</code></pre>
<h2 id="まとめ-22"><a class="header" href="#まとめ-22">まとめ</a></h2>
<ul>
<li><strong>追加</strong>: <code>add()</code>で末尾に、<code>insert()</code>で指定位置に、<code>addAll()</code>で複数追加</li>
<li><strong>削除</strong>: <code>remove()</code>で値指定、<code>removeAt()</code>でインデックス指定、<code>removeLast()</code>で最後を削除</li>
<li><strong>全削除</strong>: <code>clear()</code>でリストを空にする</li>
<li>これらのメソッドを使うことで、プログラム実行中にリストを柔軟に操作できます</li>
</ul>
<h3 id="練習問題-15"><a class="header" href="#練習問題-15">練習問題</a></h3>
<ol>
<li>空のリストを作成し、1から5までの数字を順番に追加するプログラムを書いてください</li>
<li>果物のリスト<code>['りんご', 'みかん', 'ぶどう']</code>から'みかん'を削除し、代わりに'いちご'を同じ位置に追加してください</li>
<li>ToDoリストを作成し、タスクの追加と完了（削除）をシミュレートするプログラムを書いてください</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="74-リストと繰り返し処理の組み合わせ"><a class="header" href="#74-リストと繰り返し処理の組み合わせ">7.4 リストと繰り返し処理の組み合わせ</a></h1>
<p>リストとループ（繰り返し処理）を組み合わせることで、リストの全要素に対して効率的に処理を行うことができます。これはプログラミングにおいて非常に重要なテクニックです。</p>
<h2 id="for文でリストを処理する"><a class="header" href="#for文でリストを処理する">for文でリストを処理する</a></h2>
<h3 id="インデックスを使った方法"><a class="header" href="#インデックスを使った方法">インデックスを使った方法</a></h3>
<p>リストの要素数分だけループを回し、インデックスでアクセスする方法：</p>
<pre><code class="language-javascript">void main() {
  var scores = [85, 92, 78, 90, 88];
  
  // インデックスを使って全要素にアクセス
  for (int i = 0; i &lt; scores.length; i++) {
    print('${i + 1}番目の点数: ${scores[i]}');
  }
}
</code></pre>
<h3 id="for-inループ推奨"><a class="header" href="#for-inループ推奨">for-inループ（推奨）</a></h3>
<p>Dartには、リストの要素を直接取得できる便利な<code>for-in</code>ループがあります：</p>
<pre><code class="language-javascript">void main() {
  var fruits = ['りんご', 'バナナ', 'オレンジ', 'ぶどう'];
  
  // for-inループで各要素を処理
  for (String fruit in fruits) {
    print('フルーツ: $fruit');
  }
  
  // 型推論を使った書き方
  for (var fruit in fruits) {
    print('好きな果物: $fruit');
  }
}
</code></pre>
<h2 id="実践的な例"><a class="header" href="#実践的な例">実践的な例</a></h2>
<h3 id="合計と平均を計算"><a class="header" href="#合計と平均を計算">合計と平均を計算</a></h3>
<pre><code class="language-javascript">void main() {
  var scores = [85, 92, 78, 90, 88, 95, 82];
  int total = 0;
  
  // 全要素の合計を計算
  for (var score in scores) {
    total += score;
  }
  
  // 平均を計算
  double average = total / scores.length;
  
  print('点数: $scores');
  print('合計: $total点');
  print('平均: ${average.toStringAsFixed(1)}点');
}
</code></pre>
<h3 id="最大値最小値を見つける"><a class="header" href="#最大値最小値を見つける">最大値・最小値を見つける</a></h3>
<pre><code class="language-javascript">void main() {
  var temperatures = [25.5, 28.0, 23.5, 30.0, 22.0, 26.5];
  
  // 最初の要素を初期値として設定
  double maxTemp = temperatures[0];
  double minTemp = temperatures[0];
  
  // 残りの要素と比較
  for (var temp in temperatures) {
    if (temp &gt; maxTemp) {
      maxTemp = temp;
    }
    if (temp &lt; minTemp) {
      minTemp = temp;
    }
  }
  
  print('気温データ: $temperatures');
  print('最高気温: $maxTemp°C');
  print('最低気温: $minTemp°C');
}
</code></pre>
<h3 id="条件に合う要素を数える"><a class="header" href="#条件に合う要素を数える">条件に合う要素を数える</a></h3>
<pre><code class="language-javascript">void main() {
  var scores = [85, 92, 78, 90, 88, 65, 95, 82, 70, 91];
  int passCount = 0;  // 合格者数
  int excellentCount = 0;  // 優秀者数
  
  for (var score in scores) {
    if (score &gt;= 80) {
      passCount++;
    }
    if (score &gt;= 90) {
      excellentCount++;
    }
  }
  
  print('全員の点数: $scores');
  print('合格者（80点以上）: $passCount人');
  print('優秀者（90点以上）: $excellentCount人');
}
</code></pre>
<h2 id="要素の変換"><a class="header" href="#要素の変換">要素の変換</a></h2>
<h3 id="新しいリストを作成"><a class="header" href="#新しいリストを作成">新しいリストを作成</a></h3>
<pre><code class="language-javascript">void main() {
  var prices = [100, 250, 180, 300, 120];
  var discountedPrices = [];
  
  // 10%割引の価格を計算
  for (var price in prices) {
    var discounted = (price * 0.9).round();
    discountedPrices.add(discounted);
  }
  
  print('元の価格: $prices');
  print('割引後: $discountedPrices');
}
</code></pre>
<h3 id="インデックスが必要な場合"><a class="header" href="#インデックスが必要な場合">インデックスが必要な場合</a></h3>
<p>要素の位置情報が必要な場合は、通常のfor文を使います：</p>
<pre><code class="language-javascript">void main() {
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺'];
  var scores = [85, 92, 78, 90, 88];
  
  print('成績表:');
  for (int i = 0; i &lt; students.length; i++) {
    print('${i + 1}位: ${students[i]}さん - ${scores[i]}点');
  }
}
</code></pre>
<h2 id="ネストしたループ"><a class="header" href="#ネストしたループ">ネストしたループ</a></h2>
<p>リストの中にリストがある場合の処理：</p>
<pre><code class="language-javascript">void main() {
  // 各生徒の科目別点数
  var allScores = [
    [80, 85, 90],  // 生徒1
    [75, 88, 92],  // 生徒2
    [90, 85, 88],  // 生徒3
  ];
  
  for (int i = 0; i &lt; allScores.length; i++) {
    print('\n生徒${i + 1}の成績:');
    int total = 0;
    
    for (var score in allScores[i]) {
      total += score;
      print('  点数: $score');
    }
    
    print('  合計: $total点');
    print('  平均: ${(total / allScores[i].length).toStringAsFixed(1)}点');
  }
}
</code></pre>
<h2 id="whileループとリスト"><a class="header" href="#whileループとリスト">whileループとリスト</a></h2>
<p>条件を満たす間、リストを処理する例：</p>
<pre><code class="language-javascript">void main() {
  var tasks = ['メール確認', '資料作成', '会議準備', '報告書作成'];
  
  print('今日のタスク:');
  while (tasks.isNotEmpty) {
    // 最初のタスクを取り出して処理
    String currentTask = tasks[0];
    print('実行中: $currentTask');
    tasks.removeAt(0);
    
    print('残りのタスク: ${tasks.length}個');
  }
  
  print('\nすべてのタスクが完了しました！');
}
</code></pre>
<h2 id="まとめ-23"><a class="header" href="#まとめ-23">まとめ</a></h2>
<ul>
<li><code>for-in</code>ループは、リストの全要素を簡単に処理できる</li>
<li>インデックスが必要な場合は、通常の<code>for</code>文を使う</li>
<li>リストとループを組み合わせることで、合計・平均・最大値などの計算が簡単にできる</li>
<li>条件に応じた処理や、新しいリストの作成も可能</li>
</ul>
<h3 id="練習問題-16"><a class="header" href="#練習問題-16">練習問題</a></h3>
<ol>
<li>数値のリスト<code>[5, 10, 15, 20, 25]</code>の全要素を2倍にした新しいリストを作成してください</li>
<li>名前のリスト<code>['太郎', '花子', '次郎', '三郎']</code>の各要素に「さん」を付けて表示してください</li>
<li>点数のリスト<code>[65, 78, 82, 90, 55, 88, 70]</code>から、70点未満の点数だけを別のリストに集めてください</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="75-実践成績管理プログラム"><a class="header" href="#75-実践成績管理プログラム">7.5 実践：成績管理プログラム</a></h1>
<p>これまで学んだリストの知識を総合的に活用して、実用的な成績管理プログラムを作成してみましょう。このプログラムでは、生徒の成績を管理し、様々な統計情報を計算します。</p>
<h2 id="プログラムの要件"><a class="header" href="#プログラムの要件">プログラムの要件</a></h2>
<p>作成する成績管理プログラムには以下の機能を実装します：</p>
<ol>
<li>生徒の名前と点数を管理</li>
<li>平均点、最高点、最低点を計算</li>
<li>成績の分布を表示</li>
<li>合格者と不合格者を判定</li>
</ol>
<h2 id="ステップ1基本的な成績管理"><a class="header" href="#ステップ1基本的な成績管理">ステップ1：基本的な成績管理</a></h2>
<p>まずは、シンプルな成績管理から始めましょう：</p>
<pre><code class="language-javascript">void main() {
  // 生徒の名前
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺'];
  
  // 各生徒の点数
  var scores = [85, 92, 78, 65, 88];
  
  print('=== 成績一覧 ===');
  for (int i = 0; i &lt; students.length; i++) {
    print('${students[i]}: ${scores[i]}点');
  }
}
</code></pre>
<h2 id="ステップ2統計情報の計算"><a class="header" href="#ステップ2統計情報の計算">ステップ2：統計情報の計算</a></h2>
<p>平均点、最高点、最低点を計算する機能を追加します：</p>
<pre><code class="language-javascript">void main() {
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺', '伊藤', '山田'];
  var scores = [85, 92, 78, 65, 88, 90, 73];
  
  // 成績一覧を表示
  print('=== 成績一覧 ===');
  for (int i = 0; i &lt; students.length; i++) {
    print('${students[i]}: ${scores[i]}点');
  }
  
  // 統計情報を計算
  int total = 0;
  int maxScore = scores[0];
  int minScore = scores[0];
  String topStudent = students[0];
  String bottomStudent = students[0];
  
  for (int i = 0; i &lt; scores.length; i++) {
    // 合計を計算
    total += scores[i];
    
    // 最高点を更新
    if (scores[i] &gt; maxScore) {
      maxScore = scores[i];
      topStudent = students[i];
    }
    
    // 最低点を更新
    if (scores[i] &lt; minScore) {
      minScore = scores[i];
      bottomStudent = students[i];
    }
  }
  
  double average = total / scores.length;
  
  print('\n=== 統計情報 ===');
  print('受験者数: ${scores.length}人');
  print('平均点: ${average.toStringAsFixed(1)}点');
  print('最高点: ${topStudent}さん - $maxScore点');
  print('最低点: ${bottomStudent}さん - $minScore点');
}
</code></pre>
<h2 id="ステップ3合格判定機能"><a class="header" href="#ステップ3合格判定機能">ステップ3：合格判定機能</a></h2>
<p>80点以上を合格とする判定機能を追加します：</p>
<pre><code class="language-javascript">void main() {
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺', '伊藤', '山田'];
  var scores = [85, 92, 78, 65, 88, 90, 73];
  
  // 合格基準点
  int passingScore = 80;
  
  // 合格者と不合格者のリストを作成
  var passedStudents = [];
  var failedStudents = [];
  
  for (int i = 0; i &lt; students.length; i++) {
    if (scores[i] &gt;= passingScore) {
      passedStudents.add('${students[i]} (${scores[i]}点)');
    } else {
      failedStudents.add('${students[i]} (${scores[i]}点)');
    }
  }
  
  print('=== 合格判定結果 ===');
  print('合格基準: $passingScore点以上\n');
  
  print('【合格者】 ${passedStudents.length}人');
  for (var student in passedStudents) {
    print('  ✓ $student');
  }
  
  print('\n【不合格者】 ${failedStudents.length}人');
  for (var student in failedStudents) {
    print('  ✗ $student');
  }
  
  // 合格率を計算
  double passRate = (passedStudents.length / students.length) * 100;
  print('\n合格率: ${passRate.toStringAsFixed(1)}%');
}
</code></pre>
<h2 id="ステップ4成績分布の表示"><a class="header" href="#ステップ4成績分布の表示">ステップ4：成績分布の表示</a></h2>
<p>点数帯ごとの人数を集計します：</p>
<pre><code class="language-javascript">void main() {
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺', '伊藤', '山田', '中村', '小林', '加藤'];
  var scores = [85, 92, 78, 65, 88, 90, 73, 95, 82, 69];
  
  // 成績分布を集計
  int excellent = 0;  // 90点以上
  int good = 0;       // 80-89点
  int average = 0;    // 70-79点
  int poor = 0;       // 70点未満
  
  for (var score in scores) {
    if (score &gt;= 90) {
      excellent++;
    } else if (score &gt;= 80) {
      good++;
    } else if (score &gt;= 70) {
      average++;
    } else {
      poor++;
    }
  }
  
  print('=== 成績分布 ===');
  print('90点以上  (優): $excellent人 ${'★' * excellent}');
  print('80-89点  (良): $good人 ${'★' * good}');
  print('70-79点  (可): $average人 ${'★' * average}');
  print('70点未満 (不可): $poor人 ${'★' * poor}');
}
</code></pre>
<h2 id="完成版総合成績管理プログラム"><a class="header" href="#完成版総合成績管理プログラム">完成版：総合成績管理プログラム</a></h2>
<p>すべての機能を組み合わせた完成版：</p>
<pre><code class="language-javascript">void main() {
  // データの準備
  var students = ['田中', '佐藤', '鈴木', '高橋', '渡辺', '伊藤', '山田', '中村'];
  var mathScores = [85, 92, 78, 65, 88, 90, 73, 95];
  var englishScores = [80, 88, 85, 70, 82, 95, 68, 90];
  
  // 各生徒の合計点を計算
  var totalScores = [];
  for (int i = 0; i &lt; students.length; i++) {
    totalScores.add(mathScores[i] + englishScores[i]);
  }
  
  print('=== 期末試験成績表 ===');
  print('生徒名\t数学\t英語\t合計');
  print('-' * 30);
  
  for (int i = 0; i &lt; students.length; i++) {
    print('${students[i]}\t${mathScores[i]}\t${englishScores[i]}\t${totalScores[i]}');
  }
  
  // 科目別平均
  double mathAvg = 0;
  double englishAvg = 0;
  
  for (int i = 0; i &lt; students.length; i++) {
    mathAvg += mathScores[i];
    englishAvg += englishScores[i];
  }
  
  mathAvg /= students.length;
  englishAvg /= students.length;
  
  print('\n=== 科目別平均点 ===');
  print('数学: ${mathAvg.toStringAsFixed(1)}点');
  print('英語: ${englishAvg.toStringAsFixed(1)}点');
  
  // 総合成績トップ3
  print('\n=== 総合成績トップ3 ===');
  
  // 成績順にソート（簡易版）
  for (int i = 0; i &lt; 3 &amp;&amp; i &lt; students.length; i++) {
    int maxIndex = i;
    for (int j = i + 1; j &lt; students.length; j++) {
      if (totalScores[j] &gt; totalScores[maxIndex]) {
        maxIndex = j;
      }
    }
    
    // 値を入れ替え
    if (maxIndex != i) {
      // 生徒名
      String tempStudent = students[i];
      students[i] = students[maxIndex];
      students[maxIndex] = tempStudent;
      
      // 合計点
      int tempTotal = totalScores[i];
      totalScores[i] = totalScores[maxIndex];
      totalScores[maxIndex] = tempTotal;
      
      // 数学
      int tempMath = mathScores[i];
      mathScores[i] = mathScores[maxIndex];
      mathScores[maxIndex] = tempMath;
      
      // 英語
      int tempEnglish = englishScores[i];
      englishScores[i] = englishScores[maxIndex];
      englishScores[maxIndex] = tempEnglish;
    }
    
    print('${i + 1}位: ${students[i]} - ${totalScores[i]}点');
  }
}
</code></pre>
<h2 id="発展課題-1"><a class="header" href="#発展課題-1">発展課題</a></h2>
<p>このプログラムをさらに改良するアイデア：</p>
<ol>
<li><strong>科目数を増やす</strong>：国語、理科、社会なども追加</li>
<li><strong>クラス別管理</strong>：複数のクラスの成績を管理</li>
<li><strong>成績の推移</strong>：中間試験と期末試験の比較</li>
<li><strong>評価基準の変更</strong>：S/A/B/C/Dなどの評価を追加</li>
</ol>
<h2 id="まとめ-24"><a class="header" href="#まとめ-24">まとめ</a></h2>
<p>この実践プログラムを通じて、以下のリストの活用方法を学びました：</p>
<ul>
<li>複数のリストを連携させたデータ管理</li>
<li>ループを使った統計情報の計算</li>
<li>条件分岐とリストを組み合わせた分類処理</li>
<li>リストの要素を使った比較とソート</li>
</ul>
<p>これらの技術は、実際のプログラム開発でも頻繁に使用される重要なスキルです。</p>
<h3 id="チャレンジ問題-1"><a class="header" href="#チャレンジ問題-1">チャレンジ問題</a></h3>
<ol>
<li>生徒を点数順に並べ替えて表示する機能を追加してください</li>
<li>各科目で平均点以上を取った生徒の名前を表示してください</li>
<li>成績が前回より上がった生徒を「成績向上者」として表示する機能を作ってください</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第8章マップ連想配列"><a class="header" href="#第8章マップ連想配列">第8章：マップ（連想配列）</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="キーと値のペアでデータを管理"><a class="header" href="#キーと値のペアでデータを管理">キーと値のペアでデータを管理</a></h1>
<p>前章では、リストを使って複数のデータをまとめて管理する方法を学びました。リストは順番に並んだデータを扱うのに便利でしたが、今回はもう一つの重要なデータ構造「マップ（Map）」について学びます。</p>
<h2 id="リストの制限"><a class="header" href="#リストの制限">リストの制限</a></h2>
<p>リストは素晴らしいツールですが、ある種の問題には向いていません。例えば、生徒の名前と点数を管理したいとき、リストだけでは次のような問題があります：</p>
<pre><code class="language-javascript">void main() {
  List&lt;String&gt; names = ['田中', '鈴木', '佐藤', '山田'];
  List&lt;int&gt; scores = [85, 92, 78, 90];
  
  // 田中さんの点数を知りたい場合、namesリストで位置を探してから、
  // scoresリストの同じ位置を参照する必要がある
  int index = names.indexOf('田中');
  print('田中さんの点数: ${scores[index]}');
}
</code></pre>
<p>このアプローチには問題があります：</p>
<ul>
<li>2つのリストを常に同期させる必要がある</li>
<li>名前から点数を見つけるのに手間がかかる</li>
<li>データの関係性が分かりにくい</li>
</ul>
<h2 id="マップとは"><a class="header" href="#マップとは">マップとは</a></h2>
<p>マップ（連想配列とも呼ばれます）は、「キー」と「値」のペアでデータを管理するデータ構造です。キーを使って直接値にアクセスできるため、関連するデータを効率的に管理できます。</p>
<p>マップのイメージ：</p>
<pre><code>scores = {
  '田中': 85,
  '鈴木': 92,
  '佐藤': 78,
  '山田': 90
}
</code></pre>
<p>ここで：</p>
<ul>
<li><strong>キー</strong>：データを識別するための名前（例：'田中'）</li>
<li><strong>値</strong>：キーに関連付けられたデータ（例：85）</li>
</ul>
<h2 id="実生活でのマップの例"><a class="header" href="#実生活でのマップの例">実生活でのマップの例</a></h2>
<p>マップは日常生活でもよく見かける概念です：</p>
<ol>
<li>
<p><strong>電話帳</strong></p>
<ul>
<li>キー：人の名前</li>
<li>値：電話番号</li>
</ul>
</li>
<li>
<p><strong>辞書</strong></p>
<ul>
<li>キー：単語</li>
<li>値：意味</li>
</ul>
</li>
<li>
<p><strong>商品カタログ</strong></p>
<ul>
<li>キー：商品コード</li>
<li>値：価格</li>
</ul>
</li>
<li>
<p><strong>学生証</strong></p>
<ul>
<li>キー：学籍番号</li>
<li>値：学生の情報</li>
</ul>
</li>
</ol>
<h2 id="マップの特徴"><a class="header" href="#マップの特徴">マップの特徴</a></h2>
<ol>
<li><strong>キーは一意</strong>：同じキーは1つしか存在できません</li>
<li><strong>高速アクセス</strong>：キーを使って直接値にアクセスできます</li>
<li><strong>順序は保証されない</strong>：追加した順番は保持されない場合があります</li>
<li><strong>異なる型の組み合わせ</strong>：キーと値は異なる型にできます</li>
</ol>
<h2 id="リストとマップの使い分け"><a class="header" href="#リストとマップの使い分け">リストとマップの使い分け</a></h2>
<h3 id="リストを使う場合"><a class="header" href="#リストを使う場合">リストを使う場合</a></h3>
<ul>
<li>データに順序が重要な場合</li>
<li>インデックス（番号）でアクセスしたい場合</li>
<li>同じ値が複数存在してもよい場合</li>
</ul>
<h3 id="マップを使う場合"><a class="header" href="#マップを使う場合">マップを使う場合</a></h3>
<ul>
<li>特定の名前やIDでデータにアクセスしたい場合</li>
<li>データ間の関連性を表現したい場合</li>
<li>検索を高速に行いたい場合</li>
</ul>
<h2 id="簡単な例"><a class="header" href="#簡単な例">簡単な例</a></h2>
<pre><code class="language-javascript">void main() {
  // 果物の価格を管理するマップ
  Map&lt;String, int&gt; fruitPrices = {
    'りんご': 150,
    'バナナ': 100,
    'オレンジ': 120
  };
  
  // キーを使って直接価格にアクセス
  print('りんごの価格: ${fruitPrices['りんご']}円');
  print('バナナの価格: ${fruitPrices['バナナ']}円');
}
</code></pre>
<h2 id="まとめ-25"><a class="header" href="#まとめ-25">まとめ</a></h2>
<p>マップは、キーと値のペアでデータを管理する強力なデータ構造です。名前やIDなど、意味のあるキーを使ってデータに直接アクセスできるため、関連するデータを効率的に管理できます。次のセクションでは、実際にマップを作成し、操作する方法を詳しく学びましょう。</p>
<h3 id="練習問題-17"><a class="header" href="#練習問題-17">練習問題</a></h3>
<ol>
<li>あなたの家族や友人の名前と年齢をマップで表現するとどうなるでしょうか？</li>
<li>好きな科目とその成績をマップで表現してみましょう。</li>
<li>リストではなくマップを使うべき場面を3つ考えてください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="マップの作成と操作"><a class="header" href="#マップの作成と操作">マップの作成と操作</a></h1>
<p>前のセクションでマップの概念を学びました。ここでは、実際にマップを作成し、操作する方法を詳しく見ていきましょう。</p>
<h2 id="マップの作成"><a class="header" href="#マップの作成">マップの作成</a></h2>
<h3 id="1-空のマップを作る"><a class="header" href="#1-空のマップを作る">1. 空のマップを作る</a></h3>
<pre><code class="language-javascript">void main() {
  // 空のマップを作成
  Map&lt;String, int&gt; ages = {};
  
  // または
  Map&lt;String, int&gt; scores = Map();
  
  print(ages);  // {}
  print(scores); // {}
}
</code></pre>
<h3 id="2-初期値を持つマップを作る"><a class="header" href="#2-初期値を持つマップを作る">2. 初期値を持つマップを作る</a></h3>
<pre><code class="language-javascript">void main() {
  // 初期値を持つマップ
  Map&lt;String, int&gt; fruitPrices = {
    'りんご': 150,
    'バナナ': 100,
    'オレンジ': 120,
    'ぶどう': 300
  };
  
  print(fruitPrices);
  // {りんご: 150, バナナ: 100, オレンジ: 120, ぶどう: 300}
}
</code></pre>
<h2 id="値の取得"><a class="header" href="#値の取得">値の取得</a></h2>
<p>マップから値を取得するには、角括弧 <code>[]</code> にキーを指定します：</p>
<pre><code class="language-javascript">void main() {
  Map&lt;String, int&gt; ages = {
    '太郎': 20,
    '花子': 18,
    '次郎': 22
  };
  
  // 値の取得
  print('太郎の年齢: ${ages['太郎']}歳');  // 太郎の年齢: 20歳
  print('花子の年齢: ${ages['花子']}歳');  // 花子の年齢: 18歳
  
  // 存在しないキーを指定するとnullが返る
  print('三郎の年齢: ${ages['三郎']}');    // 三郎の年齢: null
}
</code></pre>
<h2 id="値の追加と更新"><a class="header" href="#値の追加と更新">値の追加と更新</a></h2>
<h3 id="新しいキーと値を追加"><a class="header" href="#新しいキーと値を追加">新しいキーと値を追加</a></h3>
<pre><code class="language-javascript">void main() {
  Map&lt;String, String&gt; capitals = {
    '日本': '東京',
    'アメリカ': 'ワシントンD.C.'
  };
  
  // 新しい要素を追加
  capitals['フランス'] = 'パリ';
  capitals['イギリス'] = 'ロンドン';
  
  print(capitals);
  // {日本: 東京, アメリカ: ワシントンD.C., フランス: パリ, イギリス: ロンドン}
}
</code></pre>
<h3 id="既存の値を更新"><a class="header" href="#既存の値を更新">既存の値を更新</a></h3>
<pre><code class="language-javascript">void main() {
  Map&lt;String, int&gt; testScores = {
    '数学': 85,
    '英語': 78,
    '理科': 92
  };
  
  print('更新前の英語の点数: ${testScores['英語']}');  // 78
  
  // 値を更新
  testScores['英語'] = 82;
  
  print('更新後の英語の点数: ${testScores['英語']}');  // 82
}
</code></pre>
<h2 id="値の削除"><a class="header" href="#値の削除">値の削除</a></h2>
<pre><code class="language-javascript">void main() {
  Map&lt;String, String&gt; todoList = {
    '月曜日': '買い物',
    '火曜日': '掃除',
    '水曜日': '勉強',
    '木曜日': '運動'
  };
  
  print('削除前: $todoList');
  
  // 要素を削除
  todoList.remove('火曜日');
  
  print('削除後: $todoList');
  // {月曜日: 買い物, 水曜日: 勉強, 木曜日: 運動}
}
</code></pre>
<h2 id="キーの存在確認"><a class="header" href="#キーの存在確認">キーの存在確認</a></h2>
<pre><code class="language-javascript">void main() {
  Map&lt;String, double&gt; productPrices = {
    'ノート': 150.0,
    'ペン': 100.0,
    '消しゴム': 80.0
  };
  
  // キーが存在するか確認
  if (productPrices.containsKey('ペン')) {
    print('ペンの価格: ${productPrices['ペン']}円');
  }
  
  if (!productPrices.containsKey('鉛筆')) {
    print('鉛筆は商品リストにありません');
  }
}
</code></pre>
<h2 id="マップのプロパティ"><a class="header" href="#マップのプロパティ">マップのプロパティ</a></h2>
<pre><code class="language-javascript">void main() {
  Map&lt;String, int&gt; monthDays = {
    '1月': 31,
    '2月': 28,
    '3月': 31,
    '4月': 30
  };
  
  // マップのサイズ（要素数）
  print('要素数: ${monthDays.length}');  // 要素数: 4
  
  // マップが空かどうか
  print('空ですか？: ${monthDays.isEmpty}');  // 空ですか？: false
  
  // すべてのキーを取得
  print('すべてのキー: ${monthDays.keys}');
  // すべてのキー: (1月, 2月, 3月, 4月)
  
  // すべての値を取得
  print('すべての値: ${monthDays.values}');
  // すべての値: (31, 28, 31, 30)
}
</code></pre>
<h2 id="マップの繰り返し処理"><a class="header" href="#マップの繰り返し処理">マップの繰り返し処理</a></h2>
<pre><code class="language-javascript">void main() {
  Map&lt;String, String&gt; englishWords = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬'
  };
  
  // forEach を使った繰り返し
  print('=== 英単語リスト ===');
  englishWords.forEach((key, value) {
    print('$key: $value');
  });
  
  // for-in を使った繰り返し
  print('\n=== キーだけを表示 ===');
  for (String word in englishWords.keys) {
    print(word);
  }
}
</code></pre>
<h2 id="実践的な例在庫管理"><a class="header" href="#実践的な例在庫管理">実践的な例：在庫管理</a></h2>
<pre><code class="language-javascript">void main() {
  // 商品の在庫数を管理
  Map&lt;String, int&gt; inventory = {
    'りんご': 50,
    'バナナ': 30,
    'オレンジ': 25
  };
  
  print('現在の在庫: $inventory');
  
  // 商品を販売（在庫を減らす）
  String soldItem = 'バナナ';
  int soldQuantity = 5;
  
  if (inventory.containsKey(soldItem)) {
    inventory[soldItem] = inventory[soldItem]! - soldQuantity;
    print('$soldItemを$soldQuantity個販売しました');
  }
  
  // 新商品を追加
  inventory['ぶどう'] = 20;
  print('新商品ぶどうを追加しました');
  
  // 在庫確認
  print('\n=== 在庫一覧 ===');
  inventory.forEach((item, quantity) {
    print('$item: $quantity個');
  });
}
</code></pre>
<h2 id="まとめ-26"><a class="header" href="#まとめ-26">まとめ</a></h2>
<p>マップの基本的な操作方法を学びました：</p>
<ul>
<li><code>{}</code> または <code>Map()</code> で作成</li>
<li><code>map[key]</code> で値を取得</li>
<li><code>map[key] = value</code> で追加・更新</li>
<li><code>remove(key)</code> で削除</li>
<li><code>containsKey(key)</code> で存在確認</li>
<li><code>forEach</code> や <code>for-in</code> で繰り返し処理</li>
</ul>
<p>次のセクションでは、マップのより実践的な活用例を見ていきます。</p>
<h3 id="練習問題-18"><a class="header" href="#練習問題-18">練習問題</a></h3>
<ol>
<li>友達の名前と誕生日（月/日）を管理するマップを作成し、3人分のデータを追加してください。</li>
<li>科目名と成績（A, B, C）を管理するマップを作り、1つの科目の成績を更新する処理を書いてください。</li>
<li>商品名と価格のマップから、すべての商品の合計金額を計算するプログラムを作成してください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="マップの活用例"><a class="header" href="#マップの活用例">マップの活用例</a></h1>
<p>これまでマップの基本的な使い方を学びました。ここでは、実際のプログラミングでよく使われるマップの活用例を見ていきましょう。</p>
<h2 id="1-成績管理システム"><a class="header" href="#1-成績管理システム">1. 成績管理システム</a></h2>
<p>複数の生徒の成績を科目ごとに管理する例です：</p>
<pre><code class="language-javascript">void main() {
  // 生徒ごとの成績を管理
  Map&lt;String, Map&lt;String, int&gt;&gt; studentScores = {
    '田中太郎': {
      '数学': 85,
      '英語': 78,
      '理科': 92,
      '社会': 88
    },
    '鈴木花子': {
      '数学': 92,
      '英語': 95,
      '理科': 87,
      '社会': 90
    },
    '佐藤次郎': {
      '数学': 78,
      '英語': 82,
      '理科': 85,
      '社会': 80
    }
  };
  
  // 特定の生徒の成績を表示
  String studentName = '田中太郎';
  print('=== ${studentName}の成績 ===');
  studentScores[studentName]!.forEach((subject, score) {
    print('$subject: $score点');
  });
  
  // 生徒の平均点を計算
  print('\n=== 各生徒の平均点 ===');
  studentScores.forEach((name, scores) {
    int total = 0;
    scores.forEach((subject, score) {
      total += score;
    });
    double average = total / scores.length;
    print('$name: ${average.toStringAsFixed(1)}点');
  });
}
</code></pre>
<h2 id="2-在庫管理と商品情報"><a class="header" href="#2-在庫管理と商品情報">2. 在庫管理と商品情報</a></h2>
<p>商品の在庫数と価格を一緒に管理する例：</p>
<pre><code class="language-javascript">void main() {
  // 商品情報（在庫数と価格）
  Map&lt;String, Map&lt;String, int&gt;&gt; products = {
    'りんご': {'在庫': 50, '価格': 150},
    'バナナ': {'在庫': 30, '価格': 100},
    'オレンジ': {'在庫': 25, '価格': 120},
    'ぶどう': {'在庫': 15, '価格': 300}
  };
  
  // 在庫一覧を表示
  print('=== 商品在庫一覧 ===');
  products.forEach((name, info) {
    print('$name: 在庫${info['在庫']}個, ${info['価格']}円/個');
  });
  
  // 在庫金額の合計を計算
  int totalValue = 0;
  products.forEach((name, info) {
    totalValue += info['在庫']! * info['価格']!;
  });
  print('\n在庫金額合計: ${totalValue}円');
  
  // 在庫が20個以下の商品を警告
  print('\n=== 在庫警告 ===');
  products.forEach((name, info) {
    if (info['在庫']! &lt;= 20) {
      print('⚠️ $nameの在庫が少なくなっています（${info['在庫']}個）');
    }
  });
}
</code></pre>
<h2 id="3-アンケート集計"><a class="header" href="#3-アンケート集計">3. アンケート集計</a></h2>
<p>選択肢の回答数を集計する例：</p>
<pre><code class="language-javascript">void main() {
  // アンケートの回答を集計
  List&lt;String&gt; responses = [
    '満足', '普通', '満足', '不満', '満足',
    '普通', '満足', '満足', '普通', '不満'
  ];
  
  // 回答を集計するマップ
  Map&lt;String, int&gt; results = {};
  
  // 各回答をカウント
  for (String response in responses) {
    if (results.containsKey(response)) {
      results[response] = results[response]! + 1;
    } else {
      results[response] = 1;
    }
  }
  
  // 結果を表示
  print('=== アンケート結果 ===');
  results.forEach((answer, count) {
    print('$answer: $count票');
  });
  
  // パーセンテージも表示
  int total = responses.length;
  print('\n=== 割合 ===');
  results.forEach((answer, count) {
    double percentage = (count / total) * 100;
    print('$answer: ${percentage.toStringAsFixed(1)}%');
  });
}
</code></pre>
<h2 id="4-設定値の管理"><a class="header" href="#4-設定値の管理">4. 設定値の管理</a></h2>
<p>アプリケーションの設定を管理する例：</p>
<pre><code class="language-javascript">void main() {
  // アプリケーションの設定
  Map&lt;String, dynamic&gt; settings = {
    'ユーザー名': '山田太郎',
    '言語': '日本語',
    '通知': true,
    '音量': 80,
    'テーマ': 'ダーク'
  };
  
  // 現在の設定を表示
  print('=== 現在の設定 ===');
  settings.forEach((key, value) {
    print('$key: $value');
  });
  
  // 設定を変更
  print('\n設定を変更します...');
  settings['通知'] = false;
  settings['音量'] = 60;
  
  // 変更後の設定を表示
  print('\n=== 変更後の設定 ===');
  settings.forEach((key, value) {
    print('$key: $value');
  });
}
</code></pre>
<h2 id="5-単語の頻度カウント"><a class="header" href="#5-単語の頻度カウント">5. 単語の頻度カウント</a></h2>
<p>文章中の単語の出現回数を数える例：</p>
<pre><code class="language-javascript">void main() {
  String text = 'りんご バナナ りんご オレンジ りんご バナナ ぶどう';
  List&lt;String&gt; words = text.split(' ');
  
  // 単語の出現回数をカウント
  Map&lt;String, int&gt; wordCount = {};
  
  for (String word in words) {
    if (wordCount.containsKey(word)) {
      wordCount[word] = wordCount[word]! + 1;
    } else {
      wordCount[word] = 1;
    }
  }
  
  // 結果を表示
  print('=== 単語の出現回数 ===');
  wordCount.forEach((word, count) {
    print('$word: $count回');
  });
  
  // 最も頻出する単語を見つける
  String mostFrequent = '';
  int maxCount = 0;
  
  wordCount.forEach((word, count) {
    if (count &gt; maxCount) {
      mostFrequent = word;
      maxCount = count;
    }
  });
  
  print('\n最も頻出する単語: $mostFrequent ($maxCount回)');
}
</code></pre>
<h2 id="6-電話帳アプリケーション"><a class="header" href="#6-電話帳アプリケーション">6. 電話帳アプリケーション</a></h2>
<p>名前から電話番号とメールアドレスを検索する例：</p>
<pre><code class="language-javascript">void main() {
  // 連絡先情報
  Map&lt;String, Map&lt;String, String&gt;&gt; contacts = {
    '田中太郎': {
      '電話': '090-1234-5678',
      'メール': 'tanaka@example.com'
    },
    '鈴木花子': {
      '電話': '080-9876-5432',
      'メール': 'suzuki@example.com'
    },
    '佐藤次郎': {
      '電話': '070-1111-2222',
      'メール': 'sato@example.com'
    }
  };
  
  // 連絡先を検索する関数
  void searchContact(String name) {
    if (contacts.containsKey(name)) {
      print('\n=== $nameの連絡先 ===');
      contacts[name]!.forEach((type, info) {
        print('$type: $info');
      });
    } else {
      print('\n$nameは連絡先に登録されていません');
    }
  }
  
  // 検索実行
  searchContact('鈴木花子');
  searchContact('山田太郎');
  
  // 新しい連絡先を追加
  contacts['山田花子'] = {
    '電話': '090-3333-4444',
    'メール': 'yamada@example.com'
  };
  
  print('\n新しい連絡先を追加しました');
  searchContact('山田花子');
}
</code></pre>
<h2 id="まとめ-27"><a class="header" href="#まとめ-27">まとめ</a></h2>
<p>マップは以下のような場面で特に便利です：</p>
<ol>
<li><strong>データの関連付け</strong>：名前と情報、IDと詳細データなど</li>
<li><strong>カウント処理</strong>：出現回数、投票数、在庫数など</li>
<li><strong>設定管理</strong>：キーと値のペアで設定を保存</li>
<li><strong>高速検索</strong>：キーを使った素早いデータアクセス</li>
<li><strong>グループ化</strong>：カテゴリーごとにデータを整理</li>
</ol>
<p>これらの例を参考に、自分のプログラムでもマップを活用してみましょう。</p>
<h3 id="練習問題-19"><a class="header" href="#練習問題-19">練習問題</a></h3>
<ol>
<li>都道府県名をキー、県庁所在地を値とするマップを作成し、5つ以上のデータを登録してください。</li>
<li>商品の売上個数を記録し、売上ランキングを表示するプログラムを作成してください。</li>
<li>ユーザーのログイン回数を記録し、最もアクティブなユーザーを見つけるプログラムを作成してください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="実践簡単な辞書プログラム"><a class="header" href="#実践簡単な辞書プログラム">実践：簡単な辞書プログラム</a></h1>
<p>これまで学んだマップの知識を活用して、英和辞書プログラムを作ってみましょう。このプログラムでは、英単語を入力すると日本語の意味を表示し、新しい単語を追加したり、既存の単語を編集したりできます。</p>
<h2 id="プログラムの設計"><a class="header" href="#プログラムの設計">プログラムの設計</a></h2>
<p>作成する辞書プログラムの機能：</p>
<ol>
<li>単語の検索</li>
<li>新しい単語の追加</li>
<li>既存の単語の編集</li>
<li>単語の削除</li>
<li>すべての単語の一覧表示</li>
</ol>
<h2 id="基本的な辞書プログラム"><a class="header" href="#基本的な辞書プログラム">基本的な辞書プログラム</a></h2>
<pre><code class="language-javascript">void main() {
  // 英和辞書のデータ
  Map&lt;String, String&gt; dictionary = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬',
    'eat': '食べる',
    'friend': '友達',
    'good': '良い',
    'hello': 'こんにちは',
    'ice': '氷',
    'jump': 'ジャンプする'
  };
  
  print('=== 簡単な英和辞書 ===');
  print('使い方: 英単語を入力すると日本語の意味を表示します\n');
  
  // 単語を検索する関数
  void searchWord(String word) {
    String lowerWord = word.toLowerCase(); // 小文字に変換
    
    if (dictionary.containsKey(lowerWord)) {
      print('「$word」の意味: ${dictionary[lowerWord]}');
    } else {
      print('「$word」は辞書に登録されていません');
    }
  }
  
  // 検索の実行例
  searchWord('apple');
  searchWord('book');
  searchWord('computer'); // 登録されていない単語
}
</code></pre>
<h2 id="機能を追加した辞書プログラム"><a class="header" href="#機能を追加した辞書プログラム">機能を追加した辞書プログラム</a></h2>
<pre><code class="language-javascript">void main() {
  // 英和辞書のデータ
  Map&lt;String, String&gt; dictionary = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬',
    'eat': '食べる'
  };
  
  // 1. 単語を検索する関数
  void searchWord(String word) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      print('\n✓ 「$word」の意味: ${dictionary[lowerWord]}');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
      print('  ヒント: 新しい単語として追加することができます');
    }
  }
  
  // 2. 新しい単語を追加する関数
  void addWord(String word, String meaning) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      print('\n⚠️ 「$word」は既に登録されています');
      print('  現在の意味: ${dictionary[lowerWord]}');
    } else {
      dictionary[lowerWord] = meaning;
      print('\n✓ 新しい単語を追加しました');
      print('  $word: $meaning');
    }
  }
  
  // 3. 単語を編集する関数
  void editWord(String word, String newMeaning) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      String oldMeaning = dictionary[lowerWord]!;
      dictionary[lowerWord] = newMeaning;
      print('\n✓ 単語の意味を更新しました');
      print('  $word: $oldMeaning → $newMeaning');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
    }
  }
  
  // 4. 単語を削除する関数
  void deleteWord(String word) {
    String lowerWord = word.toLowerCase();
    
    if (dictionary.containsKey(lowerWord)) {
      String meaning = dictionary[lowerWord]!;
      dictionary.remove(lowerWord);
      print('\n✓ 単語を削除しました');
      print('  削除した単語: $word ($meaning)');
    } else {
      print('\n✗ 「$word」は辞書に登録されていません');
    }
  }
  
  // 5. すべての単語を表示する関数
  void showAllWords() {
    print('\n=== 辞書に登録されている単語一覧 ===');
    print('登録数: ${dictionary.length}個\n');
    
    // アルファベット順に表示
    List&lt;String&gt; sortedKeys = dictionary.keys.toList()..sort();
    
    for (String word in sortedKeys) {
      print('$word: ${dictionary[word]}');
    }
  }
  
  // プログラムの実行例
  print('=== 英和辞書プログラム ===\n');
  
  // 単語を検索
  searchWord('apple');
  searchWord('computer');
  
  // 新しい単語を追加
  addWord('computer', 'コンピューター');
  addWord('apple', 'りんご'); // 既に存在
  
  // 単語を編集
  editWord('cat', 'ネコ');
  
  // 単語を削除
  deleteWord('dog');
  
  // すべての単語を表示
  showAllWords();
}
</code></pre>
<h2 id="インタラクティブな辞書プログラム"><a class="header" href="#インタラクティブな辞書プログラム">インタラクティブな辞書プログラム</a></h2>
<pre><code class="language-javascript">void main() {
  // 辞書データ
  Map&lt;String, String&gt; dictionary = {
    'apple': 'りんご',
    'book': '本',
    'cat': '猫',
    'dog': '犬',
    'eat': '食べる',
    'friend': '友達',
    'good': '良い',
    'hello': 'こんにちは'
  };
  
  // 統計情報を表示する関数
  void showStatistics() {
    print('\n=== 辞書の統計情報 ===');
    print('登録単語数: ${dictionary.length}個');
    
    // 最も短い単語と最も長い単語を見つける
    String shortest = '';
    String longest = '';
    
    dictionary.keys.forEach((word) {
      if (shortest.isEmpty || word.length &lt; shortest.length) {
        shortest = word;
      }
      if (word.length &gt; longest.length) {
        longest = word;
      }
    });
    
    print('最も短い単語: $shortest (${shortest.length}文字)');
    print('最も長い単語: $longest (${longest.length}文字)');
  }
  
  // 部分一致検索する関数
  void searchPartial(String keyword) {
    print('\n=== 「$keyword」を含む単語 ===');
    
    List&lt;String&gt; matches = [];
    dictionary.keys.forEach((word) {
      if (word.contains(keyword.toLowerCase())) {
        matches.add(word);
      }
    });
    
    if (matches.isEmpty) {
      print('見つかりませんでした');
    } else {
      matches.forEach((word) {
        print('$word: ${dictionary[word]}');
      });
      print('\n${matches.length}個の単語が見つかりました');
    }
  }
  
  // クイズ機能
  void quiz() {
    print('\n=== 英単語クイズ ===');
    print('日本語の意味から英単語を当ててください\n');
    
    // ランダムに単語を選ぶ（簡易版）
    List&lt;String&gt; words = dictionary.keys.toList();
    
    // 3問出題
    for (int i = 0; i &lt; 3; i++) {
      String word = words[i * 2]; // 簡易的な選択
      String meaning = dictionary[word]!;
      
      print('問題${i + 1}: 「$meaning」の英単語は？');
      print('（ヒント: ${word.length}文字）');
      
      // 実際のプログラムでは、ここでユーザー入力を受け取る
      print('答え: $word\n');
    }
  }
  
  // メイン処理
  print('=== 多機能英和辞書プログラム ===\n');
  
  // 統計情報を表示
  showStatistics();
  
  // 部分一致検索
  searchPartial('oo');
  
  // クイズ
  quiz();
}
</code></pre>
<h2 id="発展課題カテゴリー付き辞書"><a class="header" href="#発展課題カテゴリー付き辞書">発展課題：カテゴリー付き辞書</a></h2>
<pre><code class="language-javascript">void main() {
  // カテゴリー別の辞書
  Map&lt;String, Map&lt;String, String&gt;&gt; categorizedDictionary = {
    '動物': {
      'cat': '猫',
      'dog': '犬',
      'bird': '鳥',
      'fish': '魚'
    },
    '食べ物': {
      'apple': 'りんご',
      'bread': 'パン',
      'milk': '牛乳',
      'rice': 'ご飯'
    },
    '動作': {
      'eat': '食べる',
      'drink': '飲む',
      'run': '走る',
      'sleep': '寝る'
    }
  };
  
  // カテゴリー一覧を表示
  void showCategories() {
    print('=== カテゴリー一覧 ===');
    categorizedDictionary.forEach((category, words) {
      print('$category: ${words.length}個の単語');
    });
  }
  
  // カテゴリー内の単語を表示
  void showWordsInCategory(String category) {
    if (categorizedDictionary.containsKey(category)) {
      print('\n=== $categoryの単語 ===');
      categorizedDictionary[category]!.forEach((word, meaning) {
        print('$word: $meaning');
      });
    } else {
      print('\n「$category」というカテゴリーはありません');
    }
  }
  
  // 単語を検索（全カテゴリー）
  void searchWordInAllCategories(String word) {
    String lowerWord = word.toLowerCase();
    bool found = false;
    
    print('\n「$word」を検索中...');
    
    categorizedDictionary.forEach((category, words) {
      if (words.containsKey(lowerWord)) {
        print('✓ カテゴリー「$category」で見つかりました');
        print('  意味: ${words[lowerWord]}');
        found = true;
      }
    });
    
    if (!found) {
      print('✗ どのカテゴリーにも見つかりませんでした');
    }
  }
  
  // 実行例
  showCategories();
  showWordsInCategory('動物');
  searchWordInAllCategories('apple');
  searchWordInAllCategories('jump');
}
</code></pre>
<h2 id="まとめ-28"><a class="header" href="#まとめ-28">まとめ</a></h2>
<p>この実践プログラムで学んだこと：</p>
<ol>
<li><strong>マップを使ったデータ管理</strong>：単語と意味のペアを効率的に管理</li>
<li><strong>関数の活用</strong>：機能ごとに関数を分けて整理</li>
<li><strong>エラー処理</strong>：存在しない単語の場合の処理</li>
<li><strong>ユーザーフレンドリーな出力</strong>：分かりやすいメッセージ表示</li>
<li><strong>データの拡張</strong>：カテゴリー機能など、より複雑な構造への発展</li>
</ol>
<h3 id="練習問題-20"><a class="header" href="#練習問題-20">練習問題</a></h3>
<ol>
<li>辞書プログラムに「単語の頭文字で検索する機能」を追加してください。</li>
<li>英和辞書を和英辞書に変換する関数を作成してください（キーと値を入れ替える）。</li>
<li>辞書データをファイルに保存し、次回起動時に読み込む機能を考えてみてください（擬似コード）。</li>
</ol>
<h3 id="チャレンジ問題-2"><a class="header" href="#チャレンジ問題-2">チャレンジ問題</a></h3>
<p>以下の機能を持つ「学習記録付き単語帳」を作成してください：</p>
<ul>
<li>単語ごとに「学習回数」を記録</li>
<li>「苦手な単語」（間違えた回数が多い）を表示</li>
<li>学習履歴から「今日の復習単語」を提案</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第9章関数の基礎"><a class="header" href="#第9章関数の基礎">第9章：関数の基礎</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="関数とは何か"><a class="header" href="#関数とは何か">関数とは何か</a></h1>
<p>これまでの章では、変数、条件分岐、繰り返し処理、リスト、マップなど、プログラミングの基本的な要素を学んできました。今回は、プログラムを整理し、効率的にするための重要な概念「関数」について学びます。</p>
<h2 id="プログラムが長くなると"><a class="header" href="#プログラムが長くなると">プログラムが長くなると...</a></h2>
<p>これまでに書いたプログラムを思い出してみましょう。プログラムが複雑になるにつれて、次のような問題が出てきます：</p>
<pre><code class="language-javascript">void main() {
  // 成績の平均を計算する（1回目）
  List&lt;int&gt; mathScores = [85, 92, 78, 90, 88];
  int mathTotal = 0;
  for (int score in mathScores) {
    mathTotal += score;
  }
  double mathAverage = mathTotal / mathScores.length;
  print('数学の平均点: ${mathAverage.toStringAsFixed(1)}');
  
  // 成績の平均を計算する（2回目）
  List&lt;int&gt; englishScores = [78, 85, 92, 88, 80];
  int englishTotal = 0;
  for (int score in englishScores) {
    englishTotal += score;
  }
  double englishAverage = englishTotal / englishScores.length;
  print('英語の平均点: ${englishAverage.toStringAsFixed(1)}');
  
  // 同じような処理がまだ続く...
}
</code></pre>
<p>このコードには問題があります：</p>
<ul>
<li>同じような処理を何度も書いている</li>
<li>コードが長くなって読みにくい</li>
<li>修正が必要な時、すべての箇所を変更しなければならない</li>
</ul>
<h2 id="関数とは"><a class="header" href="#関数とは">関数とは</a></h2>
<p>関数は、<strong>特定の処理をまとめて名前を付けたもの</strong>です。一度定義した関数は、何度でも呼び出して使うことができます。</p>
<p>関数のイメージ：</p>
<pre><code>関数 = 処理のかたまりに名前を付けたもの

┌─────────────────┐
│   関数の名前     │
├─────────────────┤
│                 │
│  処理の内容     │
│                 │
└─────────────────┘
</code></pre>
<h2 id="日常生活での関数の例"><a class="header" href="#日常生活での関数の例">日常生活での関数の例</a></h2>
<p>関数は、私たちの日常生活でもよく見かける概念です：</p>
<h3 id="1-レシピ"><a class="header" href="#1-レシピ">1. レシピ</a></h3>
<ul>
<li><strong>関数名</strong>：「カレーを作る」</li>
<li><strong>処理内容</strong>：
<ol>
<li>野菜を切る</li>
<li>肉を炒める</li>
<li>水を加えて煮込む</li>
<li>ルーを入れる</li>
</ol>
</li>
</ul>
<h3 id="2-自動販売機"><a class="header" href="#2-自動販売機">2. 自動販売機</a></h3>
<ul>
<li><strong>関数名</strong>：「飲み物を買う」</li>
<li><strong>入力</strong>：お金、ボタン番号</li>
<li><strong>処理</strong>：商品を選んで提供</li>
<li><strong>出力</strong>：飲み物、おつり</li>
</ul>
<h3 id="3-電卓"><a class="header" href="#3-電卓">3. 電卓</a></h3>
<ul>
<li><strong>関数名</strong>：「足し算をする」</li>
<li><strong>入力</strong>：2つの数字</li>
<li><strong>処理</strong>：数字を足す</li>
<li><strong>出力</strong>：計算結果</li>
</ul>
<h2 id="関数を使うメリット"><a class="header" href="#関数を使うメリット">関数を使うメリット</a></h2>
<h3 id="1-コードの再利用"><a class="header" href="#1-コードの再利用">1. コードの再利用</a></h3>
<p>同じ処理を何度も書く必要がなくなります：</p>
<pre><code class="language-javascript">// 関数を使わない場合：同じ処理を3回書く
void main() {
  // 1回目
  print('こんにちは！');
  print('今日もプログラミングを楽しみましょう！');
  print('---');
  
  // 2回目
  print('こんにちは！');
  print('今日もプログラミングを楽しみましょう！');
  print('---');
  
  // 3回目
  print('こんにちは！');
  print('今日もプログラミングを楽しみましょう！');
  print('---');
}
</code></pre>
<h3 id="2-プログラムの整理"><a class="header" href="#2-プログラムの整理">2. プログラムの整理</a></h3>
<p>処理に名前を付けることで、プログラムが読みやすくなります：</p>
<pre><code class="language-javascript">// 関数を使った場合：処理の意味が分かりやすい
void main() {
  挨拶を表示();  // 何をしているか一目で分かる
  計算を実行();
  結果を表示();
}
</code></pre>
<h3 id="3-保守性の向上"><a class="header" href="#3-保守性の向上">3. 保守性の向上</a></h3>
<p>修正が必要な時、関数の中身を変更するだけで済みます：</p>
<pre><code class="language-javascript">// 挨拶の内容を変更したい場合、関数の定義を変えるだけ
void 挨拶を表示() {
  print('おはようございます！');  // ここを変更するだけ
  print('今日も一日頑張りましょう！');
}
</code></pre>
<h3 id="4-エラーの削減"><a class="header" href="#4-エラーの削減">4. エラーの削減</a></h3>
<p>同じ処理を何度も書くと、タイプミスなどのエラーが起きやすくなります。関数を使えば、一箇所で定義した正しい処理を何度でも使えます。</p>
<h2 id="関数の基本的な構造"><a class="header" href="#関数の基本的な構造">関数の基本的な構造</a></h2>
<p>関数は以下の要素で構成されます：</p>
<ol>
<li><strong>関数名</strong>：関数を識別するための名前</li>
<li><strong>引数（パラメータ）</strong>：関数に渡す値（省略可能）</li>
<li><strong>処理内容</strong>：関数が実行する具体的な処理</li>
<li><strong>戻り値</strong>：関数が返す結果（省略可能）</li>
</ol>
<p>簡単な例：</p>
<pre><code class="language-javascript">// 関数の定義
void showGreeting() {
  print('こんにちは！');
}

// 関数の呼び出し
void main() {
  showGreeting();  // 「こんにちは！」と表示される
}
</code></pre>
<h2 id="dartの組み込み関数"><a class="header" href="#dartの組み込み関数">Dartの組み込み関数</a></h2>
<p>実は、これまでも関数を使ってきました：</p>
<ul>
<li><code>print()</code>：画面に文字を表示する関数</li>
<li><code>toStringAsFixed()</code>：数値を文字列に変換する関数</li>
<li><code>contains()</code>：リストに要素が含まれているか確認する関数</li>
</ul>
<p>これらは、Dartがあらかじめ用意している関数です。私たちも同じように、自分で関数を作ることができます。</p>
<h2 id="まとめ-29"><a class="header" href="#まとめ-29">まとめ</a></h2>
<p>関数は、プログラムを整理し、効率的にするための重要な仕組みです：</p>
<ul>
<li><strong>処理をまとめる</strong>：関連する処理を一つにまとめる</li>
<li><strong>名前を付ける</strong>：処理に分かりやすい名前を付ける</li>
<li><strong>再利用する</strong>：一度定義した処理を何度でも使える</li>
<li><strong>保守しやすくする</strong>：修正や改良が簡単になる</li>
</ul>
<p>次のセクションでは、実際に関数を定義し、使ってみましょう。</p>
<h3 id="練習問題-21"><a class="header" href="#練習問題-21">練習問題</a></h3>
<ol>
<li>日常生活で「関数」のように働いているものを3つ挙げてください。</li>
<li>プログラムで同じ処理を繰り返し書くことの問題点を説明してください。</li>
<li>関数を使うメリットを自分の言葉で説明してください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="関数の定義と呼び出し"><a class="header" href="#関数の定義と呼び出し">関数の定義と呼び出し</a></h1>
<p>前のセクションで関数の概念を学びました。ここでは、実際に関数を定義し、呼び出す方法を詳しく見ていきましょう。</p>
<h2 id="基本的な関数の定義"><a class="header" href="#基本的な関数の定義">基本的な関数の定義</a></h2>
<p>関数を定義する基本的な形は次のとおりです：</p>
<pre><code class="language-javascript">void 関数名() {
  // 処理内容
}
</code></pre>
<p>実際の例：</p>
<pre><code class="language-javascript">// 関数の定義
void showGreeting() {
  print('こんにちは！');
  print('プログラミングを楽しみましょう！');
}

// メイン関数
void main() {
  // 関数の呼び出し
  showGreeting();
}
</code></pre>
<p>出力結果：</p>
<pre><code>こんにちは！
プログラミングを楽しみましょう！
</code></pre>
<h2 id="関数定義の要素"><a class="header" href="#関数定義の要素">関数定義の要素</a></h2>
<h3 id="1-void-キーワード"><a class="header" href="#1-void-キーワード">1. void キーワード</a></h3>
<p><code>void</code> は「戻り値なし」を意味します。この関数は何も値を返さず、処理を実行するだけです。</p>
<h3 id="2-関数名"><a class="header" href="#2-関数名">2. 関数名</a></h3>
<ul>
<li>関数の名前は、その関数が何をするか分かりやすくつける</li>
<li>小文字で始める（キャメルケース）</li>
<li>動詞で始めることが多い（show、calculate、checkなど）</li>
</ul>
<h3 id="3-括弧-"><a class="header" href="#3-括弧-">3. 括弧 ()</a></h3>
<p>引数（パラメータ）を受け取る場所です。今は空っぽです。</p>
<h3 id="4-波括弧"><a class="header" href="#4-波括弧">4. 波括弧</a></h3>
<p>関数の処理内容を囲みます。</p>
<h2 id="関数の呼び出し"><a class="header" href="#関数の呼び出し">関数の呼び出し</a></h2>
<p>関数を定義しただけでは実行されません。呼び出す必要があります：</p>
<pre><code class="language-javascript">void printLine() {
  print('-------------------');
}

void main() {
  print('開始');
  printLine();  // 関数を呼び出す
  print('プログラミング入門');
  printLine();  // 同じ関数を再度呼び出す
  print('終了');
}
</code></pre>
<p>出力結果：</p>
<pre><code>開始
-------------------
プログラミング入門
-------------------
終了
</code></pre>
<h2 id="複数の関数を定義する"><a class="header" href="#複数の関数を定義する">複数の関数を定義する</a></h2>
<p>プログラムには複数の関数を定義できます：</p>
<pre><code class="language-javascript">// 朝の挨拶を表示する関数
void sayGoodMorning() {
  print('おはようございます！');
  print('今日も一日頑張りましょう！');
}

// 夜の挨拶を表示する関数
void sayGoodNight() {
  print('おやすみなさい！');
  print('良い夢を！');
}

// タイトルを表示する関数
void showTitle() {
  print('===== 挨拶プログラム =====');
}

void main() {
  showTitle();
  
  print('\n朝の挨拶：');
  sayGoodMorning();
  
  print('\n夜の挨拶：');
  sayGoodNight();
}
</code></pre>
<h2 id="関数の中から別の関数を呼び出す"><a class="header" href="#関数の中から別の関数を呼び出す">関数の中から別の関数を呼び出す</a></h2>
<p>関数の中から他の関数を呼び出すこともできます：</p>
<pre><code class="language-javascript">void printStar() {
  print('★');
}

void printDecoration() {
  printStar();
  print('Welcome!');
  printStar();
}

void showMenu() {
  printDecoration();  // 別の関数を呼び出す
  print('1. 開始');
  print('2. 設定');
  print('3. 終了');
}

void main() {
  showMenu();
}
</code></pre>
<h2 id="実践例成績表示プログラム"><a class="header" href="#実践例成績表示プログラム">実践例：成績表示プログラム</a></h2>
<p>関数を使って、成績表示プログラムを整理してみましょう：</p>
<pre><code class="language-javascript">// ヘッダーを表示する関数
void printHeader() {
  print('=' * 30);
  print('     成績表');
  print('=' * 30);
}

// 科目と点数を表示する関数
void printSubject(String subject, int score) {
  print('$subject: $score点');
}

// 区切り線を表示する関数
void printDivider() {
  print('-' * 30);
}

// 評価を表示する関数
void printEvaluation(double average) {
  print('平均点: ${average.toStringAsFixed(1)}点');
  
  if (average &gt;= 80) {
    print('評価: 優秀です！');
  } else if (average &gt;= 60) {
    print('評価: 良好です！');
  } else {
    print('評価: もう少し頑張りましょう！');
  }
}

void main() {
  // 成績データ
  int math = 85;
  int english = 78;
  int science = 92;
  
  // ヘッダー表示
  printHeader();
  
  // 各科目の点数表示
  printSubject('数学', math);
  printSubject('英語', english);
  printSubject('理科', science);
  
  // 区切り線
  printDivider();
  
  // 平均点と評価
  double average = (math + english + science) / 3;
  printEvaluation(average);
}
</code></pre>
<h2 id="関数定義の場所"><a class="header" href="#関数定義の場所">関数定義の場所</a></h2>
<p>Dartでは、関数は以下の場所に定義できます：</p>
<pre><code class="language-javascript">// 1. main関数の前
void greeting() {
  print('Hello!');
}

void main() {
  greeting();
  
  // 2. main関数の中（ローカル関数）
  void localFunction() {
    print('ローカル関数です');
  }
  
  localFunction();
}

// 3. main関数の後
void farewell() {
  print('Goodbye!');
}
</code></pre>
<p>一般的には、main関数の外側（前または後）に定義することが多いです。</p>
<h2 id="よくあるエラーと対処法"><a class="header" href="#よくあるエラーと対処法">よくあるエラーと対処法</a></h2>
<h3 id="1-関数名の重複"><a class="header" href="#1-関数名の重複">1. 関数名の重複</a></h3>
<pre><code class="language-javascript">// エラー：同じ名前の関数を2つ定義
void showMessage() {
  print('メッセージ1');
}

void showMessage() {  // エラー！
  print('メッセージ2');
}
</code></pre>
<h3 id="2-定義前の呼び出しローカル関数の場合"><a class="header" href="#2-定義前の呼び出しローカル関数の場合">2. 定義前の呼び出し（ローカル関数の場合）</a></h3>
<pre><code class="language-javascript">void main() {
  sayHello();  // エラー！まだ定義されていない
  
  void sayHello() {
    print('Hello!');
  }
}
</code></pre>
<h3 id="3-括弧を忘れる"><a class="header" href="#3-括弧を忘れる">3. 括弧を忘れる</a></h3>
<pre><code class="language-javascript">void main() {
  showMessage;  // エラー！括弧がない
  showMessage();  // 正しい
}
</code></pre>
<h2 id="まとめ-30"><a class="header" href="#まとめ-30">まとめ</a></h2>
<p>関数の定義と呼び出しの基本を学びました：</p>
<ul>
<li><code>void 関数名() { }</code> で関数を定義</li>
<li><code>関数名()</code> で関数を呼び出す</li>
<li>関数は何度でも呼び出せる</li>
<li>関数の中から別の関数を呼び出せる</li>
<li>適切な名前を付けることで、コードが読みやすくなる</li>
</ul>
<p>次のセクションでは、関数に値を渡したり、結果を返したりする方法を学びます。</p>
<h3 id="練習問題-22"><a class="header" href="#練習問題-22">練習問題</a></h3>
<ol>
<li>自己紹介を表示する関数 <code>introduceMyself()</code> を作成し、3回呼び出してください。</li>
<li>以下の3つの関数を作成してください：
<ul>
<li><code>printTitle()</code>：タイトルを表示</li>
<li><code>printContent()</code>：内容を表示</li>
<li><code>printFooter()</code>：フッターを表示</li>
</ul>
</li>
<li>九九の2の段を表示する関数 <code>printTwosTable()</code> を作成してください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="引数と戻り値"><a class="header" href="#引数と戻り値">引数と戻り値</a></h1>
<p>これまでの関数は、決まった処理を実行するだけでした。しかし、関数をより柔軟に使うために、値を受け取ったり（引数）、結果を返したり（戻り値）できます。</p>
<h2 id="引数パラメータとは"><a class="header" href="#引数パラメータとは">引数（パラメータ）とは</a></h2>
<p>引数は、関数に渡す値のことです。関数は引数を受け取って、その値を使って処理を行います。</p>
<h3 id="引数を持つ関数の定義"><a class="header" href="#引数を持つ関数の定義">引数を持つ関数の定義</a></h3>
<pre><code class="language-javascript">void greet(String name) {
  print('こんにちは、$nameさん！');
}

void main() {
  greet('太郎');  // 引数として '太郎' を渡す
  greet('花子');  // 引数として '花子' を渡す
}
</code></pre>
<p>出力結果：</p>
<pre><code>こんにちは、太郎さん！
こんにちは、花子さん！
</code></pre>
<h3 id="複数の引数"><a class="header" href="#複数の引数">複数の引数</a></h3>
<p>関数は複数の引数を受け取ることができます：</p>
<pre><code class="language-javascript">void introduce(String name, int age) {
  print('私の名前は$nameです。');
  print('年齢は$age歳です。');
}

void main() {
  introduce('山田太郎', 20);
  print('---');
  introduce('鈴木花子', 18);
}
</code></pre>
<h3 id="異なる型の引数"><a class="header" href="#異なる型の引数">異なる型の引数</a></h3>
<p>引数には様々な型を使えます：</p>
<pre><code class="language-javascript">void printScore(String subject, int score, bool isPassed) {
  print('科目: $subject');
  print('点数: $score点');
  if (isPassed) {
    print('結果: 合格');
  } else {
    print('結果: 不合格');
  }
  print('');
}

void main() {
  printScore('数学', 85, true);
  printScore('英語', 55, false);
}
</code></pre>
<h2 id="戻り値とは"><a class="header" href="#戻り値とは">戻り値とは</a></h2>
<p>戻り値は、関数が処理の結果として返す値のことです。</p>
<h3 id="戻り値を持つ関数の定義"><a class="header" href="#戻り値を持つ関数の定義">戻り値を持つ関数の定義</a></h3>
<pre><code class="language-javascript">int add(int a, int b) {
  return a + b;  // 結果を返す
}

void main() {
  int result = add(5, 3);  // 戻り値を変数に保存
  print('5 + 3 = $result');
}
</code></pre>
<h3 id="戻り値の型"><a class="header" href="#戻り値の型">戻り値の型</a></h3>
<p>関数定義の最初に書く型が戻り値の型です：</p>
<pre><code class="language-javascript">// int型を返す関数
int multiply(int x, int y) {
  return x * y;
}

// double型を返す関数
double calculateAverage(int a, int b, int c) {
  return (a + b + c) / 3.0;
}

// String型を返す関数
String getGrade(int score) {
  if (score &gt;= 80) {
    return 'A';
  } else if (score &gt;= 60) {
    return 'B';
  } else {
    return 'C';
  }
}

void main() {
  int product = multiply(4, 5);
  print('4 × 5 = $product');
  
  double avg = calculateAverage(80, 90, 85);
  print('平均: ${avg.toStringAsFixed(1)}');
  
  String grade = getGrade(75);
  print('成績: $grade');
}
</code></pre>
<h2 id="実践的な例-1"><a class="header" href="#実践的な例-1">実践的な例</a></h2>
<h3 id="1-税込み価格を計算する関数"><a class="header" href="#1-税込み価格を計算する関数">1. 税込み価格を計算する関数</a></h3>
<pre><code class="language-javascript">double calculateTaxIncluded(int price, double taxRate) {
  double tax = price * taxRate;
  return price + tax;
}

void main() {
  int itemPrice = 1000;
  double taxRate = 0.10;  // 10%
  
  double totalPrice = calculateTaxIncluded(itemPrice, taxRate);
  print('商品価格: $itemPrice円');
  print('税率: ${(taxRate * 100).toInt()}%');
  print('税込価格: ${totalPrice.toInt()}円');
}
</code></pre>
<h3 id="2-最大値を見つける関数"><a class="header" href="#2-最大値を見つける関数">2. 最大値を見つける関数</a></h3>
<pre><code class="language-javascript">int findMax(int a, int b, int c) {
  int max = a;
  
  if (b &gt; max) {
    max = b;
  }
  if (c &gt; max) {
    max = c;
  }
  
  return max;
}

void main() {
  int x = 45;
  int y = 78;
  int z = 62;
  
  int maximum = findMax(x, y, z);
  print('$x, $y, $z の中で最大値は $maximum です');
}
</code></pre>
<h3 id="3-bool型を返す関数"><a class="header" href="#3-bool型を返す関数">3. bool型を返す関数</a></h3>
<pre><code class="language-javascript">bool isAdult(int age) {
  return age &gt;= 20;
}

bool canEnter(int age, bool hasTicket) {
  return isAdult(age) &amp;&amp; hasTicket;
}

void main() {
  int personAge = 22;
  bool ticket = true;
  
  if (isAdult(personAge)) {
    print('成人です');
  } else {
    print('未成年です');
  }
  
  if (canEnter(personAge, ticket)) {
    print('入場できます');
  } else {
    print('入場できません');
  }
}
</code></pre>
<h2 id="引数と戻り値の組み合わせ"><a class="header" href="#引数と戻り値の組み合わせ">引数と戻り値の組み合わせ</a></h2>
<p>実用的なプログラムでは、引数と戻り値を組み合わせて使います：</p>
<pre><code class="language-javascript">// BMIを計算する関数
double calculateBMI(double weight, double height) {
  return weight / (height * height);
}

// BMIから肥満度を判定する関数
String getBMICategory(double bmi) {
  if (bmi &lt; 18.5) {
    return '低体重';
  } else if (bmi &lt; 25) {
    return '普通体重';
  } else if (bmi &lt; 30) {
    return '肥満（1度）';
  } else {
    return '肥満（2度以上）';
  }
}

// 結果を表示する関数
void printBMIResult(double weight, double height) {
  double bmi = calculateBMI(weight, height);
  String category = getBMICategory(bmi);
  
  print('体重: ${weight}kg');
  print('身長: ${height}m');
  print('BMI: ${bmi.toStringAsFixed(1)}');
  print('判定: $category');
}

void main() {
  double myWeight = 65.0;  // kg
  double myHeight = 1.70;  // m
  
  printBMIResult(myWeight, myHeight);
}
</code></pre>
<h2 id="関数の戻り値を直接使う"><a class="header" href="#関数の戻り値を直接使う">関数の戻り値を直接使う</a></h2>
<p>戻り値は変数に保存せずに、直接使うこともできます：</p>
<pre><code class="language-javascript">int square(int n) {
  return n * n;
}

void main() {
  // 変数に保存する方法
  int result = square(5);
  print(result);
  
  // 直接使う方法
  print(square(5));
  
  // 計算式の中で使う
  int sum = square(3) + square(4);  // 3² + 4² = 9 + 16
  print('3² + 4² = $sum');
}
</code></pre>
<h2 id="よくあるエラーと注意点"><a class="header" href="#よくあるエラーと注意点">よくあるエラーと注意点</a></h2>
<h3 id="1-戻り値の型が一致しない"><a class="header" href="#1-戻り値の型が一致しない">1. 戻り値の型が一致しない</a></h3>
<pre><code class="language-javascript">// エラー：int型を返すと宣言したのにString型を返している
int getValue() {
  return "Hello";  // エラー！
}
</code></pre>
<h3 id="2-returnを忘れる"><a class="header" href="#2-returnを忘れる">2. returnを忘れる</a></h3>
<pre><code class="language-javascript">// エラー：戻り値があるのにreturnがない
int calculate(int x) {
  int result = x * 2;
  // return result; を忘れている！
}
</code></pre>
<h3 id="3-引数の数が一致しない"><a class="header" href="#3-引数の数が一致しない">3. 引数の数が一致しない</a></h3>
<pre><code class="language-javascript">void showInfo(String name, int age) {
  print('$name: $age歳');
}

void main() {
  showInfo('太郎');  // エラー！引数が足りない
  showInfo('太郎', 20, 'A型');  // エラー！引数が多い
}
</code></pre>
<h2 id="まとめ-31"><a class="header" href="#まとめ-31">まとめ</a></h2>
<p>引数と戻り値により、関数はより柔軟で再利用可能になります：</p>
<ul>
<li><strong>引数</strong>：関数に値を渡す仕組み</li>
<li><strong>戻り値</strong>：関数から結果を返す仕組み</li>
<li>引数は複数指定できる</li>
<li>戻り値は1つだけ（ただし、その型は自由）</li>
<li><code>return</code>文で値を返す</li>
</ul>
<p>次のセクションでは、変数のスコープ（有効範囲）について学びます。</p>
<h3 id="練習問題-23"><a class="header" href="#練習問題-23">練習問題</a></h3>
<ol>
<li>2つの数値を受け取り、大きい方を返す関数 <code>getMax(int a, int b)</code> を作成してください。</li>
<li>円の半径を受け取り、面積を返す関数 <code>calculateCircleArea(double radius)</code> を作成してください（π = 3.14159）。</li>
<li>点数を受け取り、合格（60点以上）かどうかを判定する関数 <code>isPassed(int score)</code> を作成してください。</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="変数のスコープ有効範囲"><a class="header" href="#変数のスコープ有効範囲">変数のスコープ（有効範囲）</a></h1>
<p>関数を使い始めると、変数がどこで使えるか、どこで使えないかが重要になってきます。この「変数が使える範囲」のことをスコープ（有効範囲）と呼びます。</p>
<h2 id="スコープとは"><a class="header" href="#スコープとは">スコープとは</a></h2>
<p>スコープは、変数が参照できる範囲のことです。変数は定義された場所によって、使える範囲が決まります。</p>
<h3 id="基本的な例-3"><a class="header" href="#基本的な例-3">基本的な例</a></h3>
<pre><code class="language-javascript">void main() {
  int x = 10;  // main関数内で定義
  print(x);    // OK: xはここで使える
}

void anotherFunction() {
  // print(x);  // エラー！xはここでは使えない
}
</code></pre>
<h2 id="ローカル変数とグローバル変数"><a class="header" href="#ローカル変数とグローバル変数">ローカル変数とグローバル変数</a></h2>
<h3 id="ローカル変数"><a class="header" href="#ローカル変数">ローカル変数</a></h3>
<p>関数の中で定義された変数を「ローカル変数」と呼びます。その関数の中でのみ使えます。</p>
<pre><code class="language-javascript">void calculateSum() {
  int a = 5;      // ローカル変数
  int b = 3;      // ローカル変数
  int sum = a + b;  // ローカル変数
  print('合計: $sum');
}

void main() {
  calculateSum();
  // print(sum);  // エラー！sumはcalculateSum関数のローカル変数
}
</code></pre>
<h3 id="トップレベル変数グローバル変数"><a class="header" href="#トップレベル変数グローバル変数">トップレベル変数（グローバル変数）</a></h3>
<p>関数の外で定義された変数は、プログラム全体で使えます。</p>
<pre><code class="language-javascript">// トップレベル変数（グローバル変数）
String appName = 'My Calculator';
int counter = 0;

void showAppInfo() {
  print('アプリ名: $appName');  // OK: グローバル変数は使える
  print('カウンター: $counter');
}

void incrementCounter() {
  counter++;  // グローバル変数を変更
}

void main() {
  showAppInfo();
  incrementCounter();
  incrementCounter();
  print('最終カウンター: $counter');  // 2
}
</code></pre>
<h2 id="ブロックスコープ"><a class="header" href="#ブロックスコープ">ブロックスコープ</a></h2>
<p>波括弧 <code>{}</code> で囲まれた部分（ブロック）にも独自のスコープがあります。</p>
<pre><code class="language-javascript">void main() {
  int x = 10;
  
  if (x &gt; 5) {
    int y = 20;  // if文のブロック内で定義
    print('x = $x');  // OK: xは外側で定義されている
    print('y = $y');  // OK: yはこのブロック内で使える
  }
  
  // print(y);  // エラー！yはif文の外では使えない
  
  for (int i = 0; i &lt; 3; i++) {
    print('i = $i');  // OK: iはfor文のブロック内で使える
  }
  
  // print(i);  // エラー！iはfor文の外では使えない
}
</code></pre>
<h2 id="引数のスコープ"><a class="header" href="#引数のスコープ">引数のスコープ</a></h2>
<p>関数の引数も、その関数内でのみ有効なローカル変数として扱われます。</p>
<pre><code class="language-javascript">void greet(String name) {  // nameは引数
  print('こんにちは、$nameさん！');
  // nameはこの関数内でのみ使える
}

void farewell() {
  // print(name);  // エラー！nameはgreet関数の引数
}

void main() {
  greet('太郎');
  // print(name);  // エラー！nameはここでは使えない
}
</code></pre>
<h2 id="同じ名前の変数シャドーイング"><a class="header" href="#同じ名前の変数シャドーイング">同じ名前の変数（シャドーイング）</a></h2>
<p>異なるスコープでは、同じ名前の変数を定義できます。内側のスコープの変数が外側の変数を「隠す」ことをシャドーイングと呼びます。</p>
<pre><code class="language-javascript">int x = 10;  // グローバル変数

void testShadowing() {
  print('グローバルx: $x');  // 10
  
  int x = 20;  // ローカル変数（グローバル変数を隠す）
  print('ローカルx: $x');    // 20
  
  if (true) {
    int x = 30;  // さらに内側のローカル変数
    print('ブロック内x: $x'); // 30
  }
  
  print('関数内x: $x');  // 20（関数内のローカル変数）
}

void main() {
  testShadowing();
  print('main内でのx: $x');  // 10（グローバル変数）
}
</code></pre>
<h2 id="実践的な例-2"><a class="header" href="#実践的な例-2">実践的な例</a></h2>
<h3 id="1-カウンター機能"><a class="header" href="#1-カウンター機能">1. カウンター機能</a></h3>
<pre><code class="language-javascript">// グローバルカウンター
int globalCount = 0;

void incrementGlobal() {
  globalCount++;
  print('グローバルカウント: $globalCount');
}

void localCounterExample() {
  int localCount = 0;  // ローカルカウンター
  
  for (int i = 0; i &lt; 3; i++) {
    localCount++;
    print('ローカルカウント: $localCount');
  }
  // 関数が終わるとlocalCountは破棄される
}

void main() {
  print('=== グローバルカウンター ===');
  incrementGlobal();  // 1
  incrementGlobal();  // 2
  incrementGlobal();  // 3
  
  print('\n=== ローカルカウンター ===');
  localCounterExample();  // 1, 2, 3
  localCounterExample();  // また1, 2, 3（リセットされる）
}
</code></pre>
<h3 id="2-設定値の管理"><a class="header" href="#2-設定値の管理">2. 設定値の管理</a></h3>
<pre><code class="language-javascript">// アプリケーション設定（グローバル）
String language = '日本語';
bool isDarkMode = false;

void showSettings() {
  print('=== 現在の設定 ===');
  print('言語: $language');
  print('ダークモード: $isDarkMode');
}

void changeLanguage(String newLang) {
  String oldLang = language;  // 古い値を保存（ローカル変数）
  language = newLang;          // グローバル変数を更新
  print('言語を $oldLang から $newLang に変更しました');
}

void toggleDarkMode() {
  isDarkMode = !isDarkMode;
  String mode = isDarkMode ? 'ON' : 'OFF';  // ローカル変数
  print('ダークモード: $mode');
}

void main() {
  showSettings();
  changeLanguage('English');
  toggleDarkMode();
  showSettings();
}
</code></pre>
<h3 id="3-計算機の履歴機能"><a class="header" href="#3-計算機の履歴機能">3. 計算機の履歴機能</a></h3>
<pre><code class="language-javascript">// 計算履歴（グローバル）
List&lt;String&gt; history = [];

double calculate(double a, double b, String operator) {
  double result;  // ローカル変数
  
  switch (operator) {
    case '+':
      result = a + b;
      break;
    case '-':
      result = a - b;
      break;
    case '*':
      result = a * b;
      break;
    case '/':
      result = a / b;
      break;
    default:
      result = 0;
  }
  
  // 履歴に追加（グローバル変数を更新）
  String record = '$a $operator $b = $result';
  history.add(record);
  
  return result;
}

void showHistory() {
  print('\n=== 計算履歴 ===');
  if (history.isEmpty) {
    print('履歴はありません');
  } else {
    for (int i = 0; i &lt; history.length; i++) {
      print('${i + 1}: ${history[i]}');
    }
  }
}

void main() {
  calculate(10, 5, '+');
  calculate(20, 4, '*');
  calculate(100, 25, '-');
  
  showHistory();
}
</code></pre>
<h2 id="スコープのベストプラクティス"><a class="header" href="#スコープのベストプラクティス">スコープのベストプラクティス</a></h2>
<h3 id="1-必要最小限のスコープを使う"><a class="header" href="#1-必要最小限のスコープを使う">1. 必要最小限のスコープを使う</a></h3>
<pre><code class="language-javascript">// 良い例：必要な場所でのみ変数を定義
void processData() {
  // データ処理
  for (int i = 0; i &lt; 10; i++) {
    int squared = i * i;  // ループ内でのみ必要
    print(squared);
  }
}

// 悪い例：不必要に広いスコープ
void processDataBad() {
  int i;
  int squared;  // ループの外で定義する必要はない
  
  for (i = 0; i &lt; 10; i++) {
    squared = i * i;
    print(squared);
  }
}
</code></pre>
<h3 id="2-グローバル変数は慎重に使う"><a class="header" href="#2-グローバル変数は慎重に使う">2. グローバル変数は慎重に使う</a></h3>
<pre><code class="language-javascript">// 定数はグローバルでもOK
const double TAX_RATE = 0.10;
const String APP_VERSION = '1.0.0';

// 状態を持つグローバル変数は最小限に
int userScore = 0;  // 必要な場合のみ

// できるだけ関数の引数と戻り値を使う
int addScore(int currentScore, int points) {
  return currentScore + points;
}
</code></pre>
<h2 id="よくあるエラーと対処法-1"><a class="header" href="#よくあるエラーと対処法-1">よくあるエラーと対処法</a></h2>
<h3 id="1-スコープ外の変数を参照"><a class="header" href="#1-スコープ外の変数を参照">1. スコープ外の変数を参照</a></h3>
<pre><code class="language-javascript">void function1() {
  int localVar = 10;
}

void function2() {
  // print(localVar);  // エラー！localVarは function1 のローカル変数
}
</code></pre>
<h3 id="2-初期化前の使用"><a class="header" href="#2-初期化前の使用">2. 初期化前の使用</a></h3>
<pre><code class="language-javascript">void main() {
  print(x);  // エラー！まだ定義されていない
  int x = 10;
}
</code></pre>
<h2 id="まとめ-32"><a class="header" href="#まとめ-32">まとめ</a></h2>
<p>変数のスコープを理解することで、より安全で管理しやすいプログラムが書けます：</p>
<ul>
<li><strong>ローカル変数</strong>：関数やブロック内でのみ有効</li>
<li><strong>グローバル変数</strong>：プログラム全体で有効</li>
<li><strong>引数</strong>：関数内でのみ有効なローカル変数</li>
<li><strong>ブロックスコープ</strong>：<code>{}</code> 内でのみ有効</li>
<li>必要最小限のスコープを使うことが重要</li>
</ul>
<p>次のセクションでは、これまで学んだ関数の知識を使って、実践的な電卓プログラムを作成します。</p>
<h3 id="練習問題-24"><a class="header" href="#練習問題-24">練習問題</a></h3>
<ol>
<li>
<p>以下のコードで、各 print 文の出力を予想してください：</p>
<pre><code class="language-javascript">int x = 1;
void test() {
  int x = 2;
  if (true) {
    int x = 3;
    print(x);
  }
  print(x);
}
void main() {
  test();
  print(x);
}
</code></pre>
</li>
<li>
<p>グローバル変数を使わずに、関数間でデータを受け渡す方法を考えてください。</p>
</li>
<li>
<p>なぜグローバル変数の使用は最小限にすべきなのか、理由を説明してください。</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="実践電卓プログラムを関数で整理"><a class="header" href="#実践電卓プログラムを関数で整理">実践：電卓プログラムを関数で整理</a></h1>
<p>これまで学んだ関数の知識を使って、実践的な電卓プログラムを作成しましょう。関数を使うことで、コードが整理され、機能の追加や修正が簡単になります。</p>
<h2 id="基本的な電卓関数なし"><a class="header" href="#基本的な電卓関数なし">基本的な電卓（関数なし）</a></h2>
<p>まず、関数を使わない電卓プログラムを見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  // 計算1
  double num1 = 10;
  double num2 = 5;
  double result1 = num1 + num2;
  print('$num1 + $num2 = $result1');
  
  // 計算2
  double num3 = 20;
  double num4 = 4;
  double result2 = num3 - num4;
  print('$num3 - $num4 = $result2');
  
  // 同じようなコードが続く...
}
</code></pre>
<p>このアプローチの問題点：</p>
<ul>
<li>同じようなコードの繰り返し</li>
<li>新しい計算を追加するたびにコードが長くなる</li>
<li>エラーが起きやすい</li>
</ul>
<h2 id="関数を使った基本的な電卓"><a class="header" href="#関数を使った基本的な電卓">関数を使った基本的な電卓</a></h2>
<p>関数を使って整理してみましょう：</p>
<pre><code class="language-javascript">// 足し算を行う関数
double add(double a, double b) {
  return a + b;
}

// 引き算を行う関数
double subtract(double a, double b) {
  return a - b;
}

// 掛け算を行う関数
double multiply(double a, double b) {
  return a * b;
}

// 割り算を行う関数
double divide(double a, double b) {
  if (b == 0) {
    print('エラー: 0で割ることはできません');
    return 0;
  }
  return a / b;
}

void main() {
  double x = 10;
  double y = 5;
  
  print('$x + $y = ${add(x, y)}');
  print('$x - $y = ${subtract(x, y)}');
  print('$x × $y = ${multiply(x, y)}');
  print('$x ÷ $y = ${divide(x, y)}');
}
</code></pre>
<h2 id="機能を追加した電卓"><a class="header" href="#機能を追加した電卓">機能を追加した電卓</a></h2>
<p>さらに機能を追加してみましょう：</p>
<pre><code class="language-javascript">// 基本的な計算関数
double add(double a, double b) =&gt; a + b;
double subtract(double a, double b) =&gt; a - b;
double multiply(double a, double b) =&gt; a * b;
double divide(double a, double b) =&gt; b != 0 ? a / b : 0;

// べき乗を計算する関数
double power(double base, int exponent) {
  double result = 1;
  for (int i = 0; i &lt; exponent; i++) {
    result *= base;
  }
  return result;
}

// 平方根を計算する関数（簡易版）
double squareRoot(double n) {
  if (n &lt; 0) {
    print('エラー: 負の数の平方根は計算できません');
    return 0;
  }
  
  // バビロニア法による近似計算
  double x = n;
  double root;
  int count = 0;
  
  while (true) {
    count++;
    root = 0.5 * (x + (n / x));
    
    if ((x - root).abs() &lt; 0.00001) {
      break;
    }
    x = root;
  }
  
  return root;
}

// パーセント計算
double percentage(double value, double percent) {
  return value * (percent / 100);
}

// 計算結果を表示する関数
void displayResult(String operation, double result) {
  print('$operation = $result');
}

void main() {
  print('=== 高機能電卓 ===\n');
  
  double a = 25;
  double b = 5;
  
  // 基本計算
  displayResult('$a + $b', add(a, b));
  displayResult('$a - $b', subtract(a, b));
  displayResult('$a × $b', multiply(a, b));
  displayResult('$a ÷ $b', divide(a, b));
  
  // 高度な計算
  displayResult('$a の 2乗', power(a, 2));
  displayResult('√$a', squareRoot(a));
  displayResult('$a の 20%', percentage(a, 20));
}
</code></pre>
<h2 id="統一的なインターフェースを持つ電卓"><a class="header" href="#統一的なインターフェースを持つ電卓">統一的なインターフェースを持つ電卓</a></h2>
<p>演算子を文字列で指定できる電卓を作ってみましょう：</p>
<pre><code class="language-javascript">// 計算履歴を保存するグローバル変数
List&lt;String&gt; calculationHistory = [];

// 統一的な計算関数
double calculate(double a, double b, String operator) {
  double result;
  
  switch (operator) {
    case '+':
      result = a + b;
      break;
    case '-':
      result = a - b;
      break;
    case '*':
    case '×':
      result = a * b;
      break;
    case '/':
    case '÷':
      if (b == 0) {
        print('エラー: 0で割ることはできません');
        return double.nan;  // Not a Number
      }
      result = a / b;
      break;
    case '^':
      result = power(a, b.toInt());
      break;
    case '%':
      result = a * (b / 100);
      break;
    default:
      print('エラー: 不明な演算子 "$operator"');
      return double.nan;
  }
  
  // 履歴に追加
  String record = '$a $operator $b = $result';
  calculationHistory.add(record);
  
  return result;
}

// べき乗計算（補助関数）
double power(double base, int exponent) {
  if (exponent == 0) return 1;
  
  double result = 1;
  for (int i = 0; i &lt; exponent.abs(); i++) {
    result *= base;
  }
  
  return exponent &lt; 0 ? 1 / result : result;
}

// 計算履歴を表示する関数
void showHistory() {
  print('\n=== 計算履歴 ===');
  if (calculationHistory.isEmpty) {
    print('履歴がありません');
    return;
  }
  
  for (int i = 0; i &lt; calculationHistory.length; i++) {
    print('${i + 1}. ${calculationHistory[i]}');
  }
}

// 履歴をクリアする関数
void clearHistory() {
  calculationHistory.clear();
  print('履歴をクリアしました');
}

// 複数の計算を連続で行う関数
void performCalculations(List&lt;Map&lt;String, dynamic&gt;&gt; operations) {
  print('=== 連続計算 ===');
  
  for (var op in operations) {
    double a = op['a'];
    double b = op['b'];
    String operator = op['operator'];
    
    double result = calculate(a, b, operator);
    
    if (!result.isNaN) {
      print('$a $operator $b = $result');
    }
  }
}

void main() {
  print('=== 多機能電卓プログラム ===\n');
  
  // 個別の計算
  calculate(10, 5, '+');
  calculate(20, 4, '-');
  calculate(6, 7, '*');
  calculate(100, 25, '/');
  calculate(2, 3, '^');
  calculate(150, 10, '%');
  
  // 履歴表示
  showHistory();
  
  // 連続計算
  print('\n');
  List&lt;Map&lt;String, dynamic&gt;&gt; calculations = [
    {'a': 100, 'b': 50, 'operator': '+'},
    {'a': 75, 'b': 25, 'operator': '-'},
    {'a': 12, 'b': 12, 'operator': '×'},
    {'a': 144, 'b': 12, 'operator': '÷'},
  ];
  
  performCalculations(calculations);
}
</code></pre>
<h2 id="メモリ機能付き電卓"><a class="header" href="#メモリ機能付き電卓">メモリ機能付き電卓</a></h2>
<p>実際の電卓のようにメモリ機能を追加してみましょう：</p>
<pre><code class="language-javascript">// メモリ変数（グローバル）
double memory = 0;

// メモリ操作関数
void memoryClear() {
  memory = 0;
  print('メモリをクリアしました (M = 0)');
}

void memoryStore(double value) {
  memory = value;
  print('メモリに保存しました (M = $value)');
}

void memoryAdd(double value) {
  memory += value;
  print('メモリに加算しました (M = $memory)');
}

void memorySubtract(double value) {
  memory -= value;
  print('メモリから減算しました (M = $memory)');
}

double memoryRecall() {
  print('メモリから呼び出し (M = $memory)');
  return memory;
}

// 表示を整形する関数
void displayCalculation(String expression, double result) {
  print('$expression = ${result.toStringAsFixed(2)}');
}

// 税込み計算
double calculateTax(double price, double taxRate) {
  return price * (1 + taxRate / 100);
}

// 割引計算
double calculateDiscount(double price, double discountPercent) {
  return price * (1 - discountPercent / 100);
}

void main() {
  print('=== メモリ機能付き電卓 ===\n');
  
  // 基本計算とメモリ操作
  double result1 = calculate(100, 50, '+');
  displayCalculation('100 + 50', result1);
  memoryStore(result1);  // 150をメモリに保存
  
  double result2 = calculate(200, 30, '-');
  displayCalculation('200 - 30', result2);
  memoryAdd(result2);  // メモリに170を加算（M = 320）
  
  // メモリの値を使った計算
  double memValue = memoryRecall();
  double result3 = calculate(memValue, 2, '/');
  displayCalculation('$memValue ÷ 2', result3);
  
  print('\n=== 実用的な計算 ===');
  
  // 税込み価格計算
  double price = 1000;
  double taxRate = 10;  // 10%
  double priceWithTax = calculateTax(price, taxRate);
  print('税抜価格: ¥$price');
  print('税率: $taxRate%');
  print('税込価格: ¥${priceWithTax.toStringAsFixed(0)}');
  
  print('');
  
  // 割引計算
  double originalPrice = 5000;
  double discount = 20;  // 20%割引
  double discountedPrice = calculateDiscount(originalPrice, discount);
  print('定価: ¥$originalPrice');
  print('割引率: $discount%');
  print('割引後: ¥${discountedPrice.toStringAsFixed(0)}');
  
  // メモリクリア
  print('\n');
  memoryClear();
}
</code></pre>
<h2 id="エラー処理を強化した電卓"><a class="header" href="#エラー処理を強化した電卓">エラー処理を強化した電卓</a></h2>
<p>より堅牢な電卓を作ってみましょう：</p>
<pre><code class="language-javascript">// 計算結果を表すクラス（簡易版）
class CalculationResult {
  final double? value;
  final String? error;
  final bool success;
  
  CalculationResult.success(this.value) : error = null, success = true;
  CalculationResult.failure(this.error) : value = null, success = false;
}

// 安全な計算関数
CalculationResult safeCalculate(double a, double b, String operator) {
  try {
    switch (operator) {
      case '+':
        return CalculationResult.success(a + b);
      case '-':
        return CalculationResult.success(a - b);
      case '*':
        return CalculationResult.success(a * b);
      case '/':
        if (b == 0) {
          return CalculationResult.failure('ゼロ除算エラー');
        }
        return CalculationResult.success(a / b);
      case '^':
        if (b != b.toInt()) {
          return CalculationResult.failure('指数は整数である必要があります');
        }
        return CalculationResult.success(power(a, b.toInt()));
      default:
        return CalculationResult.failure('不明な演算子: $operator');
    }
  } catch (e) {
    return CalculationResult.failure('計算エラー: $e');
  }
}

// 計算を実行して結果を表示する関数
void executeCalculation(double a, double b, String operator) {
  CalculationResult result = safeCalculate(a, b, operator);
  
  if (result.success) {
    print('$a $operator $b = ${result.value}');
  } else {
    print('エラー: ${result.error}');
  }
}

// 数式を評価する関数（簡易版）
void evaluateExpression(String expression) {
  print('\n式: $expression');
  
  // 簡単な数式パーサー（実際にはもっと複雑）
  List&lt;String&gt; parts = expression.split(' ');
  if (parts.length != 3) {
    print('エラー: 式の形式が正しくありません');
    return;
  }
  
  try {
    double a = double.parse(parts[0]);
    String operator = parts[1];
    double b = double.parse(parts[2]);
    
    executeCalculation(a, b, operator);
  } catch (e) {
    print('エラー: 数値の解析に失敗しました');
  }
}

void main() {
  print('=== エラー処理強化版電卓 ===\n');
  
  // 正常な計算
  executeCalculation(10, 5, '+');
  executeCalculation(20, 4, '*');
  executeCalculation(100, 25, '/');
  
  // エラーが発生する計算
  print('\n--- エラーケース ---');
  executeCalculation(10, 0, '/');      // ゼロ除算
  executeCalculation(5, 2.5, '^');     // 小数の指数
  executeCalculation(10, 5, '&amp;');      // 不明な演算子
  
  // 数式の評価
  print('\n--- 数式評価 ---');
  evaluateExpression('15 + 25');
  evaluateExpression('100 / 20');
  evaluateExpression('50 - 30');
  evaluateExpression('12 × 3');       // エラー（×は認識されない）
}
</code></pre>
<h2 id="まとめ-33"><a class="header" href="#まとめ-33">まとめ</a></h2>
<p>関数を使うことで、電卓プログラムが以下のように改善されました：</p>
<ol>
<li><strong>コードの整理</strong>：各機能が独立した関数になり、読みやすい</li>
<li><strong>再利用性</strong>：同じ計算を何度でも簡単に実行できる</li>
<li><strong>拡張性</strong>：新しい機能を追加しやすい</li>
<li><strong>保守性</strong>：バグの修正や機能の改良が簡単</li>
<li><strong>エラー処理</strong>：各機能でエラーを適切に処理できる</li>
</ol>
<p>関数は、プログラムを構造化し、管理しやすくするための重要なツールです。</p>
<h3 id="練習問題-25"><a class="header" href="#練習問題-25">練習問題</a></h3>
<ol>
<li>階乗を計算する関数 <code>factorial(int n)</code> を追加してください。</li>
<li>最大公約数を求める関数 <code>gcd(int a, int b)</code> を追加してください。</li>
<li>計算履歴から特定の演算子の計算だけを表示する関数を作成してください。</li>
</ol>
<h3 id="チャレンジ問題-3"><a class="header" href="#チャレンジ問題-3">チャレンジ問題</a></h3>
<p>以下の機能を持つ「科学電卓」を作成してください：</p>
<ul>
<li>三角関数（sin、cos、tan）の計算（角度は度数法）</li>
<li>対数計算（底10）</li>
<li>定数（π、e）を使った計算</li>
<li>計算結果の単位変換（例：メートル→フィート）</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第10章関数の活用"><a class="header" href="#第10章関数の活用">第10章：関数の活用</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="複数の引数を持つ関数"><a class="header" href="#複数の引数を持つ関数">複数の引数を持つ関数</a></h1>
<p>これまで、引数を1つだけ持つ関数を学んできました。しかし、実際のプログラミングでは、複数の情報を関数に渡したいことがよくあります。この節では、複数の引数を持つ関数の作り方と使い方を学びましょう。</p>
<h2 id="複数の引数の基本"><a class="header" href="#複数の引数の基本">複数の引数の基本</a></h2>
<p>関数は、カンマで区切ることで複数の引数を受け取ることができます。</p>
<pre><code class="language-javascript">// 2つの数値を足し算する関数
int add(int a, int b) {
  return a + b;
}

void main() {
  int result = add(3, 5);
  print(result);  // 8
}
</code></pre>
<h2 id="異なる型の引数を組み合わせる"><a class="header" href="#異なる型の引数を組み合わせる">異なる型の引数を組み合わせる</a></h2>
<p>引数は異なる型を混在させることもできます。</p>
<pre><code class="language-javascript">// 名前と年齢を受け取って挨拶を返す関数
String greeting(String name, int age) {
  return '$nameさん、$age歳ですね！';
}

void main() {
  String message = greeting('太郎', 15);
  print(message);  // 太郎さん、15歳ですね！
}
</code></pre>
<h2 id="3つ以上の引数"><a class="header" href="#3つ以上の引数">3つ以上の引数</a></h2>
<p>必要に応じて、3つ以上の引数を持つこともできます。</p>
<pre><code class="language-javascript">// 長方形の体積を計算する関数
double calculateVolume(double length, double width, double height) {
  return length * width * height;
}

void main() {
  double volume = calculateVolume(10.0, 5.0, 3.0);
  print('体積は$volume立方センチメートルです');  // 体積は150.0立方センチメートルです
}
</code></pre>
<h2 id="引数の順序の重要性"><a class="header" href="#引数の順序の重要性">引数の順序の重要性</a></h2>
<p>複数の引数を持つ関数を呼び出すときは、引数の順序が重要です。</p>
<pre><code class="language-javascript">// 引き算をする関数
int subtract(int a, int b) {
  return a - b;
}

void main() {
  print(subtract(10, 3));  // 7
  print(subtract(3, 10));  // -7（順序が違うと結果も変わる）
}
</code></pre>
<h2 id="実践例bmi計算機"><a class="header" href="#実践例bmi計算機">実践例：BMI計算機</a></h2>
<p>身長と体重からBMI（体格指数）を計算する関数を作ってみましょう。</p>
<pre><code class="language-javascript">// BMIを計算する関数
double calculateBMI(double height, double weight) {
  // 身長をメートルに変換（入力はcm）
  double heightInMeters = height / 100;
  // BMI = 体重(kg) / 身長(m)の2乗
  return weight / (heightInMeters * heightInMeters);
}

// BMIの判定をする関数
String judgeBMI(double bmi) {
  if (bmi &lt; 18.5) {
    return '低体重';
  } else if (bmi &lt; 25) {
    return '普通体重';
  } else if (bmi &lt; 30) {
    return '肥満（1度）';
  } else {
    return '肥満（2度以上）';
  }
}

void main() {
  double height = 170.0;  // cm
  double weight = 65.0;   // kg
  
  double bmi = calculateBMI(height, weight);
  String judgment = judgeBMI(bmi);
  
  print('身長${height}cm、体重${weight}kgの場合');
  print('BMI: ${bmi.toStringAsFixed(1)}');
  print('判定: $judgment');
}
</code></pre>
<h2 id="練習問題-26"><a class="header" href="#練習問題-26">練習問題</a></h2>
<ol>
<li>3つの数値を受け取って、その平均値を返す関数を作ってください。</li>
</ol>
<pre><code class="language-javascript">double average(double a, double b, double c) {
  // ここにコードを書いてください
}

void main() {
  print(average(10, 20, 30));  // 20.0 と表示されるはず
}
</code></pre>
<ol start="2">
<li>商品の価格と個数を受け取って、合計金額を計算する関数を作ってください。</li>
</ol>
<pre><code class="language-javascript">int calculateTotal(int price, int quantity) {
  // ここにコードを書いてください
}

void main() {
  int total = calculateTotal(100, 3);
  print('合計: $total円');  // 合計: 300円 と表示されるはず
}
</code></pre>
<h2 id="まとめ-34"><a class="header" href="#まとめ-34">まとめ</a></h2>
<ul>
<li>関数は複数の引数をカンマで区切って受け取ることができる</li>
<li>引数は異なる型を混在させることができる</li>
<li>引数の順序は重要で、呼び出し時も定義時と同じ順序で渡す必要がある</li>
<li>複数の引数を使うことで、より柔軟で再利用可能な関数を作ることができる</li>
</ul>
<p>次の節では、オプション引数とデフォルト値について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="オプション引数とデフォルト値"><a class="header" href="#オプション引数とデフォルト値">オプション引数とデフォルト値</a></h1>
<p>前節では複数の引数を持つ関数を学びました。しかし、すべての引数を毎回指定するのは面倒な場合があります。Dartでは、引数にデフォルト値を設定することで、オプション引数を作ることができます。</p>
<h2 id="位置引数のデフォルト値"><a class="header" href="#位置引数のデフォルト値">位置引数のデフォルト値</a></h2>
<p>角括弧 <code>[]</code> を使って、位置引数にデフォルト値を設定できます。</p>
<pre><code class="language-javascript">// 挨拶をする関数（時間帯はオプション）
String greet(String name, [String time = 'こんにちは']) {
  return '$time、$nameさん！';
}

void main() {
  print(greet('太郎'));           // こんにちは、太郎さん！
  print(greet('花子', 'おはよう')); // おはよう、花子さん！
}
</code></pre>
<h2 id="複数のオプション引数"><a class="header" href="#複数のオプション引数">複数のオプション引数</a></h2>
<p>複数のオプション引数を設定することもできます。</p>
<pre><code class="language-javascript">// 自己紹介文を作る関数
String introduce(String name, [int age = 0, String hobby = '読書']) {
  if (age == 0) {
    return '私は$nameです。趣味は$hobbyです。';
  } else {
    return '私は$nameです。$age歳です。趣味は$hobbyです。';
  }
}

void main() {
  print(introduce('太郎'));                    // 私は太郎です。趣味は読書です。
  print(introduce('花子', 15));                // 私は花子です。15歳です。趣味は読書です。
  print(introduce('次郎', 17, 'サッカー'));      // 私は次郎です。17歳です。趣味はサッカーです。
}
</code></pre>
<h2 id="名前付き引数"><a class="header" href="#名前付き引数">名前付き引数</a></h2>
<p>波括弧 <code>{}</code> を使って、名前付き引数を作ることができます。名前付き引数は順序を気にせずに指定できます。</p>
<pre><code class="language-javascript">// 長方形を描画する関数
void drawRectangle({int width = 10, int height = 5, String char = '*'}) {
  for (int i = 0; i &lt; height; i++) {
    print(char * width);
  }
}

void main() {
  print('デフォルトの長方形:');
  drawRectangle();
  
  print('\n幅20の長方形:');
  drawRectangle(width: 20);
  
  print('\n高さ3、文字#の長方形:');
  drawRectangle(height: 3, char: '#');
}
</code></pre>
<h2 id="必須の名前付き引数"><a class="header" href="#必須の名前付き引数">必須の名前付き引数</a></h2>
<p><code>required</code> キーワードを使って、名前付き引数を必須にすることができます。</p>
<pre><code class="language-javascript">// ユーザー情報を登録する関数
void registerUser({
  required String name,
  required String email,
  int age = 0,
  String country = '日本'
}) {
  print('=== ユーザー登録情報 ===');
  print('名前: $name');
  print('メール: $email');
  print('年齢: ${age == 0 ? "未設定" : age}');
  print('国: $country');
}

void main() {
  // nameとemailは必須
  registerUser(name: '山田太郎', email: 'yamada@example.com');
  
  // すべての引数を指定
  registerUser(
    name: '鈴木花子',
    email: 'suzuki@example.com',
    age: 25,
    country: 'アメリカ'
  );
}
</code></pre>
<h2 id="実践例カスタマイズ可能な電卓"><a class="header" href="#実践例カスタマイズ可能な電卓">実践例：カスタマイズ可能な電卓</a></h2>
<p>オプション引数を活用した電卓プログラムを作ってみましょう。</p>
<pre><code class="language-javascript">// 計算結果を表示する関数
void calculate({
  required double a,
  required double b,
  String operation = '+',
  bool showProcess = false
}) {
  double result;
  String processText = '';
  
  switch (operation) {
    case '+':
      result = a + b;
      processText = '$a + $b = $result';
      break;
    case '-':
      result = a - b;
      processText = '$a - $b = $result';
      break;
    case '*':
      result = a * b;
      processText = '$a × $b = $result';
      break;
    case '/':
      if (b != 0) {
        result = a / b;
        processText = '$a ÷ $b = $result';
      } else {
        print('エラー: 0で割ることはできません');
        return;
      }
      break;
    default:
      print('エラー: 無効な演算子です');
      return;
  }
  
  if (showProcess) {
    print(processText);
  } else {
    print(result);
  }
}

void main() {
  // 基本的な使い方（デフォルトは足し算）
  calculate(a: 10, b: 5);  // 15
  
  // 引き算を指定
  calculate(a: 10, b: 5, operation: '-');  // 5
  
  // 計算過程も表示
  calculate(a: 10, b: 5, operation: '*', showProcess: true);  // 10 × 5 = 50
  
  // 割り算の計算過程を表示
  calculate(a: 20, b: 4, operation: '/', showProcess: true);  // 20 ÷ 4 = 5.0
}
</code></pre>
<h2 id="練習問題-27"><a class="header" href="#練習問題-27">練習問題</a></h2>
<ol>
<li>文字列を装飾する関数を作ってください。デフォルトでは <code>*</code> で囲みます。</li>
</ol>
<pre><code class="language-javascript">String decorate(String text, [String decorator = '*']) {
  // ここにコードを書いてください
  // 例: decorate('Hello') =&gt; '*Hello*'
}

void main() {
  print(decorate('Hello'));      // *Hello*
  print(decorate('World', '#')); // #World#
}
</code></pre>
<ol start="2">
<li>名前付き引数を使って、カスタマイズ可能なメッセージ表示関数を作ってください。</li>
</ol>
<pre><code class="language-javascript">void showMessage({
  required String message,
  String prefix = '[INFO]',
  bool showTime = false
}) {
  // ここにコードを書いてください
  // showTimeがtrueの場合は現在時刻も表示
}

void main() {
  showMessage(message: 'プログラムを開始しました');
  showMessage(message: 'エラーが発生しました', prefix: '[ERROR]');
  showMessage(message: '処理が完了しました', showTime: true);
}
</code></pre>
<h2 id="まとめ-35"><a class="header" href="#まとめ-35">まとめ</a></h2>
<ul>
<li>角括弧 <code>[]</code> で位置引数のデフォルト値を設定できる</li>
<li>波括弧 <code>{}</code> で名前付き引数を作ることができる</li>
<li>名前付き引数は順序を気にせずに指定できる</li>
<li><code>required</code> キーワードで名前付き引数を必須にできる</li>
<li>オプション引数を使うことで、関数をより柔軟に使えるようになる</li>
</ul>
<p>次の節では、関数を使ったプログラムの設計方法について学びます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="関数を使ったプログラムの設計"><a class="header" href="#関数を使ったプログラムの設計">関数を使ったプログラムの設計</a></h1>
<p>これまで関数の作り方や使い方を学んできました。この節では、関数を使ってプログラムをどのように設計すればよいかを学びます。よい設計は、プログラムを読みやすく、修正しやすくします。</p>
<h2 id="関数設計の基本原則"><a class="header" href="#関数設計の基本原則">関数設計の基本原則</a></h2>
<h3 id="1-単一責任の原則"><a class="header" href="#1-単一責任の原則">1. 単一責任の原則</a></h3>
<p>一つの関数は一つのことだけを行うべきです。</p>
<pre><code class="language-javascript">// 悪い例：複数のことを行う関数
void processUserData(String name, int age) {
  // 入力チェック
  if (name.isEmpty || age &lt; 0) {
    print('エラー: 無効なデータです');
    return;
  }
  // データ処理
  String upperName = name.toUpperCase();
  int nextAge = age + 1;
  // 結果表示
  print('名前: $upperName');
  print('来年の年齢: $nextAge');
}

// 良い例：それぞれの責任を分離
bool isValidUserData(String name, int age) {
  return name.isNotEmpty &amp;&amp; age &gt;= 0;
}

String formatName(String name) {
  return name.toUpperCase();
}

int calculateNextAge(int age) {
  return age + 1;
}

void displayUserInfo(String name, int nextAge) {
  print('名前: $name');
  print('来年の年齢: $nextAge');
}

void main() {
  String name = '太郎';
  int age = 15;
  
  if (isValidUserData(name, age)) {
    String formattedName = formatName(name);
    int nextAge = calculateNextAge(age);
    displayUserInfo(formattedName, nextAge);
  } else {
    print('エラー: 無効なデータです');
  }
}
</code></pre>
<h3 id="2-わかりやすい関数名"><a class="header" href="#2-わかりやすい関数名">2. わかりやすい関数名</a></h3>
<p>関数名は、その関数が何をするかを明確に表すべきです。</p>
<pre><code class="language-javascript">// 悪い例：何をする関数かわからない
double calc(double a, double b) {
  return a * b * 0.5;
}

// 良い例：三角形の面積を計算することが明確
double calculateTriangleArea(double base, double height) {
  return base * height * 0.5;
}
</code></pre>
<h3 id="3-適切な関数の粒度"><a class="header" href="#3-適切な関数の粒度">3. 適切な関数の粒度</a></h3>
<p>関数は小さすぎても大きすぎても使いにくくなります。</p>
<pre><code class="language-javascript">// 成績評価システムの例
String evaluateGrade(int score) {
  if (score &gt;= 90) return 'A';
  if (score &gt;= 80) return 'B';
  if (score &gt;= 70) return 'C';
  if (score &gt;= 60) return 'D';
  return 'F';
}

String getGradeMessage(String grade) {
  switch (grade) {
    case 'A': return '優秀です！';
    case 'B': return 'よくできました！';
    case 'C': return '合格です';
    case 'D': return 'もう少し頑張りましょう';
    default: return '再試験が必要です';
  }
}

void processStudentScore(String name, int score) {
  String grade = evaluateGrade(score);
  String message = getGradeMessage(grade);
  print('$nameさん: $score点 ($grade) - $message');
}
</code></pre>
<h2 id="プログラムの構造化"><a class="header" href="#プログラムの構造化">プログラムの構造化</a></h2>
<p>大きなプログラムを関数で構造化する例を見てみましょう。</p>
<pre><code class="language-javascript">// 簡単な在庫管理システム
Map&lt;String, int&gt; inventory = {};

// 商品を追加する関数
void addProduct(String product, int quantity) {
  if (inventory.containsKey(product)) {
    inventory[product] = inventory[product]! + quantity;
  } else {
    inventory[product] = quantity;
  }
  print('$productを$quantity個追加しました');
}

// 商品を販売する関数
bool sellProduct(String product, int quantity) {
  if (!inventory.containsKey(product)) {
    print('エラー: $productは在庫にありません');
    return false;
  }
  
  if (inventory[product]! &lt; quantity) {
    print('エラー: $productの在庫が不足しています（在庫: ${inventory[product]}個）');
    return false;
  }
  
  inventory[product] = inventory[product]! - quantity;
  print('$productを$quantity個販売しました');
  return true;
}

// 在庫を表示する関数
void displayInventory() {
  print('\n=== 在庫一覧 ===');
  if (inventory.isEmpty) {
    print('在庫がありません');
  } else {
    inventory.forEach((product, quantity) {
      print('$product: $quantity個');
    });
  }
  print('================\n');
}

// メニューを表示する関数
void showMenu() {
  print('1. 商品を追加');
  print('2. 商品を販売');
  print('3. 在庫を表示');
  print('4. 終了');
  print('選択してください: ');
}

// メイン処理
void main() {
  // デモ用の初期在庫
  addProduct('りんご', 50);
  addProduct('みかん', 30);
  addProduct('バナナ', 20);
  
  displayInventory();
  
  // 販売のテスト
  sellProduct('りんご', 10);
  sellProduct('みかん', 5);
  sellProduct('ぶどう', 10);  // 在庫にない商品
  
  displayInventory();
  
  // さらに商品を追加
  addProduct('りんご', 20);
  addProduct('ぶどう', 15);
  
  displayInventory();
}
</code></pre>
<h2 id="関数の再利用性を高める"><a class="header" href="#関数の再利用性を高める">関数の再利用性を高める</a></h2>
<p>汎用的な関数を作ることで、様々な場面で再利用できます。</p>
<pre><code class="language-javascript">// 汎用的な統計関数
double calculateAverage(List&lt;double&gt; numbers) {
  if (numbers.isEmpty) return 0;
  double sum = 0;
  for (double num in numbers) {
    sum += num;
  }
  return sum / numbers.length;
}

double findMaximum(List&lt;double&gt; numbers) {
  if (numbers.isEmpty) return 0;
  double max = numbers[0];
  for (double num in numbers) {
    if (num &gt; max) max = num;
  }
  return max;
}

double findMinimum(List&lt;double&gt; numbers) {
  if (numbers.isEmpty) return 0;
  double min = numbers[0];
  for (double num in numbers) {
    if (num &lt; min) min = num;
  }
  return min;
}

// 成績分析に使用
void analyzeTestScores() {
  List&lt;double&gt; scores = [85.5, 92.0, 78.5, 88.0, 95.5];
  
  print('=== テストの成績分析 ===');
  print('平均点: ${calculateAverage(scores).toStringAsFixed(1)}点');
  print('最高点: ${findMaximum(scores)}点');
  print('最低点: ${findMinimum(scores)}点');
}

// 温度分析に使用
void analyzeTemperatures() {
  List&lt;double&gt; temperatures = [28.5, 30.2, 29.8, 31.5, 27.9];
  
  print('\n=== 今週の気温分析 ===');
  print('平均気温: ${calculateAverage(temperatures).toStringAsFixed(1)}°C');
  print('最高気温: ${findMaximum(temperatures)}°C');
  print('最低気温: ${findMinimum(temperatures)}°C');
}

void main() {
  analyzeTestScores();
  analyzeTemperatures();
}
</code></pre>
<h2 id="練習問題-28"><a class="header" href="#練習問題-28">練習問題</a></h2>
<ol>
<li>以下の処理を適切な関数に分割してください。</li>
</ol>
<pre><code class="language-javascript">void main() {
  // この処理を複数の関数に分割してください
  String text = 'Hello World';
  int vowelCount = 0;
  int consonantCount = 0;
  
  for (int i = 0; i &lt; text.length; i++) {
    String char = text[i].toLowerCase();
    if (char == 'a' || char == 'e' || char == 'i' || 
        char == 'o' || char == 'u') {
      vowelCount++;
    } else if (char != ' ') {
      consonantCount++;
    }
  }
  
  print('母音の数: $vowelCount');
  print('子音の数: $consonantCount');
}
</code></pre>
<h2 id="まとめ-36"><a class="header" href="#まとめ-36">まとめ</a></h2>
<ul>
<li>一つの関数は一つの責任を持つべき（単一責任の原則）</li>
<li>関数名は何をするかを明確に表すべき</li>
<li>適切な粒度で関数を分割する</li>
<li>汎用的な関数を作ることで再利用性を高める</li>
<li>プログラム全体を関数で構造化することで、理解しやすく保守しやすいコードになる</li>
</ul>
<p>次の節では、これまで学んだ知識を活用して、じゃんけんゲームを作ります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="実践じゃんけんゲームを作る"><a class="header" href="#実践じゃんけんゲームを作る">実践：じゃんけんゲームを作る</a></h1>
<p>この節では、これまで学んだ関数の知識を活用して、コンピュータと対戦できるじゃんけんゲームを作ります。段階的に機能を追加していき、最終的には完全なゲームを完成させます。</p>
<h2 id="ステップ1基本的なじゃんけんの判定"><a class="header" href="#ステップ1基本的なじゃんけんの判定">ステップ1：基本的なじゃんけんの判定</a></h2>
<p>まず、じゃんけんの勝敗を判定する関数を作りましょう。</p>
<pre><code class="language-javascript">// じゃんけんの手を数値で表現
// 0: グー、1: チョキ、2: パー

String getHandName(int hand) {
  switch (hand) {
    case 0: return 'グー';
    case 1: return 'チョキ';
    case 2: return 'パー';
    default: return '無効';
  }
}

// 勝敗を判定する関数
// 戻り値: 0=引き分け、1=プレイヤーの勝ち、-1=プレイヤーの負け
int judgeWinner(int playerHand, int computerHand) {
  if (playerHand == computerHand) {
    return 0; // 引き分け
  }
  
  // プレイヤーが勝つパターン
  if ((playerHand == 0 &amp;&amp; computerHand == 1) ||  // グー vs チョキ
      (playerHand == 1 &amp;&amp; computerHand == 2) ||  // チョキ vs パー
      (playerHand == 2 &amp;&amp; computerHand == 0)) {  // パー vs グー
    return 1;
  }
  
  return -1; // プレイヤーの負け
}

void main() {
  // テスト
  int player = 0;  // グー
  int computer = 1; // チョキ
  
  print('あなた: ${getHandName(player)}');
  print('コンピュータ: ${getHandName(computer)}');
  
  int result = judgeWinner(player, computer);
  if (result == 1) {
    print('あなたの勝ち！');
  } else if (result == -1) {
    print('あなたの負け...');
  } else {
    print('引き分け');
  }
}
</code></pre>
<h2 id="ステップ2ランダムな手を生成"><a class="header" href="#ステップ2ランダムな手を生成">ステップ2：ランダムな手を生成</a></h2>
<p>コンピュータがランダムに手を選ぶ機能を追加します。</p>
<pre><code class="language-javascript">import 'dart:math';

// 前のコードに追加
int generateComputerHand() {
  Random random = Random();
  return random.nextInt(3); // 0, 1, 2のいずれかを返す
}

// 結果を表示する関数
void displayResult(int playerHand, int computerHand, int result) {
  print('\n=== じゃんけんの結果 ===');
  print('あなた: ${getHandName(playerHand)}');
  print('コンピュータ: ${getHandName(computerHand)}');
  
  if (result == 1) {
    print('結果: あなたの勝ち！');
  } else if (result == -1) {
    print('結果: あなたの負け...');
  } else {
    print('結果: 引き分け');
  }
  print('=====================\n');
}

void playOneRound(int playerHand) {
  int computerHand = generateComputerHand();
  int result = judgeWinner(playerHand, computerHand);
  displayResult(playerHand, computerHand, result);
}

void main() {
  print('じゃんけんゲームを始めます！');
  playOneRound(0); // グーを出す
}
</code></pre>
<h2 id="ステップ3入力機能の追加"><a class="header" href="#ステップ3入力機能の追加">ステップ3：入力機能の追加</a></h2>
<p>プレイヤーが手を選べるようにします。</p>
<pre><code class="language-javascript">// 入力を検証する関数
bool isValidInput(String input) {
  return input == '0' || input == '1' || input == '2';
}

// メニューを表示する関数
void showHandMenu() {
  print('じゃんけんの手を選んでください:');
  print('0: グー');
  print('1: チョキ');
  print('2: パー');
  print('選択: ');
}

// 入力を処理する関数（デモ用）
int getPlayerInput(String input) {
  if (isValidInput(input)) {
    return int.parse(input);
  }
  return -1; // 無効な入力
}
</code></pre>
<h2 id="ステップ4連続対戦と統計機能"><a class="header" href="#ステップ4連続対戦と統計機能">ステップ4：連続対戦と統計機能</a></h2>
<p>複数回対戦して、勝率を記録する機能を追加します。</p>
<pre><code class="language-javascript">// ゲームの統計を管理
class GameStats {
  int wins = 0;
  int losses = 0;
  int draws = 0;
  
  int get totalGames =&gt; wins + losses + draws;
  
  double get winRate {
    if (totalGames == 0) return 0;
    return (wins / totalGames) * 100;
  }
}

// 統計を更新する関数
void updateStats(GameStats stats, int result) {
  if (result == 1) {
    stats.wins++;
  } else if (result == -1) {
    stats.losses++;
  } else {
    stats.draws++;
  }
}

// 統計を表示する関数
void displayStats(GameStats stats) {
  print('\n=== ゲーム統計 ===');
  print('総ゲーム数: ${stats.totalGames}');
  print('勝ち: ${stats.wins}回');
  print('負け: ${stats.losses}回');
  print('引き分け: ${stats.draws}回');
  print('勝率: ${stats.winRate.toStringAsFixed(1)}%');
  print('==================\n');
}
</code></pre>
<h2 id="完成版じゃんけんゲーム"><a class="header" href="#完成版じゃんけんゲーム">完成版：じゃんけんゲーム</a></h2>
<p>すべての機能を組み合わせた完成版です。</p>
<pre><code class="language-javascript">import 'dart:math';

// じゃんけんの手を管理
String getHandName(int hand) {
  switch (hand) {
    case 0: return 'グー✊';
    case 1: return 'チョキ✌';
    case 2: return 'パー✋';
    default: return '無効';
  }
}

// 勝敗判定
int judgeWinner(int playerHand, int computerHand) {
  if (playerHand == computerHand) return 0;
  
  if ((playerHand == 0 &amp;&amp; computerHand == 1) ||
      (playerHand == 1 &amp;&amp; computerHand == 2) ||
      (playerHand == 2 &amp;&amp; computerHand == 0)) {
    return 1;
  }
  
  return -1;
}

// コンピュータの手を生成
int generateComputerHand() {
  return Random().nextInt(3);
}

// アニメーション効果（じゃんけんぽん！）
void showAnimation() {
  print('じゃん...');
  print('けん...');
  print('ぽん！');
}

// 結果表示（詳細版）
void displayDetailedResult(int playerHand, int computerHand, int result) {
  showAnimation();
  
  print('\n【結果】');
  print('あなた　　　: ${getHandName(playerHand)}');
  print('コンピュータ: ${getHandName(computerHand)}');
  
  if (result == 1) {
    print('\n🎉 あなたの勝ち！ 🎉');
    print(_getWinMessage(playerHand, computerHand));
  } else if (result == -1) {
    print('\n😢 あなたの負け... 😢');
    print(_getLoseMessage(playerHand, computerHand));
  } else {
    print('\n🤝 引き分け！ 🤝');
    print('同じ手でした！');
  }
}

// 勝ちメッセージ
String _getWinMessage(int playerHand, int computerHand) {
  if (playerHand == 0 &amp;&amp; computerHand == 1) {
    return 'グーはチョキに勝ちます！';
  } else if (playerHand == 1 &amp;&amp; computerHand == 2) {
    return 'チョキはパーに勝ちます！';
  } else {
    return 'パーはグーに勝ちます！';
  }
}

// 負けメッセージ
String _getLoseMessage(int playerHand, int computerHand) {
  if (playerHand == 0 &amp;&amp; computerHand == 2) {
    return 'グーはパーに負けます...';
  } else if (playerHand == 1 &amp;&amp; computerHand == 0) {
    return 'チョキはグーに負けます...';
  } else {
    return 'パーはチョキに負けます...';
  }
}

// ゲーム統計
class GameStats {
  int wins = 0;
  int losses = 0;
  int draws = 0;
  List&lt;String&gt; history = [];
  
  void recordGame(int result, int playerHand, int computerHand) {
    String record = '${getHandName(playerHand)} vs ${getHandName(computerHand)}: ';
    if (result == 1) {
      wins++;
      record += '勝ち';
    } else if (result == -1) {
      losses++;
      record += '負け';
    } else {
      draws++;
      record += '引き分け';
    }
    history.add(record);
  }
  
  void showStats() {
    int total = wins + losses + draws;
    if (total == 0) {
      print('まだゲームをプレイしていません');
      return;
    }
    
    print('\n📊 ゲーム統計 📊');
    print('総ゲーム数: $total回');
    print('勝ち: $wins回');
    print('負け: $losses回');
    print('引き分け: $draws回');
    print('勝率: ${(wins / total * 100).toStringAsFixed(1)}%');
    
    if (history.length &gt; 0) {
      print('\n【最近の対戦履歴】');
      int start = history.length &gt; 5 ? history.length - 5 : 0;
      for (int i = start; i &lt; history.length; i++) {
        print('${i - start + 1}. ${history[i]}');
      }
    }
  }
}

// メインゲーム
void main() {
  GameStats stats = GameStats();
  
  print('=== じゃんけんゲームへようこそ！ ===\n');
  
  // デモ用：5回対戦
  List&lt;int&gt; demoMoves = [0, 1, 2, 1, 0]; // グー、チョキ、パー、チョキ、グー
  
  for (int i = 0; i &lt; demoMoves.length; i++) {
    print('\n--- 第${i + 1}回戦 ---');
    int playerHand = demoMoves[i];
    int computerHand = generateComputerHand();
    int result = judgeWinner(playerHand, computerHand);
    
    displayDetailedResult(playerHand, computerHand, result);
    stats.recordGame(result, playerHand, computerHand);
    
    print('\n続けるには何かキーを押してください...');
  }
  
  // 最終統計
  print('\n=== ゲーム終了 ===');
  stats.showStats();
  
  // 勝率に応じたメッセージ
  double winRate = stats.wins / (stats.wins + stats.losses + stats.draws) * 100;
  print('\n');
  if (winRate &gt;= 60) {
    print('🏆 素晴らしい成績です！じゃんけんマスターですね！');
  } else if (winRate &gt;= 40) {
    print('👍 良い勝負でした！');
  } else {
    print('💪 次はもっと頑張りましょう！');
  }
}
</code></pre>
<h2 id="練習問題-29"><a class="header" href="#練習問題-29">練習問題</a></h2>
<ol>
<li>
<p>「最初はグー」機能を追加してください（最初に必ずグーを表示）。</p>
</li>
<li>
<p>連勝記録を追跡する機能を追加してください。</p>
</li>
<li>
<p>コンピュータの戦略を追加してください（例：前回プレイヤーが出した手に勝つ手を出しやすくする）。</p>
</li>
</ol>
<h2 id="まとめ-37"><a class="header" href="#まとめ-37">まとめ</a></h2>
<p>この節では、関数を組み合わせて実用的なじゃんけんゲームを作りました。以下の重要な概念を実践しました：</p>
<ul>
<li>関数の分割による責任の明確化</li>
<li>引数と戻り値を使った関数間のデータ受け渡し</li>
<li>複数の関数を組み合わせた複雑な処理の実現</li>
<li>クラスを使った関連データのグループ化</li>
<li>ユーザー体験を向上させる機能の追加</li>
</ul>
<p>これで第10章は完了です。関数を使いこなすことで、より構造化された読みやすいプログラムを作ることができるようになりました。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第11章クラスとオブジェクトの基礎"><a class="header" href="#第11章クラスとオブジェクトの基礎">第11章：クラスとオブジェクトの基礎</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="現実世界をプログラムで表現する"><a class="header" href="#現実世界をプログラムで表現する">現実世界をプログラムで表現する</a></h1>
<p>プログラミングを学んできた皆さんは、これまで数値や文字列、リストなどの基本的なデータを使ってプログラムを作ってきました。でも、現実世界はもっと複雑ですよね。</p>
<h2 id="現実世界の複雑さ"><a class="header" href="#現実世界の複雑さ">現実世界の複雑さ</a></h2>
<p>例えば、ペットショップを考えてみましょう。そこには様々な動物がいます：</p>
<ul>
<li>犬：名前は「ポチ」、年齢は3歳、品種は「柴犬」</li>
<li>猫：名前は「ミケ」、年齢は2歳、品種は「三毛猫」</li>
<li>うさぎ：名前は「ふわり」、年齢は1歳、品種は「ロップイヤー」</li>
</ul>
<p>これまで学んだ方法で、この情報を表現してみましょう：</p>
<pre><code class="language-javascript">// 犬の情報
String dogName = "ポチ";
int dogAge = 3;
String dogBreed = "柴犬";

// 猫の情報
String catName = "ミケ";
int catAge = 2;
String catBreed = "三毛猫";

// うさぎの情報
String rabbitName = "ふわり";
int rabbitAge = 1;
String rabbitBreed = "ロップイヤー";
</code></pre>
<p>うーん、これでも情報は表現できますが、何か問題がありませんか？</p>
<h2 id="従来の方法の問題点"><a class="header" href="#従来の方法の問題点">従来の方法の問題点</a></h2>
<h3 id="1-関連性がわからない"><a class="header" href="#1-関連性がわからない">1. 関連性がわからない</a></h3>
<p>変数がたくさんあると、どの名前がどの動物のものか混乱してしまいます。</p>
<pre><code class="language-javascript">// これらが同じ動物の情報だとわかりますか？
String dogName = "ポチ";
String catBreed = "三毛猫";
int dogAge = 3;
String rabbitName = "ふわり";
// ...さらに100匹の動物がいたら？
</code></pre>
<h3 id="2-データの管理が大変"><a class="header" href="#2-データの管理が大変">2. データの管理が大変</a></h3>
<p>新しい動物を追加するたびに、複数の変数を作る必要があります：</p>
<pre><code class="language-javascript">// 新しい犬を追加
String dog2Name = "シロ";
int dog2Age = 5;
String dog2Breed = "ゴールデンレトリバー";

// また新しい犬を追加
String dog3Name = "クロ";
int dog3Age = 4;
String dog3Breed = "ラブラドール";
</code></pre>
<h3 id="3-処理が複雑になる"><a class="header" href="#3-処理が複雑になる">3. 処理が複雑になる</a></h3>
<p>全ての動物の情報を表示したい時、とても面倒です：</p>
<pre><code class="language-javascript">print("犬: $dogName, $dogAge歳, $dogBreed");
print("犬: $dog2Name, $dog2Age歳, $dog2Breed");
print("犬: $dog3Name, $dog3Age歳, $dog3Breed");
print("猫: $catName, $catAge歳, $catBreed");
// ...これを100匹分書くの？
</code></pre>
<h2 id="もっと良い方法はないの"><a class="header" href="#もっと良い方法はないの">もっと良い方法はないの？</a></h2>
<p>なるほど！ここで「オブジェクト指向プログラミング」の出番です。</p>
<p>オブジェクト指向では、関連する情報とその処理を一つの「<strong>オブジェクト</strong>」としてまとめて考えます。これは現実世界の物事をプログラムで自然に表現する方法です。</p>
<h3 id="現実世界での考え方"><a class="header" href="#現実世界での考え方">現実世界での考え方</a></h3>
<p>現実世界で「犬」について考える時、私たちは自然にこう考えます：</p>
<ul>
<li><strong>犬は何を持っているか</strong>（属性）：名前、年齢、品種、色...</li>
<li><strong>犬は何ができるか</strong>（行動）：鳴く、走る、食べる、寝る...</li>
</ul>
<h3 id="プログラムでの表現"><a class="header" href="#プログラムでの表現">プログラムでの表現</a></h3>
<p>オブジェクト指向では、この考え方をそのままプログラムにします：</p>
<pre><code class="language-javascript">// 犬オブジェクトのイメージ
犬 {
  // 属性（何を持っているか）
  名前: "ポチ"
  年齢: 3
  品種: "柴犬"
  
  // 行動（何ができるか）
  鳴く() { ... }
  走る() { ... }
  食べる() { ... }
}
</code></pre>
<h2 id="オブジェクト指向の利点"><a class="header" href="#オブジェクト指向の利点">オブジェクト指向の利点</a></h2>
<h3 id="1-自然な思考"><a class="header" href="#1-自然な思考">1. 自然な思考</a></h3>
<p>現実世界と同じように考えられるので、理解しやすいです。</p>
<h3 id="2-情報がまとまる"><a class="header" href="#2-情報がまとまる">2. 情報がまとまる</a></h3>
<p>関連する情報が一箇所にまとまるので、管理しやすくなります。</p>
<h3 id="3-再利用しやすい"><a class="header" href="#3-再利用しやすい">3. 再利用しやすい</a></h3>
<p>一度「犬」の定義を作れば、何匹でも犬を作ることができます。</p>
<h3 id="4-保守しやすい"><a class="header" href="#4-保守しやすい">4. 保守しやすい</a></h3>
<p>犬に関する変更は、犬の定義だけを修正すれば済みます。</p>
<h2 id="まとめ-38"><a class="header" href="#まとめ-38">まとめ</a></h2>
<p>オブジェクト指向プログラミングは、現実世界の複雑さをプログラムで自然に表現するための方法です。</p>
<ul>
<li><strong>これまで</strong>：バラバラな変数で情報を管理</li>
<li><strong>これから</strong>：関連する情報と処理をオブジェクトとしてまとめて管理</li>
</ul>
<p>次の章では、実際にDartでオブジェクトを作る方法を学んでいきます。まずは「<strong>クラス</strong>」という設計図の作り方から始めましょう！</p>
<h2 id="練習問題-30"><a class="header" href="#練習問題-30">練習問題</a></h2>
<ol>
<li>
<p>あなたの身の回りにある物（例：スマートフォン、本、車など）を一つ選んで、それが持っている属性（何を持っているか）と行動（何ができるか）を3つずつ考えてみてください。</p>
</li>
<li>
<p>学校の「生徒」をオブジェクトとして考える場合、どのような属性と行動があるでしょうか？</p>
</li>
</ol>
<p><strong>答えの例</strong></p>
<ol>
<li>
<p>スマートフォンの場合：</p>
<ul>
<li>属性：機種名、色、バッテリー残量</li>
<li>行動：電話をかける、写真を撮る、アプリを起動する</li>
</ul>
</li>
<li>
<p>生徒の場合：</p>
<ul>
<li>属性：名前、学年、出席番号</li>
<li>行動：勉強する、友達と話す、宿題を提出する</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="クラスの定義"><a class="header" href="#クラスの定義">クラスの定義</a></h1>
<p>前の章で、オブジェクト指向プログラミングの考え方を学びました。今度は、実際にDartでオブジェクトを作るための「<strong>クラス</strong>」について学んでいきましょう。</p>
<h2 id="クラスとは何でしょうか"><a class="header" href="#クラスとは何でしょうか">クラスとは何でしょうか？</a></h2>
<p>クラスは、オブジェクトの「<strong>設計図</strong>」や「<strong>型紙</strong>」のようなものです。</p>
<h3 id="身近な例で考えてみましょう"><a class="header" href="#身近な例で考えてみましょう">身近な例で考えてみましょう</a></h3>
<p>たい焼きを作ることを想像してください：</p>
<ul>
<li><strong>たい焼きの型</strong>：これがクラス（設計図）</li>
<li><strong>実際のたい焼き</strong>：これがオブジェクト（実体）</li>
</ul>
<p>一つの型（クラス）があれば、同じ形のたい焼き（オブジェクト）を何個でも作ることができますね！</p>
<pre><code class="language-javascript">// たい焼きのイメージ
たい焼きの型（クラス） → たい焼き1（オブジェクト）
                    → たい焼き2（オブジェクト）
                    → たい焼き3（オブジェクト）
</code></pre>
<h2 id="dartでのクラスの基本形"><a class="header" href="#dartでのクラスの基本形">Dartでのクラスの基本形</a></h2>
<p>Dartでクラスを定義する基本的な形は次のようになります：</p>
<pre><code class="language-javascript">class クラス名 {
  // ここにクラスの内容を書きます
}
</code></pre>
<h3 id="実際に犬のクラスを作ってみましょう"><a class="header" href="#実際に犬のクラスを作ってみましょう">実際に犬のクラスを作ってみましょう</a></h3>
<pre><code class="language-javascript">class Dog {
  // まずは空のクラスを作成
}
</code></pre>
<p>おめでとうございます！これで最初のクラスができました。でも、まだ何も中身がありませんね。</p>
<h2 id="クラスに属性フィールドを追加する"><a class="header" href="#クラスに属性フィールドを追加する">クラスに属性（フィールド）を追加する</a></h2>
<p>犬には名前、年齢、品種などの情報が必要です。これらを<strong>フィールド</strong>（または<strong>プロパティ</strong>）と呼びます。</p>
<pre><code class="language-javascript">class Dog {
  // 犬の属性（フィールド）
  String name;    // 名前
  int age;        // 年齢
  String breed;   // 品種
}
</code></pre>
<h3 id="フィールドの説明"><a class="header" href="#フィールドの説明">フィールドの説明</a></h3>
<ul>
<li><code>String name</code>：犬の名前を文字列で保存</li>
<li><code>int age</code>：犬の年齢を整数で保存</li>
<li><code>String breed</code>：犬の品種を文字列で保存</li>
</ul>
<h2 id="より詳しいクラスの例"><a class="header" href="#より詳しいクラスの例">より詳しいクラスの例</a></h2>
<p>もう少し現実的な例を見てみましょう：</p>
<pre><code class="language-javascript">class Dog {
  // 基本情報
  String name;        // 名前
  int age;           // 年齢
  String breed;      // 品種
  String color;      // 毛色
  double weight;     // 体重（kg）
  bool isHealthy;    // 健康状態
}
</code></pre>
<h3 id="データ型の選択"><a class="header" href="#データ型の選択">データ型の選択</a></h3>
<p>各フィールドにはどのデータ型が適切か考えてみましょう：</p>
<ul>
<li><strong>String（文字列）</strong>：名前、品種、毛色など</li>
<li><strong>int（整数）</strong>：年齢（通常は整数で表現）</li>
<li><strong>double（小数）</strong>：体重（小数点が必要）</li>
<li><strong>bool（真偽値）</strong>：健康状態（健康/不健康の2択）</li>
</ul>
<h2 id="別の例学生クラス"><a class="header" href="#別の例学生クラス">別の例：学生クラス</a></h2>
<p>犬以外の例も見てみましょう：</p>
<pre><code class="language-javascript">class Student {
  String name;        // 名前
  int grade;         // 学年
  int studentId;     // 学籍番号
  double gpa;        // 成績平均点
  bool isPresent;    // 出席しているかどうか
}
</code></pre>
<h2 id="クラス名の命名規則"><a class="header" href="#クラス名の命名規則">クラス名の命名規則</a></h2>
<p>Dartでは、クラス名には特別な命名規則があります：</p>
<h3 id="1-パスカルケースpascalcaseを使う"><a class="header" href="#1-パスカルケースpascalcaseを使う">1. パスカルケース（PascalCase）を使う</a></h3>
<pre><code class="language-javascript">// ✅ 正しい例
class Dog { }
class Student { }
class BankAccount { }     // 複数の単語は最初を大文字に
class GameCharacter { }

// ❌ 間違った例
class dog { }             // 小文字で始まっている
class bank_account { }    // アンダースコアを使っている
class gamecharacter { }   // 2番目の単語が小文字
</code></pre>
<h3 id="2-意味のある名前をつける"><a class="header" href="#2-意味のある名前をつける">2. 意味のある名前をつける</a></h3>
<pre><code class="language-javascript">// ✅ 良い例
class Car { }           // 車
class Book { }          // 本
class MusicPlayer { }   // 音楽プレーヤー

// ❌ 悪い例
class A { }             // 何を表すかわからない
class Thing { }         // 抽象的すぎる
class Data { }          // 何のデータかわからない
</code></pre>
<h2 id="練習自分でクラスを作ってみよう"><a class="header" href="#練習自分でクラスを作ってみよう">練習：自分でクラスを作ってみよう</a></h2>
<h3 id="練習1本bookクラス"><a class="header" href="#練習1本bookクラス">練習1：本（Book）クラス</a></h3>
<p>本を表現するクラスを作ってみてください。本には次のような属性があります：</p>
<ul>
<li>タイトル（文字列）</li>
<li>著者（文字列）</li>
<li>ページ数（整数）</li>
<li>価格（小数）</li>
<li>読み終わったかどうか（真偽値）</li>
</ul>
<pre><code class="language-javascript">class Book {
  // ここに属性を書いてください
}
</code></pre>
<p><strong>答え</strong>：</p>
<pre><code class="language-javascript">class Book {
  String title;        // タイトル
  String author;       // 著者
  int pages;          // ページ数
  double price;       // 価格
  bool isFinished;    // 読み終わったかどうか
}
</code></pre>
<h3 id="練習2スマートフォンsmartphoneクラス"><a class="header" href="#練習2スマートフォンsmartphoneクラス">練習2：スマートフォン（Smartphone）クラス</a></h3>
<p>今度はスマートフォンを表現するクラスを作ってみてください：</p>
<ul>
<li>機種名（文字列）</li>
<li>色（文字列）</li>
<li>バッテリー残量（整数、0-100の値）</li>
<li>ストレージ容量（整数、GB単位）</li>
<li>電源が入っているかどうか（真偽値）</li>
</ul>
<p><strong>答え</strong>：</p>
<pre><code class="language-javascript">class Smartphone {
  String model;           // 機種名
  String color;           // 色
  int batteryLevel;       // バッテリー残量（0-100）
  int storageCapacity;    // ストレージ容量（GB）
  bool isPoweredOn;       // 電源状態
}
</code></pre>
<h2 id="初期値の設定"><a class="header" href="#初期値の設定">初期値の設定</a></h2>
<p>フィールドには初期値を設定することもできます：</p>
<pre><code class="language-javascript">class Dog {
  String name = "名前未設定";     // デフォルトの名前
  int age = 0;                  // デフォルトの年齢
  String breed = "雑種";        // デフォルトの品種
  bool isHealthy = true;        // デフォルトで健康
}
</code></pre>
<h2 id="まとめ-39"><a class="header" href="#まとめ-39">まとめ</a></h2>
<p>この章では、クラスの基本的な定義方法を学びました：</p>
<ol>
<li><strong>クラスは設計図</strong>：オブジェクトを作るためのテンプレート</li>
<li><strong>基本的な構文</strong>：<code>class クラス名 { }</code></li>
<li><strong>フィールド</strong>：オブジェクトが持つ属性（データ）</li>
<li><strong>命名規則</strong>：パスカルケースで意味のある名前を</li>
<li><strong>データ型</strong>：適切な型を選択する</li>
</ol>
<p>次の章では、この設計図（クラス）を使って実際のオブジェクトを作る方法を学びます。いよいよ設計図から実物を作り出しますよ！</p>
<h2 id="練習問題-31"><a class="header" href="#練習問題-31">練習問題</a></h2>
<ol>
<li>
<p>車（Car）を表現するクラスを作ってください。車には以下の属性があります：</p>
<ul>
<li>メーカー（文字列）</li>
<li>車種（文字列）</li>
<li>年式（整数）</li>
<li>燃費（小数、km/L）</li>
<li>エンジンがかかっているかどうか（真偽値）</li>
</ul>
</li>
<li>
<p>次のクラス名のうち、Dartの命名規則に従っているものはどれでしょうか？</p>
<ul>
<li><code>musicPlayer</code></li>
<li><code>MusicPlayer</code></li>
<li><code>music_player</code></li>
<li><code>MUSICPLAYER</code></li>
</ul>
</li>
</ol>
<p><strong>答え</strong>：</p>
<ol>
<li>車クラス：</li>
</ol>
<pre><code class="language-javascript">class Car {
  String manufacturer;    // メーカー
  String model;          // 車種
  int year;             // 年式
  double fuelEfficiency; // 燃費
  bool isEngineRunning;  // エンジン状態
}
</code></pre>
<ol start="2">
<li>正しいのは <code>MusicPlayer</code> です（パスカルケース）</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="オブジェクトの作成と使用"><a class="header" href="#オブジェクトの作成と使用">オブジェクトの作成と使用</a></h1>
<p>前の章で、クラス（設計図）の作り方を学びました。今度は、その設計図を使って実際のオブジェクト（実体）を作る方法を学んでいきましょう！</p>
<h2 id="オブジェクトを作ってみよう"><a class="header" href="#オブジェクトを作ってみよう">オブジェクトを作ってみよう</a></h2>
<p>まず、前回作った犬のクラスを使ってみましょう：</p>
<pre><code class="language-javascript">class Dog {
  String name = "";
  int age = 0;
  String breed = "";
}
</code></pre>
<p>このクラスから実際の犬オブジェクトを作るには、次のように書きます：</p>
<pre><code class="language-javascript">void main() {
  // 犬オブジェクトを作成
  Dog myDog = Dog();
  
  print("犬を作りました！");
}
</code></pre>
<h3 id="オブジェクト作成の構文"><a class="header" href="#オブジェクト作成の構文">オブジェクト作成の構文</a></h3>
<pre><code class="language-javascript">クラス名 変数名 = クラス名();
</code></pre>
<p>たい焼きの例で考えると：</p>
<ul>
<li><code>Dog()</code>：たい焼きの型で実際にたい焼きを作る</li>
<li><code>myDog</code>：作ったたい焼きに「myDog」という名前をつける</li>
</ul>
<h2 id="オブジェクトのフィールドにアクセスする"><a class="header" href="#オブジェクトのフィールドにアクセスする">オブジェクトのフィールドにアクセスする</a></h2>
<p>作ったオブジェクトの情報を設定したり、読み取ったりしてみましょう：</p>
<pre><code class="language-javascript">void main() {
  // 犬オブジェクトを作成
  Dog myDog = Dog();
  
  // フィールドに値を設定（ドット記法）
  myDog.name = "ポチ";
  myDog.age = 3;
  myDog.breed = "柴犬";
  
  // フィールドの値を読み取り
  print("名前: ${myDog.name}");
  print("年齢: ${myDog.age}歳");
  print("品種: ${myDog.breed}");
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>名前: ポチ
年齢: 3歳
品種: 柴犬
</code></pre>
<h3 id="ドット記法"><a class="header" href="#ドット記法">ドット記法（.）</a></h3>
<p>オブジェクトのフィールドには「<strong>ドット記法</strong>」でアクセスします：</p>
<pre><code class="language-javascript">オブジェクト名.フィールド名
</code></pre>
<p>これは「オブジェクト名の中にあるフィールド名」という意味です。</p>
<h2 id="複数のオブジェクトを作る"><a class="header" href="#複数のオブジェクトを作る">複数のオブジェクトを作る</a></h2>
<p>同じクラスから複数のオブジェクトを作ることができます：</p>
<pre><code class="language-javascript">void main() {
  // 1匹目の犬
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  dog1.age = 3;
  dog1.breed = "柴犬";
  
  // 2匹目の犬
  Dog dog2 = Dog();
  dog2.name = "ハチ";
  dog2.age = 5;
  dog2.breed = "秋田犬";
  
  // 3匹目の犬
  Dog dog3 = Dog();
  dog3.name = "モコ";
  dog3.age = 1;
  dog3.breed = "プードル";
  
  // 全ての犬の情報を表示
  print("1匹目: ${dog1.name}, ${dog1.age}歳, ${dog1.breed}");
  print("2匹目: ${dog2.name}, ${dog2.age}歳, ${dog2.breed}");
  print("3匹目: ${dog3.name}, ${dog3.age}歳, ${dog3.breed}");
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>1匹目: ポチ, 3歳, 柴犬
2匹目: ハチ, 5歳, 秋田犬
3匹目: モコ, 1歳, プードル
</code></pre>
<p>なるほど！一つのクラス（設計図）から、異なる情報を持つ複数のオブジェクト（実体）を作れるんですね。</p>
<h2 id="より実践的な例"><a class="header" href="#より実践的な例">より実践的な例</a></h2>
<p>学生クラスを使った例も見てみましょう：</p>
<pre><code class="language-javascript">class Student {
  String name = "";
  int grade = 1;
  int studentId = 0;
  double gpa = 0.0;
}

void main() {
  // 学生オブジェクトを作成
  Student alice = Student();
  alice.name = "Alice";
  alice.grade = 2;
  alice.studentId = 12345;
  alice.gpa = 3.8;
  
  Student bob = Student();
  bob.name = "Bob";
  bob.grade = 3;
  bob.studentId = 67890;
  bob.gpa = 3.2;
  
  // 学生情報を表示
  print("=== 学生一覧 ===");
  print("${alice.name}: ${alice.grade}年生, ID: ${alice.studentId}, GPA: ${alice.gpa}");
  print("${bob.name}: ${bob.grade}年生, ID: ${bob.studentId}, GPA: ${bob.gpa}");
}
</code></pre>
<h2 id="オブジェクトをリストで管理する"><a class="header" href="#オブジェクトをリストで管理する">オブジェクトをリストで管理する</a></h2>
<p>たくさんのオブジェクトがある場合は、リストで管理すると便利です：</p>
<pre><code class="language-javascript">void main() {
  // 犬のリストを作成
  List&lt;Dog&gt; dogs = [];
  
  // 犬を作ってリストに追加
  Dog pochi = Dog();
  pochi.name = "ポチ";
  pochi.age = 3;
  pochi.breed = "柴犬";
  dogs.add(pochi);
  
  Dog hachi = Dog();
  hachi.name = "ハチ";
  hachi.age = 5;
  hachi.breed = "秋田犬";
  dogs.add(hachi);
  
  // リストの全ての犬を表示
  print("=== ペットショップの犬たち ===");
  for (int i = 0; i &lt; dogs.length; i++) {
    Dog currentDog = dogs[i];
    print("${i + 1}. ${currentDog.name} (${currentDog.age}歳, ${currentDog.breed})");
  }
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>=== ペットショップの犬たち ===
1. ポチ (3歳, 柴犬)
2. ハチ (5歳, 秋田犬)
</code></pre>
<h2 id="より簡潔な書き方"><a class="header" href="#より簡潔な書き方">より簡潔な書き方</a></h2>
<p>オブジェクトを作ってすぐに値を設定する場合、次のように書くこともできます：</p>
<pre><code class="language-javascript">void main() {
  // 作成と設定を分ける場合
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  dog1.age = 3;
  
  // より簡潔に書く場合
  Dog dog2 = Dog()
    ..name = "ハチ"
    ..age = 5
    ..breed = "秋田犬";
    
  print("${dog1.name}, ${dog1.age}歳");
  print("${dog2.name}, ${dog2.age}歳, ${dog2.breed}");
}
</code></pre>
<p><code>..</code> は「<strong>カスケード記法</strong>」と呼ばれ、同じオブジェクトに対して連続して操作を行う時に使います。</p>
<h2 id="練習してみよう"><a class="header" href="#練習してみよう">練習してみよう</a></h2>
<h3 id="練習1本オブジェクトを作る"><a class="header" href="#練習1本オブジェクトを作る">練習1：本オブジェクトを作る</a></h3>
<p>前回作った Book クラスを使って、実際の本オブジェクトを作ってみてください：</p>
<pre><code class="language-javascript">class Book {
  String title = "";
  String author = "";
  int pages = 0;
  double price = 0.0;
  bool isFinished = false;
}

void main() {
  // ここに本オブジェクトを作るコードを書いてください
  // 好きな本の情報を設定してください
}
</code></pre>
<p><strong>答えの例</strong>：</p>
<pre><code class="language-javascript">void main() {
  Book myBook = Book();
  myBook.title = "プログラミング入門";
  myBook.author = "田中太郎";
  myBook.pages = 300;
  myBook.price = 2500.0;
  myBook.isFinished = false;
  
  print("タイトル: ${myBook.title}");
  print("著者: ${myBook.author}");
  print("ページ数: ${myBook.pages}ページ");
  print("価格: ${myBook.price}円");
  print("読み終わった: ${myBook.isFinished ? 'はい' : 'いいえ'}");
}
</code></pre>
<h3 id="練習2複数の本を管理する"><a class="header" href="#練習2複数の本を管理する">練習2：複数の本を管理する</a></h3>
<p>3冊の本オブジェクトを作って、リストで管理してみてください：</p>
<p><strong>答えの例</strong>：</p>
<pre><code class="language-javascript">void main() {
  List&lt;Book&gt; books = [];
  
  // 1冊目
  Book book1 = Book()
    ..title = "Dart入門"
    ..author = "佐藤花子"
    ..pages = 250
    ..price = 2000.0
    ..isFinished = true;
  books.add(book1);
  
  // 2冊目
  Book book2 = Book()
    ..title = "オブジェクト指向"
    ..author = "山田次郎"
    ..pages = 400
    ..price = 3200.0
    ..isFinished = false;
  books.add(book2);
  
  // 3冊目
  Book book3 = Book()
    ..title = "アプリ開発"
    ..author = "鈴木三郎"
    ..pages = 350
    ..price = 2800.0
    ..isFinished = false;
  books.add(book3);
  
  // 全ての本を表示
  print("=== 本棚の本たち ===");
  for (int i = 0; i &lt; books.length; i++) {
    Book book = books[i];
    String status = book.isFinished ? "読了" : "未読";
    print("${i + 1}. 「${book.title}」 著者: ${book.author} (${status})");
  }
}
</code></pre>
<h2 id="オブジェクトの比較"><a class="header" href="#オブジェクトの比較">オブジェクトの比較</a></h2>
<p>オブジェクト同士を比較する時は注意が必要です：</p>
<pre><code class="language-javascript">void main() {
  Dog dog1 = Dog();
  dog1.name = "ポチ";
  
  Dog dog2 = Dog();
  dog2.name = "ポチ";
  
  // これはfalseになります！
  print(dog1 == dog2);  // false
  
  // 内容を比較したい場合は、フィールドを個別に比較
  bool sameName = (dog1.name == dog2.name);
  print("名前が同じ: $sameName");  // true
}
</code></pre>
<p>オブジェクトの <code>==</code> 比較は、同じインスタンス（同じメモリ上のオブジェクト）かどうかを判定します。内容が同じでも、別々に作ったオブジェクトは異なるものとして扱われます。</p>
<h2 id="まとめ-40"><a class="header" href="#まとめ-40">まとめ</a></h2>
<p>この章では、クラスからオブジェクトを作成し、使用する方法を学びました：</p>
<ol>
<li><strong>オブジェクト作成</strong>：<code>クラス名 変数名 = クラス名();</code></li>
<li><strong>フィールドアクセス</strong>：ドット記法（<code>オブジェクト.フィールド</code>）</li>
<li><strong>複数オブジェクト</strong>：同じクラスから異なる情報を持つオブジェクトを作成</li>
<li><strong>リスト管理</strong>：オブジェクトをリストで管理</li>
<li><strong>カスケード記法</strong>：<code>..</code> で連続操作</li>
<li><strong>オブジェクト比較</strong>：インスタンスの同一性 vs. 内容の比較</li>
</ol>
<p>次の章では、オブジェクトに「行動」を追加する方法（メソッド）を学びます。オブジェクトがただデータを持つだけでなく、何かができるようになりますよ！</p>
<h2 id="練習問題-32"><a class="header" href="#練習問題-32">練習問題</a></h2>
<ol>
<li>次のコードの実行結果を予想してください：</li>
</ol>
<pre><code class="language-javascript">class Car {
  String model = "";
  int year = 0;
}

void main() {
  Car car1 = Car();
  car1.model = "プリウス";
  car1.year = 2022;
  
  Car car2 = Car();
  car2.model = "アクア";
  car2.year = 2021;
  
  print("${car1.model} (${car1.year}年式)");
  print("${car2.model} (${car2.year}年式)");
}
</code></pre>
<ol start="2">
<li>スマートフォンクラスを使って、2台のスマートフォンオブジェクトを作り、それぞれの情報を表示するプログラムを書いてください。</li>
</ol>
<p><strong>答え</strong>：</p>
<ol>
<li>実行結果：</li>
</ol>
<pre><code>プリウス (2022年式)
アクア (2021年式)
</code></pre>
<ol start="2">
<li>スマートフォンの例：</li>
</ol>
<pre><code class="language-javascript">class Smartphone {
  String model = "";
  String color = "";
  int batteryLevel = 100;
  bool isPoweredOn = false;
}

void main() {
  Smartphone phone1 = Smartphone()
    ..model = "iPhone 14"
    ..color = "ブルー"
    ..batteryLevel = 85
    ..isPoweredOn = true;
    
  Smartphone phone2 = Smartphone()
    ..model = "Galaxy S23"
    ..color = "ブラック"
    ..batteryLevel = 92
    ..isPoweredOn = false;
    
  print("スマートフォン1: ${phone1.model} (${phone1.color})");
  print("バッテリー: ${phone1.batteryLevel}% 電源: ${phone1.isPoweredOn ? 'ON' : 'OFF'}");
  
  print("スマートフォン2: ${phone2.model} (${phone2.color})");
  print("バッテリー: ${phone2.batteryLevel}% 電源: ${phone2.isPoweredOn ? 'ON' : 'OFF'}");
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="フィールドとメソッド"><a class="header" href="#フィールドとメソッド">フィールドとメソッド</a></h1>
<p>これまでの章で、オブジェクトに「データ」（フィールド）を持たせる方法を学びました。今度は、オブジェクトに「行動」（メソッド）を追加する方法を学んでいきましょう！</p>
<h2 id="現実世界での持っているものとできること"><a class="header" href="#現実世界での持っているものとできること">現実世界での「持っているもの」と「できること」</a></h2>
<p>現実世界の物事を考える時、私たちは自然に次の2つに分けて考えます：</p>
<h3 id="犬の例"><a class="header" href="#犬の例">犬の例</a></h3>
<ul>
<li><strong>持っているもの</strong>（属性）：名前、年齢、品種、色...</li>
<li><strong>できること</strong>（行動）：鳴く、走る、食べる、寝る...</li>
</ul>
<h3 id="スマートフォンの例"><a class="header" href="#スマートフォンの例">スマートフォンの例</a></h3>
<ul>
<li><strong>持っているもの</strong>（属性）：機種名、色、バッテリー残量...</li>
<li><strong>できること</strong>（行動）：電話をかける、写真を撮る、アプリを起動する...</li>
</ul>
<p>プログラムでも、この考え方をそのまま使えます！</p>
<h2 id="フィールド-vs-メソッド"><a class="header" href="#フィールド-vs-メソッド">フィールド vs. メソッド</a></h2>
<pre><code class="language-javascript">class Dog {
  // フィールド（持っているもの / データ）
  String name = "";
  int age = 0;
  String breed = "";
  
  // メソッド（できること / 行動）
  void bark() {
    print("ワンワン！");
  }
  
  void eat() {
    print("${name}がご飯を食べています");
  }
}
</code></pre>
<h3 id="フィールドfield"><a class="header" href="#フィールドfield">フィールド（Field）</a></h3>
<ul>
<li>オブジェクトが<strong>持っている情報</strong></li>
<li>データを保存する変数</li>
<li>例：<code>String name</code>, <code>int age</code></li>
</ul>
<h3 id="メソッドmethod"><a class="header" href="#メソッドmethod">メソッド（Method）</a></h3>
<ul>
<li>オブジェクトが<strong>できる行動</strong></li>
<li>処理を実行する関数</li>
<li>例：<code>bark()</code>, <code>eat()</code></li>
</ul>
<h2 id="最初のメソッドを作ってみよう"><a class="header" href="#最初のメソッドを作ってみよう">最初のメソッドを作ってみよう</a></h2>
<p>シンプルな犬クラスにメソッドを追加してみましょう：</p>
<pre><code class="language-javascript">class Dog {
  String name = "";
  int age = 0;
  
  // 鳴くメソッド
  void bark() {
    print("ワンワン！");
  }
  
  // 自己紹介メソッド
  void introduce() {
    print("こんにちは！僕の名前は${name}です。${age}歳です。");
  }
}

void main() {
  Dog pochi = Dog();
  pochi.name = "ポチ";
  pochi.age = 3;
  
  // メソッドを呼び出す
  pochi.bark();       // ワンワン！
  pochi.introduce();  // こんにちは！僕の名前はポチです。3歳です。
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>ワンワン！
こんにちは！僕の名前はポチです。3歳です。
</code></pre>
<h3 id="メソッド呼び出しの構文"><a class="header" href="#メソッド呼び出しの構文">メソッド呼び出しの構文</a></h3>
<pre><code class="language-javascript">オブジェクト名.メソッド名();
</code></pre>
<p>フィールドにアクセスする時と同じドット記法を使いますが、メソッドの場合は最後に <code>()</code> が付きます。</p>
<h2 id="メソッドの基本構文"><a class="header" href="#メソッドの基本構文">メソッドの基本構文</a></h2>
<pre><code class="language-javascript">戻り値の型 メソッド名() {
  // 処理内容
}
</code></pre>
<h3 id="void-メソッド"><a class="header" href="#void-メソッド">void メソッド</a></h3>
<p><code>void</code> は「何も返さない」という意味です：</p>
<pre><code class="language-javascript">void greet() {
  print("こんにちは！");
}
</code></pre>
<h2 id="パラメータ引数のあるメソッド"><a class="header" href="#パラメータ引数のあるメソッド">パラメータ（引数）のあるメソッド</a></h2>
<p>メソッドに情報を渡すことができます：</p>
<pre><code class="language-javascript">class Dog {
  String name = "";
  
  // 名前を指定して挨拶
  void greetTo(String friendName) {
    print("${name}：こんにちは、${friendName}さん！");
  }
  
  // 回数を指定して鳴く
  void barkTimes(int count) {
    for (int i = 0; i &lt; count; i++) {
      print("ワン！");
    }
  }
}

void main() {
  Dog pochi = Dog();
  pochi.name = "ポチ";
  
  pochi.greetTo("ハチ");    // ポチ：こんにちは、ハチさん！
  pochi.barkTimes(3);       // ワン！ワン！ワン！
}
</code></pre>
<h2 id="戻り値のあるメソッド"><a class="header" href="#戻り値のあるメソッド">戻り値のあるメソッド</a></h2>
<p>メソッドから値を返すことができます：</p>
<pre><code class="language-javascript">class Dog {
  String name = "";
  int age = 0;
  
  // 人間年齢を計算して返す
  int getHumanAge() {
    return age * 7;  // 犬の年齢 × 7 = 人間年齢（簡易計算）
  }
  
  // 挨拶文を作って返す
  String createGreeting() {
    return "僕は${name}、${age}歳です！";
  }
  
  // 大人かどうかを判定
  bool isAdult() {
    return age &gt;= 2;  // 2歳以上は大人
  }
}

void main() {
  Dog pochi = Dog();
  pochi.name = "ポチ";
  pochi.age = 3;
  
  int humanAge = pochi.getHumanAge();
  print("${pochi.name}の人間年齢は${humanAge}歳です");
  
  String greeting = pochi.createGreeting();
  print(greeting);
  
  bool adult = pochi.isAdult();
  print("大人？ ${adult ? 'はい' : 'いいえ'}");
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>ポチの人間年齢は21歳です
僕はポチ、3歳です！
大人？ はい
</code></pre>
<h2 id="より実践的な例銀行口座クラス"><a class="header" href="#より実践的な例銀行口座クラス">より実践的な例：銀行口座クラス</a></h2>
<pre><code class="language-javascript">class BankAccount {
  String accountHolder = "";  // 口座名義
  double balance = 0.0;       // 残高
  
  // 入金メソッド
  void deposit(double amount) {
    if (amount &gt; 0) {
      balance += amount;
      print("${amount}円を入金しました。残高: ${balance}円");
    } else {
      print("入金額は0円より大きくしてください");
    }
  }
  
  // 出金メソッド
  bool withdraw(double amount) {
    if (amount &lt;= 0) {
      print("出金額は0円より大きくしてください");
      return false;
    } else if (amount &gt; balance) {
      print("残高不足です。残高: ${balance}円");
      return false;
    } else {
      balance -= amount;
      print("${amount}円を出金しました。残高: ${balance}円");
      return true;
    }
  }
  
  // 残高照会メソッド
  double getBalance() {
    return balance;
  }
  
  // 口座情報表示メソッド
  void showAccountInfo() {
    print("=== 口座情報 ===");
    print("名義: ${accountHolder}");
    print("残高: ${balance}円");
  }
}

void main() {
  BankAccount account = BankAccount();
  account.accountHolder = "田中太郎";
  
  account.showAccountInfo();
  
  account.deposit(10000);    // 1万円入金
  account.deposit(5000);     // 5千円入金
  account.withdraw(3000);    // 3千円出金
  account.withdraw(20000);   // 残高不足
  
  account.showAccountInfo();
}
</code></pre>
<p><strong>実行結果</strong>：</p>
<pre><code>=== 口座情報 ===
名義: 田中太郎
残高: 0.0円
10000.0円を入金しました。残高: 10000.0円
5000.0円を入金しました。残高: 15000.0円
3000.0円を出金しました。残高: 12000.0円
残高不足です。残高: 12000.0円
=== 口座情報 ===
名義: 田中太郎
残高: 12000.0円
</code></pre>
<h2 id="メソッドからフィールドにアクセス"><a class="header" href="#メソッドからフィールドにアクセス">メソッドからフィールドにアクセス</a></h2>
<p>メソッドの中では、同じオブジェクトのフィールドに自由にアクセスできます：</p>
<pre><code class="language-javascript">class Student {
  String name = "";
  List&lt;int&gt; scores = [];
  
  // テストの点数を追加
  void addScore(int score) {
    scores.add(score);  // フィールド scores にアクセス
    print("${name}のテスト結果：${score}点を追加しました");
  }
  
  // 平均点を計算
  double calculateAverage() {
    if (scores.isEmpty) {
      return 0.0;
    }
    
    int total = 0;
    for (int score in scores) {
      total += score;
    }
    
    return total / scores.length;
  }
  
  // 成績評価
  String getGrade() {
    double average = calculateAverage();  // 他のメソッドを呼び出し
    
    if (average &gt;= 90) {
      return "A";
    } else if (average &gt;= 80) {
      return "B";
    } else if (average &gt;= 70) {
      return "C";
    } else if (average &gt;= 60) {
      return "D";
    } else {
      return "F";
    }
  }
}

void main() {
  Student alice = Student();
  alice.name = "Alice";
  
  alice.addScore(85);
  alice.addScore(92);
  alice.addScore(78);
  
  double average = alice.calculateAverage();
  String grade = alice.getGrade();
  
  print("${alice.name}の平均点: ${average.toStringAsFixed(1)}点");
  print("評価: ${grade}");
}
</code></pre>
<h2 id="練習してみよう-1"><a class="header" href="#練習してみよう-1">練習してみよう</a></h2>
<h3 id="練習1計算機クラス"><a class="header" href="#練習1計算機クラス">練習1：計算機クラス</a></h3>
<pre><code class="language-javascript">class Calculator {
  double result = 0.0;  // 計算結果を保存
  
  // ここにメソッドを追加してください：
  // 1. add(double value) - 値を足す
  // 2. subtract(double value) - 値を引く
  // 3. multiply(double value) - 値をかける
  // 4. divide(double value) - 値で割る
  // 5. clear() - 結果をリセット
  // 6. getResult() - 現在の結果を返す
}
</code></pre>
<p><strong>答えの例</strong>：</p>
<pre><code class="language-javascript">class Calculator {
  double result = 0.0;
  
  void add(double value) {
    result += value;
    print("+ ${value} = ${result}");
  }
  
  void subtract(double value) {
    result -= value;
    print("- ${value} = ${result}");
  }
  
  void multiply(double value) {
    result *= value;
    print("× ${value} = ${result}");
  }
  
  void divide(double value) {
    if (value != 0) {
      result /= value;
      print("÷ ${value} = ${result}");
    } else {
      print("エラー: 0で割ることはできません");
    }
  }
  
  void clear() {
    result = 0.0;
    print("計算結果をリセットしました");
  }
  
  double getResult() {
    return result;
  }
}

void main() {
  Calculator calc = Calculator();
  
  calc.add(10);        // + 10.0 = 10.0
  calc.multiply(3);    // × 3.0 = 30.0
  calc.subtract(5);    // - 5.0 = 25.0
  calc.divide(5);      // ÷ 5.0 = 5.0
  
  print("最終結果: ${calc.getResult()}");
}
</code></pre>
<h3 id="練習2タイマークラス"><a class="header" href="#練習2タイマークラス">練習2：タイマークラス</a></h3>
<p>時間をカウントするタイマークラスを作ってみてください：</p>
<pre><code class="language-javascript">class Timer {
  int seconds = 0;
  
  // start() - タイマー開始メッセージ
  // tick() - 1秒進める
  // reset() - 0秒にリセット
  // getTime() - 現在時刻を返す
  // isTimeUp(int target) - 指定時間に達したかチェック
}
</code></pre>
<h2 id="ゲッターとセッター"><a class="header" href="#ゲッターとセッター">ゲッターとセッター</a></h2>
<p>フィールドへの安全なアクセスを提供するメソッドパターン：</p>
<pre><code class="language-javascript">class Person {
  String _name = "";  // プライベートフィールド（_で始まる）
  int _age = 0;
  
  // ゲッター（値を取得）
  String getName() {
    return _name;
  }
  
  int getAge() {
    return _age;
  }
  
  // セッター（値を設定）
  void setName(String name) {
    if (name.isNotEmpty) {
      _name = name;
    } else {
      print("名前は空にできません");
    }
  }
  
  void setAge(int age) {
    if (age &gt;= 0 &amp;&amp; age &lt;= 120) {
      _age = age;
    } else {
      print("年齢は0-120歳の範囲で設定してください");
    }
  }
}
</code></pre>
<h2 id="まとめ-41"><a class="header" href="#まとめ-41">まとめ</a></h2>
<p>この章では、オブジェクトに行動（メソッド）を追加する方法を学びました：</p>
<ol>
<li><strong>メソッドの基本</strong>：<code>戻り値の型 メソッド名() { }</code></li>
<li><strong>void メソッド</strong>：何も返さないメソッド</li>
<li><strong>パラメータ</strong>：メソッドに情報を渡す</li>
<li><strong>戻り値</strong>：メソッドから結果を受け取る</li>
<li><strong>フィールドアクセス</strong>：メソッド内でフィールドを使用</li>
<li><strong>実践的な例</strong>：銀行口座、学生成績管理など</li>
</ol>
<p>オブジェクトは今や、データを持つだけでなく、そのデータを使って様々な処理ができるようになりました！</p>
<p>次の章では、これらの知識を使って実際のペット管理アプリを作ってみます。今まで学んだことが全て一つの形になりますよ！</p>
<h2 id="練習問題-33"><a class="header" href="#練習問題-33">練習問題</a></h2>
<ol>
<li>次のコードで、<code>pochi.getHumanAge()</code> の戻り値は何でしょうか？</li>
</ol>
<pre><code class="language-javascript">class Dog {
  int age = 0;
  
  int getHumanAge() {
    return age * 7;
  }
}

void main() {
  Dog pochi = Dog();
  pochi.age = 4;
  
  int result = pochi.getHumanAge();
  print(result);
}
</code></pre>
<ol start="2">
<li>図書館の本を管理するBookクラスに、以下のメソッドを追加してください：
<ul>
<li><code>borrow()</code> - 本を借りる（借用中フラグをtrueにする）</li>
<li><code>returnBook()</code> - 本を返却する（借用中フラグをfalseにする）</li>
<li><code>isAvailable()</code> - 貸し出し可能かチェック（借用中でなければtrue）</li>
</ul>
</li>
</ol>
<p><strong>答え</strong>：</p>
<ol>
<li>
<p>戻り値は <code>28</code> です（4 × 7 = 28）</p>
</li>
<li>
<p>図書館の本クラス：</p>
</li>
</ol>
<pre><code class="language-javascript">class Book {
  String title = "";
  String author = "";
  bool isBorrowed = false;
  
  void borrow() {
    if (!isBorrowed) {
      isBorrowed = true;
      print("「${title}」を借りました");
    } else {
      print("「${title}」は既に貸し出し中です");
    }
  }
  
  void returnBook() {
    if (isBorrowed) {
      isBorrowed = false;
      print("「${title}」を返却しました");
    } else {
      print("「${title}」は貸し出されていません");
    }
  }
  
  bool isAvailable() {
    return !isBorrowed;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="実践ペット管理アプリ"><a class="header" href="#実践ペット管理アプリ">実践：ペット管理アプリ</a></h1>
<p>これまでの章で学んだオブジェクト指向プログラミングの知識を全て使って、実際のペット管理アプリを作ってみましょう！このアプリでは、ペットショップの動物たちを管理する機能を実装します。</p>
<h2 id="アプリの仕様"><a class="header" href="#アプリの仕様">アプリの仕様</a></h2>
<p>作成するペット管理アプリには、以下の機能があります：</p>
<ol>
<li><strong>ペットの登録</strong> - 新しいペットを追加</li>
<li><strong>ペット一覧表示</strong> - 全てのペットの情報を表示</li>
<li><strong>ペット検索</strong> - 名前でペットを検索</li>
<li><strong>ペットのお世話</strong> - 餌やり、遊び、健康チェック</li>
<li><strong>ペット情報更新</strong> - 年齢やその他の情報を更新</li>
</ol>
<h2 id="ステップ1ペットクラスの設計"><a class="header" href="#ステップ1ペットクラスの設計">ステップ1：ペットクラスの設計</a></h2>
<p>まず、ペットを表現するクラスを作りましょう：</p>
<pre><code class="language-javascript">class Pet {
  String name = "";           // 名前
  String species = "";        // 種類（犬、猫、うさぎなど）
  String breed = "";          // 品種
  int age = 0;               // 年齢
  String color = "";         // 毛色
  int hunger = 50;           // 空腹度（0-100、100が最も空腹）
  int happiness = 50;        // 幸福度（0-100、100が最も幸せ）
  int health = 100;          // 健康度（0-100、100が最も健康）
  bool isAdopted = false;    // 里親が見つかったかどうか
  
  // ペットの基本情報を表示
  void showInfo() {
    print("=== ${name}の情報 ===");
    print("種類: ${species}");
    print("品種: ${breed}");
    print("年齢: ${age}歳");
    print("毛色: ${color}");
    print("状態: ${isAdopted ? '里親決定済み' : '里親募集中'}");
    showStatus();
  }
  
  // ペットの状態（空腹度、幸福度、健康度）を表示
  void showStatus() {
    print("--- 状態 ---");
    print("空腹度: ${hunger}/100 ${_getHungerStatus()}");
    print("幸福度: ${happiness}/100 ${_getHappinessStatus()}");
    print("健康度: ${health}/100 ${_getHealthStatus()}");
  }
  
  // 空腹度の状態を文字で表現
  String _getHungerStatus() {
    if (hunger &gt;= 80) return "（とても空腹）";
    if (hunger &gt;= 60) return "（空腹）";
    if (hunger &gt;= 40) return "（少し空腹）";
    if (hunger &gt;= 20) return "（満足）";
    return "（満腹）";
  }
  
  // 幸福度の状態を文字で表現
  String _getHappinessStatus() {
    if (happiness &gt;= 80) return "（とても幸せ）";
    if (happiness &gt;= 60) return "（幸せ）";
    if (happiness &gt;= 40) return "（普通）";
    if (happiness &gt;= 20) return "（少し寂しい）";
    return "（とても寂しい）";
  }
  
  // 健康度の状態を文字で表現
  String _getHealthStatus() {
    if (health &gt;= 90) return "（とても健康）";
    if (health &gt;= 70) return "（健康）";
    if (health &gt;= 50) return "（普通）";
    if (health &gt;= 30) return "（少し不調）";
    return "（要治療）";
  }
  
  // 餌やり
  void feed() {
    if (hunger &lt;= 10) {
      print("${name}はお腹いっぱいで、これ以上食べられません。");
      return;
    }
    
    hunger = (hunger - 30).clamp(0, 100);
    happiness = (happiness + 10).clamp(0, 100);
    health = (health + 5).clamp(0, 100);
    
    print("${name}に餌をあげました！");
    print("${name}は嬉しそうに食べています♪");
  }
  
  // 遊ぶ
  void play() {
    if (happiness &gt;= 90) {
      print("${name}は既にとても幸せで、これ以上遊ぶ必要がありません。");
      return;
    }
    
    happiness = (happiness + 25).clamp(0, 100);
    hunger = (hunger + 15).clamp(0, 100);
    health = (health + 10).clamp(0, 100);
    
    print("${name}と遊びました！");
    print("${name}はとても楽しそうです♪");
  }
  
  // 健康チェック
  void healthCheck() {
    print("${name}の健康チェックを行いました。");
    
    if (health &gt;= 90) {
      print("とても健康です！");
    } else if (health &gt;= 70) {
      print("健康状態は良好です。");
    } else if (health &gt;= 50) {
      print("健康状態は普通です。");
    } else if (health &gt;= 30) {
      print("少し体調が悪いようです。様子を見ましょう。");
      health = (health + 10).clamp(0, 100);  // 少し回復
    } else {
      print("健康状態が悪いです。治療が必要です！");
      health = (health + 20).clamp(0, 100);  // 治療効果
    }
  }
  
  // 里親が決まる
  void adopt() {
    if (isAdopted) {
      print("${name}は既に里親が決まっています。");
    } else {
      isAdopted = true;
      print("${name}の里親が決まりました！おめでとう！");
    }
  }
  
  // 時間が経つ（自動的に状態が変化）
  void passTime() {
    hunger = (hunger + 10).clamp(0, 100);
    happiness = (happiness - 5).clamp(0, 100);
    
    // 空腹すぎると健康度が下がる
    if (hunger &gt;= 90) {
      health = (health - 10).clamp(0, 100);
    }
    
    // 幸福度が低すぎると健康度が下がる
    if (happiness &lt;= 20) {
      health = (health - 5).clamp(0, 100);
    }
  }
}
</code></pre>
<h2 id="ステップ2ペット管理システムクラス"><a class="header" href="#ステップ2ペット管理システムクラス">ステップ2：ペット管理システムクラス</a></h2>
<p>複数のペットを管理するシステムクラスを作りましょう：</p>
<pre><code class="language-javascript">class PetManagementSystem {
  List&lt;Pet&gt; pets = [];         // ペットのリスト
  int nextId = 1;             // 次のペットID
  
  // 新しいペットを登録
  void registerPet(String name, String species, String breed, int age, String color) {
    Pet newPet = Pet()
      ..name = name
      ..species = species
      ..breed = breed
      ..age = age
      ..color = color;
    
    pets.add(newPet);
    print("新しいペット「${name}」を登録しました！");
    print("");
  }
  
  // 全ペットの一覧を表示
  void showAllPets() {
    if (pets.isEmpty) {
      print("登録されているペットはいません。");
      return;
    }
    
    print("=== ペット一覧 ===");
    for (int i = 0; i &lt; pets.length; i++) {
      Pet pet = pets[i];
      String status = pet.isAdopted ? "里親決定済み" : "里親募集中";
      print("${i + 1}. ${pet.name} (${pet.species}, ${pet.age}歳) - ${status}");
    }
    print("");
  }
  
  // ペットを名前で検索
  Pet? findPetByName(String name) {
    for (Pet pet in pets) {
      if (pet.name.toLowerCase() == name.toLowerCase()) {
        return pet;
      }
    }
    return null;
  }
  
  // ペットの詳細情報を表示
  void showPetDetails(String name) {
    Pet? pet = findPetByName(name);
    if (pet != null) {
      pet.showInfo();
    } else {
      print("「${name}」という名前のペットは見つかりませんでした。");
    }
    print("");
  }
  
  // ペットに餌をあげる
  void feedPet(String name) {
    Pet? pet = findPetByName(name);
    if (pet != null) {
      pet.feed();
    } else {
      print("「${name}」という名前のペットは見つかりませんでした。");
    }
    print("");
  }
  
  // ペットと遊ぶ
  void playWithPet(String name) {
    Pet? pet = findPetByName(name);
    if (pet != null) {
      pet.play();
    } else {
      print("「${name}」という名前のペットは見つかりませんでした。");
    }
    print("");
  }
  
  // ペットの健康チェック
  void checkPetHealth(String name) {
    Pet? pet = findPetByName(name);
    if (pet != null) {
      pet.healthCheck();
    } else {
      print("「${name}」という名前のペットは見つかりませんでした。");
    }
    print("");
  }
  
  // ペットの里親を決める
  void adoptPet(String name) {
    Pet? pet = findPetByName(name);
    if (pet != null) {
      pet.adopt();
    } else {
      print("「${name}」という名前のペットは見つかりませんでした。");
    }
    print("");
  }
  
  // 時間を進める（全ペットの状態が変化）
  void passTime() {
    print("時間が経ちました...");
    for (Pet pet in pets) {
      pet.passTime();
    }
    print("全てのペットの状態が変化しました。");
    print("");
  }
  
  // 里親募集中のペット数を取得
  int getAvailablePetsCount() {
    int count = 0;
    for (Pet pet in pets) {
      if (!pet.isAdopted) {
        count++;
      }
    }
    return count;
  }
  
  // 統計情報を表示
  void showStatistics() {
    print("=== 統計情報 ===");
    print("総ペット数: ${pets.length}匹");
    print("里親募集中: ${getAvailablePetsCount()}匹");
    print("里親決定済み: ${pets.length - getAvailablePetsCount()}匹");
    print("");
  }
}
</code></pre>
<h2 id="ステップ3メインアプリケーション"><a class="header" href="#ステップ3メインアプリケーション">ステップ3：メインアプリケーション</a></h2>
<p>実際にアプリを動かしてみましょう：</p>
<pre><code class="language-javascript">void main() {
  // ペット管理システムを作成
  PetManagementSystem system = PetManagementSystem();
  
  print("🐾 ペットショップ管理アプリへようこそ！ 🐾");
  print("");
  
  // サンプルペットを登録
  print("--- サンプルペットを登録中... ---");
  system.registerPet("ポチ", "犬", "柴犬", 3, "茶色");
  system.registerPet("ミケ", "猫", "三毛猫", 2, "三毛");
  system.registerPet("ふわり", "うさぎ", "ロップイヤー", 1, "白");
  system.registerPet("ハチ", "犬", "秋田犬", 5, "茶白");
  
  // ペット一覧を表示
  system.showAllPets();
  
  // 統計情報を表示
  system.showStatistics();
  
  // ポチの詳細情報を見る
  print("--- ポチの詳細情報 ---");
  system.showPetDetails("ポチ");
  
  // ポチと遊ぶ
  print("--- ポチと遊ぶ ---");
  system.playWithPet("ポチ");
  system.showPetDetails("ポチ");
  
  // ミケに餌をあげる
  print("--- ミケに餌をあげる ---");
  system.feedPet("ミケ");
  system.showPetDetails("ミケ");
  
  // ふわりの健康チェック
  print("--- ふわりの健康チェック ---");
  system.checkPetHealth("ふわり");
  
  // 時間を進める
  print("--- 時間が経過 ---");
  system.passTime();
  
  // 再度ポチの状態を確認
  print("--- 時間経過後のポチの状態 ---");
  system.showPetDetails("ポチ");
  
  // ハチの里親が決まる
  print("--- ハチの里親決定 ---");
  system.adoptPet("ハチ");
  
  // 最終的な統計
  print("--- 最終統計 ---");
  system.showStatistics();
  system.showAllPets();
}
</code></pre>
<h2 id="実行結果の例"><a class="header" href="#実行結果の例">実行結果の例</a></h2>
<pre><code>🐾 ペットショップ管理アプリへようこそ！ 🐾

--- サンプルペットを登録中... ---
新しいペット「ポチ」を登録しました！

新しいペット「ミケ」を登録しました！

新しいペット「ふわり」を登録しました！

新しいペット「ハチ」を登録しました！

=== ペット一覧 ===
1. ポチ (犬, 3歳) - 里親募集中
2. ミケ (猫, 2歳) - 里親募集中
3. ふわり (うさぎ, 1歳) - 里親募集中
4. ハチ (犬, 5歳) - 里親募集中

=== 統計情報 ===
総ペット数: 4匹
里親募集中: 4匹
里親決定済み: 0匹

--- ポチの詳細情報 ---
=== ポチの情報 ===
種類: 犬
品種: 柴犬
年齢: 3歳
毛色: 茶色
状態: 里親募集中
--- 状態 ---
空腹度: 50/100 （普通）
幸福度: 50/100 （普通）
健康度: 100/100 （とても健康）

--- ポチと遊ぶ ---
ポチと遊びました！
ポチはとても楽しそうです♪

=== ポチの情報 ===
種類: 犬
品種: 柴犬
年齢: 3歳
毛色: 茶色
状態: 里親募集中
--- 状態 ---
空腹度: 65/100 （空腹）
幸福度: 75/100 （幸せ）
健康度: 100/100 （とても健康）
</code></pre>
<h2 id="拡張アイデア"><a class="header" href="#拡張アイデア">拡張アイデア</a></h2>
<p>このペット管理アプリは、さらに多くの機能を追加できます：</p>
<h3 id="1-ペットの種類別クラス"><a class="header" href="#1-ペットの種類別クラス">1. ペットの種類別クラス</a></h3>
<pre><code class="language-javascript">class Dog extends Pet {
  String favoriteActivity = "散歩";
  
  void walk() {
    print("${name}と散歩に行きました！");
    happiness = (happiness + 20).clamp(0, 100);
    health = (health + 15).clamp(0, 100);
  }
}

class Cat extends Pet {
  bool isIndoor = true;
  
  void groom() {
    print("${name}が毛づくろいをしています。");
    happiness = (happiness + 10).clamp(0, 100);
  }
}
</code></pre>
<h3 id="2-ペットのスケジュール管理"><a class="header" href="#2-ペットのスケジュール管理">2. ペットのスケジュール管理</a></h3>
<pre><code class="language-javascript">class PetSchedule {
  String petName = "";
  List&lt;String&gt; activities = [];
  
  void addActivity(String activity, String time) {
    activities.add("${time}: ${activity}");
  }
  
  void showSchedule() {
    print("=== ${petName}のスケジュール ===");
    for (String activity in activities) {
      print(activity);
    }
  }
}
</code></pre>
<h3 id="3-ペットの成長システム"><a class="header" href="#3-ペットの成長システム">3. ペットの成長システム</a></h3>
<pre><code class="language-javascript">void growUp() {
  age++;
  print("${name}が成長しました！現在${age}歳です。");
  
  // 年齢に応じて能力値の上限が変化
  if (age &gt;= 10) {
    health = (health - 5).clamp(0, 100);  // 高齢による体力低下
  }
}
</code></pre>
<h2 id="まとめ-42"><a class="header" href="#まとめ-42">まとめ</a></h2>
<p>この実践プロジェクトでは、これまで学んだオブジェクト指向プログラミングの概念を全て使いました：</p>
<ol>
<li><strong>クラス設計</strong>：PetクラスとPetManagementSystemクラス</li>
<li><strong>フィールド</strong>：ペットの属性（名前、年齢、状態など）</li>
<li><strong>メソッド</strong>：ペットの行動（食べる、遊ぶ、健康チェックなど）</li>
<li><strong>オブジェクト管理</strong>：複数のペットオブジェクトをリストで管理</li>
<li><strong>情報の隠蔽</strong>：プライベートメソッド（_getHealthStatus()など）</li>
<li><strong>実用的な機能</strong>：検索、統計、状態変化など</li>
</ol>
<p>このようなアプリケーションを作ることで、オブジェクト指向プログラミングの威力を実感できたのではないでしょうか。現実世界の複雑な問題を、クラスとオブジェクトを使って自然に表現し、管理することができました。</p>
<h2 id="練習課題"><a class="header" href="#練習課題">練習課題</a></h2>
<ol>
<li><strong>新機能追加</strong>：ペットの写真URL機能を追加してください</li>
<li><strong>エラー処理強化</strong>：不正な値の入力に対するチェックを強化してください</li>
<li><strong>データ保存</strong>：ペット情報をファイルに保存・読み込みする機能を考えてください</li>
<li><strong>ユーザーインターフェース</strong>：コマンドライン入力による対話的なメニューを作ってください</li>
</ol>
<p>プログラミングは創造性の表現です。ぜひ自分なりのアイデアを追加して、オリジナルのペット管理アプリを作ってみてください！</p>
<p><strong>おめでとうございます！</strong> これでオブジェクト指向プログラミングの基礎をマスターしました。次のステップでは、より高度なオブジェクト指向の概念（継承、ポリモーフィズムなど）を学んでいきます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第12章オブジェクト指向の活用"><a class="header" href="#第12章オブジェクト指向の活用">第12章：オブジェクト指向の活用</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="コンストラクタ"><a class="header" href="#コンストラクタ">コンストラクタ</a></h1>
<p>コンストラクタは、クラスからオブジェクトを作成するときに自動的に呼び出される特別なメソッドです。オブジェクトの初期化を行うために使用されます。</p>
<h2 id="コンストラクタとは"><a class="header" href="#コンストラクタとは">コンストラクタとは</a></h2>
<p>前章でクラスの基本を学びましたが、オブジェクトを作成する際に初期値を設定したり、必要な準備を行ったりする方法を学びましょう。</p>
<h3 id="基本的なコンストラクタ"><a class="header" href="#基本的なコンストラクタ">基本的なコンストラクタ</a></h3>
<pre><code class="language-javascript">class Person {
  String name;
  int age;
  
  // コンストラクタ
  Person(this.name, this.age);
  
  void introduce() {
    print('こんにちは、私は${name}です。${age}歳です。');
  }
}

void main() {
  // コンストラクタを使ってオブジェクトを作成
  Person person1 = Person('田中太郎', 25);
  Person person2 = Person('佐藤花子', 30);
  
  person1.introduce(); // こんにちは、私は田中太郎です。25歳です。
  person2.introduce(); // こんにちは、私は佐藤花子です。30歳です。
}
</code></pre>
<p>上記の例では、<code>Person(this.name, this.age)</code>がコンストラクタです。<code>this.name</code>は「このオブジェクトのname」という意味で、引数として受け取った値をオブジェクトのフィールドに代入します。</p>
<h2 id="名前付きコンストラクタ"><a class="header" href="#名前付きコンストラクタ">名前付きコンストラクタ</a></h2>
<p>Dartでは、一つのクラスに複数のコンストラクタを定義できます。これを「名前付きコンストラクタ」と呼びます。</p>
<pre><code class="language-javascript">class Rectangle {
  double width;
  double height;
  
  // 通常のコンストラクタ
  Rectangle(this.width, this.height);
  
  // 名前付きコンストラクタ：正方形を作成
  Rectangle.square(double side) {
    width = side;
    height = side;
  }
  
  // 名前付きコンストラクタ：デフォルトサイズ
  Rectangle.defaultSize() {
    width = 10.0;
    height = 10.0;
  }
  
  double getArea() {
    return width * height;
  }
  
  void showInfo() {
    print('幅: $width, 高さ: $height, 面積: ${getArea()}');
  }
}

void main() {
  // 通常のコンストラクタ
  Rectangle rect1 = Rectangle(5.0, 3.0);
  
  // 正方形を作成
  Rectangle square = Rectangle.square(4.0);
  
  // デフォルトサイズ
  Rectangle defaultRect = Rectangle.defaultSize();
  
  rect1.showInfo();     // 幅: 5.0, 高さ: 3.0, 面積: 15.0
  square.showInfo();    // 幅: 4.0, 高さ: 4.0, 面積: 16.0
  defaultRect.showInfo(); // 幅: 10.0, 高さ: 10.0, 面積: 100.0
}
</code></pre>
<h2 id="オプション引数を持つコンストラクタ"><a class="header" href="#オプション引数を持つコンストラクタ">オプション引数を持つコンストラクタ</a></h2>
<p>引数に初期値を設定することで、オプション引数を持つコンストラクタを作成できます。</p>
<pre><code class="language-javascript">class Student {
  String name;
  int grade;
  String school;
  
  // オプション引数を持つコンストラクタ
  Student(this.name, {this.grade = 1, this.school = '未設定'});
  
  void showProfile() {
    print('名前: $name');
    print('学年: ${grade}年生');
    print('学校: $school');
    print('---');
  }
}

void main() {
  // 名前のみ指定
  Student student1 = Student('山田太郎');
  
  // 名前と学年を指定
  Student student2 = Student('鈴木花子', grade: 3);
  
  // すべて指定
  Student student3 = Student('高橋次郎', grade: 2, school: '〇〇中学校');
  
  student1.showProfile();
  // 名前: 山田太郎
  // 学年: 1年生
  // 学校: 未設定
  
  student2.showProfile();
  // 名前: 鈴木花子
  // 学年: 3年生
  // 学校: 未設定
  
  student3.showProfile();
  // 名前: 高橋次郎
  // 学年: 2年生
  // 学校: 〇〇中学校
}
</code></pre>
<h2 id="コンストラクタでの初期化処理"><a class="header" href="#コンストラクタでの初期化処理">コンストラクタでの初期化処理</a></h2>
<p>コンストラクタ内では、フィールドの初期化以外にも様々な処理を行えます。</p>
<pre><code class="language-javascript">class BankAccount {
  String accountNumber;
  String ownerName;
  double balance;
  List&lt;String&gt; transactionHistory;
  
  BankAccount(this.accountNumber, this.ownerName) {
    balance = 0.0; // 残高は0から開始
    transactionHistory = []; // 取引履歴を初期化
    
    // 口座開設の記録
    transactionHistory.add('口座開設: ${DateTime.now()}');
    print('口座が作成されました: $accountNumber (名義: $ownerName)');
  }
  
  void deposit(double amount) {
    balance += amount;
    transactionHistory.add('入金: +$amount円 (残高: $balance円)');
  }
  
  void showAccount() {
    print('口座番号: $accountNumber');
    print('名義: $ownerName');
    print('残高: $balance円');
    print('取引履歴:');
    for (String transaction in transactionHistory) {
      print('  $transaction');
    }
  }
}

void main() {
  BankAccount account = BankAccount('123-456-789', '田中太郎');
  // 出力: 口座が作成されました: 123-456-789 (名義: 田中太郎)
  
  account.deposit(10000);
  account.deposit(5000);
  
  account.showAccount();
  // 口座番号: 123-456-789
  // 名義: 田中太郎
  // 残高: 15000円
  // 取引履歴:
  //   口座開設: 2024-xx-xx xx:xx:xx.xxx
  //   入金: +10000円 (残高: 10000円)
  //   入金: +5000円 (残高: 15000円)
}
</code></pre>
<h2 id="まとめ-43"><a class="header" href="#まとめ-43">まとめ</a></h2>
<p>コンストラクタは、オブジェクトを作成する際の重要な仕組みです：</p>
<ul>
<li><strong>基本コンストラクタ</strong>: <code>ClassName(this.field1, this.field2)</code>の形式</li>
<li><strong>名前付きコンストラクタ</strong>: 一つのクラスに複数のコンストラクタを定義</li>
<li><strong>オプション引数</strong>: 初期値を設定して柔軟なオブジェクト作成</li>
<li><strong>初期化処理</strong>: フィールドの設定以外の準備作業も可能</li>
</ul>
<p>コンストラクタを適切に使うことで、安全で使いやすいクラスを作成できます。次のセクションでは、オブジェクトのデータにアクセスする際の制御方法について学びましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ゲッターとセッター-1"><a class="header" href="#ゲッターとセッター-1">ゲッターとセッター</a></h1>
<p>ゲッターとセッターは、クラスのフィールドに対するアクセスを制御する仕組みです。データの取得や設定時に特別な処理を行ったり、不正な値の設定を防いだりできます。</p>
<h2 id="ゲッターとセッターとは"><a class="header" href="#ゲッターとセッターとは">ゲッターとセッターとは</a></h2>
<p>オブジェクトのデータに直接アクセスするのではなく、メソッドを通してアクセスすることで、より安全で柔軟なプログラムを作成できます。</p>
<h3 id="基本的なゲッターとセッター"><a class="header" href="#基本的なゲッターとセッター">基本的なゲッターとセッター</a></h3>
<pre><code class="language-javascript">class Temperature {
  double _celsius; // アンダースコア(_)でプライベートフィールドを表現
  
  Temperature(this._celsius);
  
  // ゲッター：摂氏温度を取得
  double get celsius =&gt; _celsius;
  
  // セッター：摂氏温度を設定
  set celsius(double value) {
    if (value &lt; -273.15) {
      print('エラー: 絶対零度以下の温度は設定できません');
      return;
    }
    _celsius = value;
  }
  
  // ゲッター：華氏温度を計算して取得
  double get fahrenheit =&gt; _celsius * 9 / 5 + 32;
  
  // セッター：華氏温度から摂氏温度に変換して設定
  set fahrenheit(double value) {
    celsius = (value - 32) * 5 / 9; // セッターを通して設定
  }
  
  void showTemperature() {
    print('摂氏: ${_celsius.toStringAsFixed(1)}°C');
    print('華氏: ${fahrenheit.toStringAsFixed(1)}°F');
  }
}

void main() {
  Temperature temp = Temperature(25.0);
  
  print('=== 初期値 ===');
  temp.showTemperature();
  // 摂氏: 25.0°C
  // 華氏: 77.0°F
  
  print('\n=== 摂氏で設定 ===');
  temp.celsius = 0.0;
  temp.showTemperature();
  // 摂氏: 0.0°C
  // 華氏: 32.0°F
  
  print('\n=== 華氏で設定 ===');
  temp.fahrenheit = 100.0;
  temp.showTemperature();
  // 摂氏: 37.8°C
  // 華氏: 100.0°F
  
  print('\n=== 不正な値の設定 ===');
  temp.celsius = -300.0; // エラー: 絶対零度以下の温度は設定できません
  temp.showTemperature(); // 値は変更されない
}
</code></pre>
<p>この例では、<code>get</code>キーワードでゲッター、<code>set</code>キーワードでセッターを定義しています。</p>
<h2 id="計算プロパティ"><a class="header" href="#計算プロパティ">計算プロパティ</a></h2>
<p>ゲッターを使って、他のフィールドから計算される値を提供できます。</p>
<pre><code class="language-javascript">class Circle {
  double _radius;
  
  Circle(this._radius);
  
  // 半径のゲッターとセッター
  double get radius =&gt; _radius;
  
  set radius(double value) {
    if (value &lt;= 0) {
      print('エラー: 半径は0より大きい値である必要があります');
      return;
    }
    _radius = value;
  }
  
  // 直径を計算して返すゲッター
  double get diameter =&gt; _radius * 2;
  
  // 直径から半径を設定するセッター
  set diameter(double value) {
    radius = value / 2; // セッターを通して設定
  }
  
  // 円周を計算して返すゲッター
  double get circumference =&gt; 2 * 3.14159 * _radius;
  
  // 面積を計算して返すゲッター
  double get area =&gt; 3.14159 * _radius * _radius;
  
  void showCircleInfo() {
    print('半径: ${radius.toStringAsFixed(2)}');
    print('直径: ${diameter.toStringAsFixed(2)}');
    print('円周: ${circumference.toStringAsFixed(2)}');
    print('面積: ${area.toStringAsFixed(2)}');
    print('---');
  }
}

void main() {
  Circle circle = Circle(5.0);
  
  print('=== 初期状態 ===');
  circle.showCircleInfo();
  
  print('=== 半径を変更 ===');
  circle.radius = 3.0;
  circle.showCircleInfo();
  
  print('=== 直径で設定 ===');
  circle.diameter = 10.0; // 半径は5.0になる
  circle.showCircleInfo();
  
  print('=== 不正な値の設定 ===');
  circle.radius = -1.0; // エラーメッセージが表示される
  circle.showCircleInfo(); // 値は変更されない
}
</code></pre>
<h2 id="データの検証と変換"><a class="header" href="#データの検証と変換">データの検証と変換</a></h2>
<p>セッターを使ってデータの検証や変換を行うことができます。</p>
<pre><code class="language-javascript">class Person {
  String _name;
  int _age;
  String _email;
  
  Person(this._name, this._age, this._email);
  
  // 名前のゲッターとセッター
  String get name =&gt; _name;
  
  set name(String value) {
    if (value.trim().isEmpty) {
      print('エラー: 名前は空にできません');
      return;
    }
    _name = value.trim(); // 前後の空白を除去
  }
  
  // 年齢のゲッターとセッター
  int get age =&gt; _age;
  
  set age(int value) {
    if (value &lt; 0 || value &gt; 150) {
      print('エラー: 年齢は0〜150の範囲で入力してください');
      return;
    }
    _age = value;
  }
  
  // メールアドレスのゲッターとセッター
  String get email =&gt; _email;
  
  set email(String value) {
    if (!value.contains('@') || !value.contains('.')) {
      print('エラー: 正しいメールアドレスの形式ではありません');
      return;
    }
    _email = value.toLowerCase(); // 小文字に変換
  }
  
  // 年齢グループを計算して返すゲッター
  String get ageGroup {
    if (_age &lt; 13) return '子供';
    if (_age &lt; 20) return '青少年';
    if (_age &lt; 65) return '成人';
    return 'シニア';
  }
  
  void showProfile() {
    print('名前: $_name');
    print('年齢: $_age歳 (${ageGroup})');
    print('メール: $_email');
    print('---');
  }
}

void main() {
  Person person = Person('  田中太郎  ', 25, 'TANAKA@EXAMPLE.COM');
  
  print('=== 初期状態（自動で整形） ===');
  person.showProfile();
  // 名前: 田中太郎 (前後の空白が除去される)
  // 年齢: 25歳 (成人)
  // メール: tanaka@example.com (小文字に変換される)
  
  print('=== 値の変更 ===');
  person.name = '佐藤花子';
  person.age = 15;
  person.email = 'sato@school.jp';
  person.showProfile();
  
  print('=== 不正な値の設定 ===');
  person.name = '   '; // エラー: 名前は空にできません
  person.age = 200;    // エラー: 年齢は0〜150の範囲で入力してください
  person.email = 'invalid-email'; // エラー: 正しいメールアドレスの形式ではありません
  
  person.showProfile(); // 値は変更されない
}
</code></pre>
<h2 id="ゲッターとセッターの実践的な使用例"><a class="header" href="#ゲッターとセッターの実践的な使用例">ゲッターとセッターの実践的な使用例</a></h2>
<p>実際のアプリケーションでよく使われるパターンを見てみましょう。</p>
<pre><code class="language-javascript">class Product {
  String _name;
  double _price;
  int _stock;
  bool _isActive;
  
  Product(this._name, this._price, this._stock) : _isActive = true;
  
  // 商品名
  String get name =&gt; _name;
  
  set name(String value) {
    if (value.trim().isEmpty) {
      throw ArgumentError('商品名は必須です');
    }
    _name = value.trim();
  }
  
  // 価格
  double get price =&gt; _price;
  
  set price(double value) {
    if (value &lt; 0) {
      throw ArgumentError('価格は0以上である必要があります');
    }
    _price = value;
  }
  
  // 在庫数
  int get stock =&gt; _stock;
  
  set stock(int value) {
    if (value &lt; 0) {
      throw ArgumentError('在庫数は0以上である必要があります');
    }
    _stock = value;
  }
  
  // 販売状態
  bool get isActive =&gt; _isActive;
  set isActive(bool value) =&gt; _isActive = value;
  
  // 計算プロパティ：販売可能かどうか
  bool get isAvailable =&gt; _isActive &amp;&amp; _stock &gt; 0;
  
  // 計算プロパティ：税込み価格（消費税10%）
  double get priceWithTax =&gt; _price * 1.1;
  
  // 計算プロパティ：在庫状況
  String get stockStatus {
    if (_stock == 0) return '在庫切れ';
    if (_stock &lt;= 5) return '残りわずか';
    return '在庫あり';
  }
  
  void showProductInfo() {
    print('商品名: $_name');
    print('価格: ${_price.toStringAsFixed(0)}円（税込: ${priceWithTax.toStringAsFixed(0)}円）');
    print('在庫: $_stock個 (${stockStatus})');
    print('販売状況: ${isAvailable ? "販売中" : "販売停止"}');
    print('---');
  }
}

void main() {
  try {
    Product product = Product('ノートパソコン', 89800.0, 3);
    
    print('=== 商品情報 ===');
    product.showProductInfo();
    
    print('=== 在庫を減らす ===');
    product.stock = 1;
    product.showProductInfo();
    
    print('=== 在庫切れ ===');
    product.stock = 0;
    product.showProductInfo();
    
    print('=== 販売停止 ===');
    product.stock = 10;
    product.isActive = false;
    product.showProductInfo();
    
  } catch (e) {
    print('エラーが発生しました: $e');
  }
}
</code></pre>
<h2 id="まとめ-44"><a class="header" href="#まとめ-44">まとめ</a></h2>
<p>ゲッターとセッターを使うことで、以下のメリットがあります：</p>
<ul>
<li><strong>データの検証</strong>: 不正な値の設定を防ぐ</li>
<li><strong>データの変換</strong>: 設定時に自動的にフォーマットを整える</li>
<li><strong>計算プロパティ</strong>: 他のフィールドから値を計算して提供</li>
<li><strong>アクセス制御</strong>: データの読み取り専用や書き込み専用を実現</li>
<li><strong>将来の拡張性</strong>: 後からロジックを追加しやすい</li>
</ul>
<p>次のセクションでは、これらの仕組みを支える「カプセル化」の考え方について詳しく学びましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="カプセル化の考え方"><a class="header" href="#カプセル化の考え方">カプセル化の考え方</a></h1>
<p>カプセル化は、オブジェクト指向プログラミングの最も重要な概念の一つです。データとそれを操作するメソッドを一つにまとめ、外部からの不適切なアクセスを制限することで、プログラムの安全性と保守性を向上させます。</p>
<h2 id="カプセル化とは"><a class="header" href="#カプセル化とは">カプセル化とは</a></h2>
<p>カプセル化とは、「内部の仕組みを隠して、決められた方法でのみアクセスできるようにする」ことです。薬のカプセルのように、中身を保護し、正しい方法で取り扱えるようにするイメージです。</p>
<h3 id="カプセル化の基本原則"><a class="header" href="#カプセル化の基本原則">カプセル化の基本原則</a></h3>
<pre><code class="language-javascript">// 悪い例：カプセル化されていない
class BadBankAccount {
  String accountNumber;
  double balance; // 外部から直接アクセス可能
  
  BadBankAccount(this.accountNumber, this.balance);
}

void badExample() {
  BadBankAccount account = BadBankAccount('123-456', 10000);
  
  // 問題：残高を直接変更できてしまう
  account.balance = -50000; // 負の残高に！
  account.balance = 999999999; // 突然大金持ちに！
  
  print('残高: ${account.balance}円'); // 残高: 999999999円
}

// 良い例：カプセル化されている
class GoodBankAccount {
  String _accountNumber; // プライベートフィールド
  double _balance;       // プライベートフィールド
  
  GoodBankAccount(this._accountNumber, this._balance);
  
  // 読み取り専用のゲッター
  String get accountNumber =&gt; _accountNumber;
  double get balance =&gt; _balance;
  
  // 制御されたメソッドでのみ残高を変更
  bool deposit(double amount) {
    if (amount &lt;= 0) {
      print('エラー: 入金額は0より大きい必要があります');
      return false;
    }
    _balance += amount;
    print('${amount}円を入金しました。残高: ${_balance}円');
    return true;
  }
  
  bool withdraw(double amount) {
    if (amount &lt;= 0) {
      print('エラー: 出金額は0より大きい必要があります');
      return false;
    }
    if (amount &gt; _balance) {
      print('エラー: 残高不足です。残高: ${_balance}円');
      return false;
    }
    _balance -= amount;
    print('${amount}円を出金しました。残高: ${_balance}円');
    return true;
  }
}

void goodExample() {
  GoodBankAccount account = GoodBankAccount('123-456', 10000);
  
  // 正しい方法でのみ操作可能
  account.deposit(5000);   // 15000円を入金しました。残高: 15000円
  account.withdraw(3000);  // 3000円を出金しました。残高: 12000円
  account.withdraw(20000); // エラー: 残高不足です。残高: 12000円
  
  // account._balance = 999999; // エラー：プライベートフィールドにアクセスできない
}
</code></pre>
<h2 id="プライベートフィールドとパブリックインターフェース"><a class="header" href="#プライベートフィールドとパブリックインターフェース">プライベートフィールドとパブリックインターフェース</a></h2>
<p>Dartでは、アンダースコア（<code>_</code>）で始まる名前をプライベート（非公開）として扱います。</p>
<pre><code class="language-javascript">class User {
  // プライベートフィールド（内部データ）
  String _username;
  String _password;
  String _email;
  DateTime _lastLogin;
  int _loginAttempts;
  
  // パブリックコンストラクタ
  User(this._username, this._password, this._email) {
    _lastLogin = DateTime.now();
    _loginAttempts = 0;
  }
  
  // パブリックメソッド（外部インターフェース）
  String get username =&gt; _username;
  String get email =&gt; _email;
  DateTime get lastLogin =&gt; _lastLogin;
  
  // パスワード変更（検証付き）
  bool changePassword(String oldPassword, String newPassword) {
    if (!_verifyPassword(oldPassword)) {
      print('エラー: 現在のパスワードが正しくありません');
      return false;
    }
    
    if (!_isValidPassword(newPassword)) {
      print('エラー: 新しいパスワードは8文字以上である必要があります');
      return false;
    }
    
    _password = _hashPassword(newPassword);
    print('パスワードを変更しました');
    return true;
  }
  
  // ログイン処理
  bool login(String password) {
    if (_loginAttempts &gt;= 3) {
      print('エラー: ログイン試行回数が上限に達しています');
      return false;
    }
    
    if (_verifyPassword(password)) {
      _lastLogin = DateTime.now();
      _loginAttempts = 0;
      print('ログイン成功');
      return true;
    } else {
      _loginAttempts++;
      print('エラー: パスワードが正しくありません（試行回数: $_loginAttempts/3）');
      return false;
    }
  }
  
  // プライベートメソッド（内部処理）
  bool _verifyPassword(String password) {
    return _hashPassword(password) == _password;
  }
  
  bool _isValidPassword(String password) {
    return password.length &gt;= 8;
  }
  
  String _hashPassword(String password) {
    // 実際の実装では暗号化ライブラリを使用
    return 'hashed_$password';
  }
}

void main() {
  User user = User('tanaka', 'password123', 'tanaka@example.com');
  
  // パブリックインターフェースを通して操作
  print('ユーザー名: ${user.username}');
  print('メール: ${user.email}');
  
  // ログイン試行
  user.login('wrongpassword'); // エラー: パスワードが正しくありません（試行回数: 1/3）
  user.login('password123');   // ログイン成功
  
  // パスワード変更
  user.changePassword('wrongpassword', 'newpassword123'); // エラー: 現在のパスワードが正しくありません
  user.changePassword('password123', 'new123');           // エラー: 新しいパスワードは8文字以上である必要があります
  user.changePassword('password123', 'newpassword123');   // パスワードを変更しました
}
</code></pre>
<h2 id="データの整合性を保つ"><a class="header" href="#データの整合性を保つ">データの整合性を保つ</a></h2>
<p>カプセル化により、オブジェクトの状態を常に正しく保つことができます。</p>
<pre><code class="language-javascript">class Rectangle {
  double _width;
  double _height;
  
  Rectangle(double width, double height) {
    _setDimensions(width, height);
  }
  
  // 幅と高さを同時に設定（整合性を保証）
  void _setDimensions(double width, double height) {
    if (width &lt;= 0 || height &lt;= 0) {
      throw ArgumentError('幅と高さは0より大きい値である必要があります');
    }
    _width = width;
    _height = height;
  }
  
  // 安全なアクセスメソッド
  double get width =&gt; _width;
  double get height =&gt; _height;
  double get area =&gt; _width * _height;
  double get perimeter =&gt; 2 * (_width + _height);
  
  // 制御された更新メソッド
  void resize(double width, double height) {
    _setDimensions(width, height);
    print('サイズを変更しました: ${_width} x ${_height}');
  }
  
  void scale(double factor) {
    if (factor &lt;= 0) {
      throw ArgumentError('拡大率は0より大きい値である必要があります');
    }
    _width *= factor;
    _height *= factor;
    print('${factor}倍に拡大しました: ${_width} x ${_height}');
  }
  
  // 正方形に変換
  void toSquare() {
    double side = (_width + _height) / 2;
    _setDimensions(side, side);
    print('正方形に変換しました: ${side} x ${side}');
  }
  
  void showInfo() {
    print('幅: $_width, 高さ: $_height');
    print('面積: ${area.toStringAsFixed(2)}');
    print('周囲: ${perimeter.toStringAsFixed(2)}');
    print('---');
  }
}

void main() {
  try {
    Rectangle rect = Rectangle(10.0, 5.0);
    rect.showInfo();
    
    rect.resize(8.0, 6.0);
    rect.showInfo();
    
    rect.scale(1.5);
    rect.showInfo();
    
    rect.toSquare();
    rect.showInfo();
    
    // rect._width = -5; // エラー：プライベートフィールドにアクセスできない
    // rect.resize(-1, 5); // 例外が発生
    
  } catch (e) {
    print('エラー: $e');
  }
}
</code></pre>
<h2 id="カプセル化の実践例ショッピングカート"><a class="header" href="#カプセル化の実践例ショッピングカート">カプセル化の実践例：ショッピングカート</a></h2>
<p>より実践的な例として、ショッピングカートクラスを見てみましょう。</p>
<pre><code class="language-javascript">class CartItem {
  String _productName;
  double _price;
  int _quantity;
  
  CartItem(this._productName, this._price, this._quantity) {
    if (_price &lt; 0) throw ArgumentError('価格は0以上である必要があります');
    if (_quantity &lt;= 0) throw ArgumentError('数量は1以上である必要があります');
  }
  
  String get productName =&gt; _productName;
  double get price =&gt; _price;
  int get quantity =&gt; _quantity;
  double get totalPrice =&gt; _price * _quantity;
  
  void updateQuantity(int newQuantity) {
    if (newQuantity &lt;= 0) {
      throw ArgumentError('数量は1以上である必要があります');
    }
    _quantity = newQuantity;
  }
}

class ShoppingCart {
  List&lt;CartItem&gt; _items;
  double _discountRate;
  
  ShoppingCart() {
    _items = [];
    _discountRate = 0.0;
  }
  
  // 読み取り専用のアクセス
  List&lt;CartItem&gt; get items =&gt; List.unmodifiable(_items); // 変更不可能なコピーを返す
  int get itemCount =&gt; _items.length;
  double get discountRate =&gt; _discountRate;
  
  // 計算プロパティ
  double get subtotal {
    return _items.fold(0.0, (total, item) =&gt; total + item.totalPrice);
  }
  
  double get discountAmount =&gt; subtotal * _discountRate;
  double get total =&gt; subtotal - discountAmount;
  
  // 制御されたメソッド
  void addItem(String productName, double price, int quantity) {
    // 既存の商品があるかチェック
    for (CartItem item in _items) {
      if (item.productName == productName &amp;&amp; item.price == price) {
        item.updateQuantity(item.quantity + quantity);
        print('${productName}の数量を更新しました（${item.quantity}個）');
        return;
      }
    }
    
    // 新しい商品を追加
    _items.add(CartItem(productName, price, quantity));
    print('${productName}をカートに追加しました（${quantity}個）');
  }
  
  bool removeItem(String productName) {
    for (int i = 0; i &lt; _items.length; i++) {
      if (_items[i].productName == productName) {
        _items.removeAt(i);
        print('${productName}をカートから削除しました');
        return true;
      }
    }
    print('${productName}はカートにありません');
    return false;
  }
  
  void updateItemQuantity(String productName, int newQuantity) {
    for (CartItem item in _items) {
      if (item.productName == productName) {
        item.updateQuantity(newQuantity);
        print('${productName}の数量を${newQuantity}個に変更しました');
        return;
      }
    }
    print('${productName}はカートにありません');
  }
  
  void applyDiscount(double rate) {
    if (rate &lt; 0 || rate &gt; 1.0) {
      throw ArgumentError('割引率は0〜1.0の範囲で指定してください');
    }
    _discountRate = rate;
    print('${(rate * 100).toStringAsFixed(0)}%の割引を適用しました');
  }
  
  void clear() {
    _items.clear();
    _discountRate = 0.0;
    print('カートをクリアしました');
  }
  
  void showCart() {
    print('=== ショッピングカート ===');
    if (_items.isEmpty) {
      print('カートは空です');
      return;
    }
    
    for (CartItem item in _items) {
      print('${item.productName}: ${item.price}円 x ${item.quantity}個 = ${item.totalPrice}円');
    }
    
    print('---');
    print('小計: ${subtotal.toStringAsFixed(0)}円');
    if (_discountRate &gt; 0) {
      print('割引: -${discountAmount.toStringAsFixed(0)}円 (${(_discountRate * 100).toStringAsFixed(0)}%)');
    }
    print('合計: ${total.toStringAsFixed(0)}円');
    print('---');
  }
}

void main() {
  try {
    ShoppingCart cart = ShoppingCart();
    
    // 商品を追加
    cart.addItem('ノートパソコン', 89800, 1);
    cart.addItem('マウス', 2500, 2);
    cart.addItem('キーボード', 8900, 1);
    cart.addItem('マウス', 2500, 1); // 同じ商品を追加（数量が更新される）
    
    cart.showCart();
    
    // 割引を適用
    cart.applyDiscount(0.1); // 10%割引
    cart.showCart();
    
    // 数量を変更
    cart.updateItemQuantity('マウス', 2);
    cart.showCart();
    
    // 商品を削除
    cart.removeItem('キーボード');
    cart.showCart();
    
    // cart._items.add(...); // エラー：プライベートフィールドにアクセスできない
    
  } catch (e) {
    print('エラー: $e');
  }
}
</code></pre>
<h2 id="まとめ-45"><a class="header" href="#まとめ-45">まとめ</a></h2>
<p>カプセル化は以下のメリットをもたらします：</p>
<h3 id="セキュリティと安全性"><a class="header" href="#セキュリティと安全性">セキュリティと安全性</a></h3>
<ul>
<li>不正なデータの設定を防ぐ</li>
<li>データの整合性を保つ</li>
<li>予期しない副作用を防ぐ</li>
</ul>
<h3 id="保守性"><a class="header" href="#保守性">保守性</a></h3>
<ul>
<li>内部実装を変更しても外部に影響しない</li>
<li>バグの発生源を特定しやすい</li>
<li>コードの理解が容易になる</li>
</ul>
<h3 id="再利用性"><a class="header" href="#再利用性">再利用性</a></h3>
<ul>
<li>明確なインターフェースで使いやすい</li>
<li>他の開発者が安全に使用できる</li>
<li>ドキュメント化しやすい</li>
</ul>
<p>カプセル化を意識してクラスを設計することで、より堅牢で保守しやすいプログラムを作成できます。次のセクションでは、これまで学んだ概念を使って実践的な図書館管理システムを作成してみましょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="実践図書館管理システム"><a class="header" href="#実践図書館管理システム">実践：図書館管理システム</a></h1>
<p>これまで学んだコンストラクタ、ゲッター・セッター、カプセル化の概念を組み合わせて、実際の図書館管理システムを作成してみましょう。このシステムでは、本の管理、利用者の管理、貸出・返却処理を行います。</p>
<h2 id="システムの設計"><a class="header" href="#システムの設計">システムの設計</a></h2>
<p>図書館管理システムでは、以下のクラスを作成します：</p>
<ul>
<li><strong>Book</strong>: 本の情報を管理</li>
<li><strong>Member</strong>: 図書館利用者の情報を管理</li>
<li><strong>Library</strong>: 図書館全体の機能を管理</li>
</ul>
<h2 id="bookクラス本の管理"><a class="header" href="#bookクラス本の管理">Bookクラス：本の管理</a></h2>
<p>まず、本の情報を管理するクラスから作成しましょう。</p>
<pre><code class="language-javascript">class Book {
  String _id;           // 本のID
  String _title;        // タイトル
  String _author;       // 著者
  String _isbn;         // ISBN
  DateTime _publishDate; // 出版日
  bool _isAvailable;    // 貸出可能かどうか
  String? _borrowerId;  // 借りている人のID（借りられていない場合はnull）
  DateTime? _borrowDate; // 借りた日（借りられていない場合はnull）
  
  // コンストラクタ
  Book(this._id, this._title, this._author, this._isbn, this._publishDate) {
    _isAvailable = true;
    _borrowerId = null;
    _borrowDate = null;
  }
  
  // 名前付きコンストラクタ：ISBNから簡単に作成
  Book.withISBN(String id, String title, String author, String isbn) {
    _id = id;
    _title = title;
    _author = author;
    _isbn = isbn;
    _publishDate = DateTime.now(); // 現在日時を設定
    _isAvailable = true;
    _borrowerId = null;
    _borrowDate = null;
  }
  
  // ゲッター
  String get id =&gt; _id;
  String get title =&gt; _title;
  String get author =&gt; _author;
  String get isbn =&gt; _isbn;
  DateTime get publishDate =&gt; _publishDate;
  bool get isAvailable =&gt; _isAvailable;
  String? get borrowerId =&gt; _borrowerId;
  DateTime? get borrowDate =&gt; _borrowDate;
  
  // セッター（制限付き）
  set title(String newTitle) {
    if (newTitle.trim().isEmpty) {
      throw ArgumentError('タイトルは空にできません');
    }
    _title = newTitle.trim();
  }
  
  set author(String newAuthor) {
    if (newAuthor.trim().isEmpty) {
      throw ArgumentError('著者名は空にできません');
    }
    _author = newAuthor.trim();
  }
  
  // 計算プロパティ：貸出期間
  int? get borrowDays {
    if (_borrowDate == null) return null;
    return DateTime.now().difference(_borrowDate!).inDays;
  }
  
  // 計算プロパティ：延滞かどうか（14日を超えた場合）
  bool get isOverdue {
    if (_borrowDate == null) return false;
    return borrowDays! &gt; 14;
  }
  
  // 本を借りる
  bool borrow(String memberId) {
    if (!_isAvailable) {
      print('エラー: この本は既に貸出中です');
      return false;
    }
    
    _isAvailable = false;
    _borrowerId = memberId;
    _borrowDate = DateTime.now();
    print('「$_title」を貸し出しました（利用者ID: $memberId）');
    return true;
  }
  
  // 本を返す
  bool returnBook() {
    if (_isAvailable) {
      print('エラー: この本は貸出されていません');
      return false;
    }
    
    String? previousBorrowerId = _borrowerId;
    int days = borrowDays!;
    
    _isAvailable = true;
    _borrowerId = null;
    _borrowDate = null;
    
    if (days &gt; 14) {
      print('「$_title」が返却されました（利用者ID: $previousBorrowerId、${days}日間 - 延滞）');
    } else {
      print('「$_title」が返却されました（利用者ID: $previousBorrowerId、${days}日間）');
    }
    return true;
  }
  
  void showInfo() {
    print('=== 本の情報 ===');
    print('ID: $_id');
    print('タイトル: $_title');
    print('著者: $_author');
    print('ISBN: $_isbn');
    print('出版日: ${_publishDate.toString().substring(0, 10)}');
    print('状態: ${_isAvailable ? "貸出可能" : "貸出中"}');
    
    if (!_isAvailable) {
      print('借りている人: $_borrowerId');
      print('貸出日: ${_borrowDate.toString().substring(0, 10)}');
      print('経過日数: ${borrowDays}日');
      if (isOverdue) {
        print('⚠️ 延滞中です！');
      }
    }
    print('---');
  }
}
</code></pre>
<h2 id="memberクラス利用者の管理"><a class="header" href="#memberクラス利用者の管理">Memberクラス：利用者の管理</a></h2>
<p>次に、図書館利用者の情報を管理するクラスを作成します。</p>
<pre><code class="language-javascript">class Member {
  String _id;
  String _name;
  String _email;
  String _phoneNumber;
  DateTime _registrationDate;
  List&lt;String&gt; _borrowedBookIds;
  int _maxBorrowLimit;
  
  // コンストラクタ
  Member(this._id, this._name, this._email, this._phoneNumber) {
    _registrationDate = DateTime.now();
    _borrowedBookIds = [];
    _maxBorrowLimit = 5; // デフォルトは5冊まで
  }
  
  // 名前付きコンストラクタ：学生用（貸出制限が多い）
  Member.student(String id, String name, String email, String phoneNumber) {
    _id = id;
    _name = name;
    _email = email;
    _phoneNumber = phoneNumber;
    _registrationDate = DateTime.now();
    _borrowedBookIds = [];
    _maxBorrowLimit = 10; // 学生は10冊まで
  }
  
  // ゲッター
  String get id =&gt; _id;
  String get name =&gt; _name;
  String get email =&gt; _email;
  String get phoneNumber =&gt; _phoneNumber;
  DateTime get registrationDate =&gt; _registrationDate;
  int get maxBorrowLimit =&gt; _maxBorrowLimit;
  List&lt;String&gt; get borrowedBookIds =&gt; List.unmodifiable(_borrowedBookIds);
  
  // セッター（データ検証付き）
  set name(String newName) {
    if (newName.trim().isEmpty) {
      throw ArgumentError('名前は空にできません');
    }
    _name = newName.trim();
  }
  
  set email(String newEmail) {
    if (!newEmail.contains('@') || !newEmail.contains('.')) {
      throw ArgumentError('正しいメールアドレスの形式ではありません');
    }
    _email = newEmail.toLowerCase();
  }
  
  set phoneNumber(String newPhoneNumber) {
    // 簡単な電話番号の検証
    String cleaned = newPhoneNumber.replaceAll(RegExp(r'[^0-9]'), '');
    if (cleaned.length &lt; 10 || cleaned.length &gt; 11) {
      throw ArgumentError('正しい電話番号の形式ではありません');
    }
    _phoneNumber = newPhoneNumber;
  }
  
  // 計算プロパティ
  int get borrowedBooksCount =&gt; _borrowedBookIds.length;
  bool get canBorrowMore =&gt; borrowedBooksCount &lt; _maxBorrowLimit;
  int get availableBorrowSlots =&gt; _maxBorrowLimit - borrowedBooksCount;
  
  // 本を借りる（内部処理）
  bool _addBorrowedBook(String bookId) {
    if (!canBorrowMore) {
      print('エラー: 貸出制限に達しています（${_maxBorrowLimit}冊）');
      return false;
    }
    
    if (_borrowedBookIds.contains(bookId)) {
      print('エラー: この本は既に借りています');
      return false;
    }
    
    _borrowedBookIds.add(bookId);
    return true;
  }
  
  // 本を返す（内部処理）
  bool _removeBorrowedBook(String bookId) {
    if (!_borrowedBookIds.contains(bookId)) {
      print('エラー: この本は借りていません');
      return false;
    }
    
    _borrowedBookIds.remove(bookId);
    return true;
  }
  
  void showProfile() {
    print('=== 利用者情報 ===');
    print('ID: $_id');
    print('名前: $_name');
    print('メール: $_email');
    print('電話番号: $_phoneNumber');
    print('登録日: ${_registrationDate.toString().substring(0, 10)}');
    print('貸出中: ${borrowedBooksCount}/${_maxBorrowLimit}冊');
    print('貸出可能: ${availableBorrowSlots}冊');
    
    if (_borrowedBookIds.isNotEmpty) {
      print('借りている本のID: ${_borrowedBookIds.join(", ")}');
    }
    print('---');
  }
}
</code></pre>
<h2 id="libraryクラス図書館システムの統合管理"><a class="header" href="#libraryクラス図書館システムの統合管理">Libraryクラス：図書館システムの統合管理</a></h2>
<p>最後に、図書館全体の機能を管理するクラスを作成します。</p>
<pre><code class="language-javascript">class Library {
  String _name;
  List&lt;Book&gt; _books;
  List&lt;Member&gt; _members;
  Map&lt;String, String&gt; _borrowHistory; // bookId -&gt; memberId のマッピング
  
  // コンストラクタ
  Library(this._name) {
    _books = [];
    _members = [];
    _borrowHistory = {};
  }
  
  // ゲッター
  String get name =&gt; _name;
  int get totalBooks =&gt; _books.length;
  int get availableBooks =&gt; _books.where((book) =&gt; book.isAvailable).length;
  int get borrowedBooks =&gt; _books.where((book) =&gt; !book.isAvailable).length;
  int get totalMembers =&gt; _members.length;
  
  // 本を追加
  void addBook(Book book) {
    // 重複チェック
    for (Book existingBook in _books) {
      if (existingBook.id == book.id) {
        print('エラー: ID「${book.id}」の本は既に登録されています');
        return;
      }
    }
    
    _books.add(book);
    print('本を追加しました: 「${book.title}」（ID: ${book.id}）');
  }
  
  // 利用者を追加
  void addMember(Member member) {
    // 重複チェック
    for (Member existingMember in _members) {
      if (existingMember.id == member.id) {
        print('エラー: ID「${member.id}」の利用者は既に登録されています');
        return;
      }
    }
    
    _members.add(member);
    print('利用者を追加しました: 「${member.name}」（ID: ${member.id}）');
  }
  
  // 本を検索（ID）
  Book? findBookById(String bookId) {
    for (Book book in _books) {
      if (book.id == bookId) {
        return book;
      }
    }
    return null;
  }
  
  // 本を検索（タイトル）
  List&lt;Book&gt; searchBooksByTitle(String title) {
    List&lt;Book&gt; results = [];
    String searchTerm = title.toLowerCase();
    
    for (Book book in _books) {
      if (book.title.toLowerCase().contains(searchTerm)) {
        results.add(book);
      }
    }
    
    return results;
  }
  
  // 利用者を検索
  Member? findMemberById(String memberId) {
    for (Member member in _members) {
      if (member.id == memberId) {
        return member;
      }
    }
    return null;
  }
  
  // 本を借りる
  bool borrowBook(String bookId, String memberId) {
    Book? book = findBookById(bookId);
    if (book == null) {
      print('エラー: ID「$bookId」の本が見つかりません');
      return false;
    }
    
    Member? member = findMemberById(memberId);
    if (member == null) {
      print('エラー: ID「$memberId」の利用者が見つかりません');
      return false;
    }
    
    // 利用者の貸出制限チェック
    if (!member._addBorrowedBook(bookId)) {
      return false;
    }
    
    // 本の貸出処理
    if (!book.borrow(memberId)) {
      member._removeBorrowedBook(bookId); // ロールバック
      return false;
    }
    
    _borrowHistory[bookId] = memberId;
    return true;
  }
  
  // 本を返す
  bool returnBook(String bookId) {
    Book? book = findBookById(bookId);
    if (book == null) {
      print('エラー: ID「$bookId」の本が見つかりません');
      return false;
    }
    
    if (book.isAvailable) {
      print('エラー: この本は貸出されていません');
      return false;
    }
    
    String? memberId = book.borrowerId;
    if (memberId != null) {
      Member? member = findMemberById(memberId);
      if (member != null) {
        member._removeBorrowedBook(bookId);
      }
    }
    
    return book.returnBook();
  }
  
  // 延滞本のチェック
  List&lt;Book&gt; getOverdueBooks() {
    return _books.where((book) =&gt; book.isOverdue).toList();
  }
  
  // 利用者の借りている本を取得
  List&lt;Book&gt; getMemberBorrowedBooks(String memberId) {
    Member? member = findMemberById(memberId);
    if (member == null) return [];
    
    List&lt;Book&gt; borrowedBooks = [];
    for (String bookId in member.borrowedBookIds) {
      Book? book = findBookById(bookId);
      if (book != null) {
        borrowedBooks.add(book);
      }
    }
    return borrowedBooks;
  }
  
  // 図書館の統計情報を表示
  void showStatistics() {
    print('=== 図書館統計 ===');
    print('図書館名: $_name');
    print('総蔵書数: $totalBooks冊');
    print('貸出可能: $availableBooks冊');
    print('貸出中: $borrowedBooks冊');
    print('利用者数: $totalMembers人');
    
    List&lt;Book&gt; overdueBooks = getOverdueBooks();
    if (overdueBooks.isNotEmpty) {
      print('延滞本: ${overdueBooks.length}冊');
    }
    print('---');
  }
  
  // すべての本を表示
  void showAllBooks() {
    print('=== 蔵書一覧 ===');
    if (_books.isEmpty) {
      print('登録されている本がありません');
      return;
    }
    
    for (Book book in _books) {
      print('${book.id}: 「${book.title}」 by ${book.author} - ${book.isAvailable ? "貸出可能" : "貸出中"}');
    }
    print('---');
  }
  
  // すべての利用者を表示
  void showAllMembers() {
    print('=== 利用者一覧 ===');
    if (_members.isEmpty) {
      print('登録されている利用者がいません');
      return;
    }
    
    for (Member member in _members) {
      print('${member.id}: ${member.name} - 貸出中: ${member.borrowedBooksCount}/${member.maxBorrowLimit}冊');
    }
    print('---');
  }
}
</code></pre>
<h2 id="システムの使用例"><a class="header" href="#システムの使用例">システムの使用例</a></h2>
<p>作成した図書館管理システムを実際に使ってみましょう。</p>
<pre><code class="language-javascript">void main() {
  // 図書館を作成
  Library library = Library('市立中央図書館');
  
  print('=== 図書館管理システムを開始します ===\n');
  
  // 本を追加
  library.addBook(Book('B001', 'Dartプログラミング入門', '山田太郎', '978-1234567890', DateTime(2023, 1, 15)));
  library.addBook(Book('B002', 'オブジェクト指向設計', '佐藤花子', '978-1234567891', DateTime(2023, 3, 20)));
  library.addBook(Book.withISBN('B003', 'アルゴリズムとデータ構造', '鈴木次郎', '978-1234567892'));
  
  print('');
  
  // 利用者を追加
  library.addMember(Member('M001', '田中一郎', 'tanaka@example.com', '090-1234-5678'));
  library.addMember(Member.student('M002', '高橋学', 'takahashi@student.ac.jp', '080-9876-5432'));
  
  print('');
  
  // 図書館の状況を表示
  library.showStatistics();
  print('');
  
  // 本を検索してみる
  print('=== 本の検索 ===');
  List&lt;Book&gt; searchResults = library.searchBooksByTitle('プログラミング');
  print('「プログラミング」で検索した結果: ${searchResults.length}冊');
  for (Book book in searchResults) {
    print('  - 「${book.title}」 by ${book.author}');
  }
  print('');
  
  // 本を借りる
  print('=== 貸出処理 ===');
  library.borrowBook('B001', 'M001');
  library.borrowBook('B002', 'M001');
  library.borrowBook('B003', 'M002');
  print('');
  
  // 利用者の情報を表示
  Member? member1 = library.findMemberById('M001');
  if (member1 != null) {
    member1.showProfile();
  }
  
  // 借りている本を表示
  print('=== M001が借りている本 ===');
  List&lt;Book&gt; borrowedBooks = library.getMemberBorrowedBooks('M001');
  for (Book book in borrowedBooks) {
    print('「${book.title}」（借用日: ${book.borrowDate.toString().substring(0, 10)}）');
  }
  print('');
  
  // 図書館の統計を更新表示
  library.showStatistics();
  print('');
  
  // 本を返却
  print('=== 返却処理 ===');
  library.returnBook('B001');
  print('');
  
  // 最終的な状況を表示
  library.showAllBooks();
  library.showAllMembers();
  
  // 延滞本があるかチェック（実際の延滞をシミュレートするには日付を操作する必要があります）
  List&lt;Book&gt; overdueBooks = library.getOverdueBooks();
  if (overdueBooks.isNotEmpty) {
    print('=== 延滞本 ===');
    for (Book book in overdueBooks) {
      book.showInfo();
    }
  } else {
    print('現在延滞本はありません');
  }
}
</code></pre>
<h2 id="システムの特徴"><a class="header" href="#システムの特徴">システムの特徴</a></h2>
<p>このシステムでは、以下のオブジェクト指向の概念を活用しています：</p>
<h3 id="コンストラクタの活用"><a class="header" href="#コンストラクタの活用">コンストラクタの活用</a></h3>
<ul>
<li>通常のコンストラクタと名前付きコンストラクタ</li>
<li>初期化時のデータ検証</li>
<li>デフォルト値の設定</li>
</ul>
<h3 id="ゲッターセッターの活用"><a class="header" href="#ゲッターセッターの活用">ゲッター・セッターの活用</a></h3>
<ul>
<li>データの安全な読み取り</li>
<li>設定時の検証とフォーマット</li>
<li>計算プロパティによる動的な値の提供</li>
</ul>
<h3 id="カプセル化の実践"><a class="header" href="#カプセル化の実践">カプセル化の実践</a></h3>
<ul>
<li>プライベートフィールドによるデータ保護</li>
<li>パブリックメソッドによる制御されたアクセス</li>
<li>内部状態の整合性維持</li>
</ul>
<h2 id="学習のポイント-1"><a class="header" href="#学習のポイント-1">学習のポイント</a></h2>
<p>この図書館管理システムを通して、以下を学ぶことができます：</p>
<ol>
<li><strong>クラス設計</strong>: 現実世界の概念をクラスとして表現する方法</li>
<li><strong>データの安全性</strong>: 不正なデータの入力や操作を防ぐ方法</li>
<li><strong>オブジェクト間の関係</strong>: 複数のクラスが連携して動作する仕組み</li>
<li><strong>エラーハンドリング</strong>: 予期しない状況への対処方法</li>
<li><strong>システム設計</strong>: 全体的な機能を整理して実装する方法</li>
</ol>
<p>このような実践的なプロジェクトを通して、オブジェクト指向プログラミングの威力と有用性を実感できるでしょう。プログラムを拡張して、新しい機能を追加してみることをお勧めします！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第13章エラーへの対処"><a class="header" href="#第13章エラーへの対処">第13章：エラーへの対処</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="エラーの種類を理解する-1"><a class="header" href="#エラーの種類を理解する-1">エラーの種類を理解する</a></h1>
<p>プログラミングを学習していると、必ずエラーに遭遇します。エラーが発生すると「プログラムが動かない！」と焦ってしまうかもしれませんが、実はエラーはプログラマーにとって大切な情報源なのです。エラーメッセージは、何が問題なのかを教えてくれる親切なガイドのような存在です。</p>
<p>この章では、Dartで発生する様々なエラーの種類を理解し、それぞれにどう対処すべきかを学んでいきましょう。</p>
<h2 id="エラーとは何か-1"><a class="header" href="#エラーとは何か-1">エラーとは何か</a></h2>
<p>エラーとは、プログラムが正常に実行できない状況のことです。Dartでは、エラーが発生するタイミングによって大きく3つの種類に分けることができます。</p>
<h3 id="1-コンパイルエラーcompile-time-error"><a class="header" href="#1-コンパイルエラーcompile-time-error">1. コンパイルエラー（Compile-time Error）</a></h3>
<p>コンパイルエラーは、プログラムを実行する前に発見されるエラーです。文法的な間違いや、型の不整合などが原因で発生します。</p>
<pre><code class="language-javascript">void main() {
  int number = "hello";  // エラー：文字列を整数型変数に代入しようとしている
  print(number)          // エラー：セミコロンが不足
}
</code></pre>
<p>このようなエラーが発生すると、プログラムは実行される前に止まります。実は、これは良いことなのです。なぜなら、問題を早期に発見できるからです。</p>
<h3 id="2-ランタイムエラーruntime-error"><a class="header" href="#2-ランタイムエラーruntime-error">2. ランタイムエラー（Runtime Error）</a></h3>
<p>ランタイムエラーは、プログラムが実行されている最中に発生するエラーです。文法的には正しいのですが、実行時に問題が起こります。</p>
<pre><code class="language-javascript">void main() {
  List&lt;int&gt; numbers = [1, 2, 3];
  print(numbers[5]);  // エラー：存在しないインデックスにアクセス
}
</code></pre>
<p>この例では、リストのサイズは3なのに、5番目の要素にアクセスしようとしているため、実行時にエラーが発生します。</p>
<h3 id="3-論理エラーlogic-error"><a class="header" href="#3-論理エラーlogic-error">3. 論理エラー（Logic Error）</a></h3>
<p>論理エラーは、プログラムは正常に動作するものの、期待した結果が得られないエラーです。これは最も発見が困難なエラーです。</p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 5;
  int average = (a + b) * 2;  // 本来は (a + b) / 2 にしたかった
  print("平均値: $average");  // 結果：30（期待した結果：7.5）
}
</code></pre>
<h2 id="dartの主要なエラータイプ"><a class="header" href="#dartの主要なエラータイプ">Dartの主要なエラータイプ</a></h2>
<p>Dartでよく遭遇するエラータイプを見てみましょう。</p>
<h3 id="nullpointerexceptionヌルポインタ例外"><a class="header" href="#nullpointerexceptionヌルポインタ例外">NullPointerException（ヌルポインタ例外）</a></h3>
<p>nullの値に対してメソッドやプロパティにアクセスしようとした時に発生します。</p>
<pre><code class="language-javascript">void main() {
  String? name;  // null許可型
  print(name.length);  // エラー：nullに対してlengthにアクセス
}
</code></pre>
<p><strong>改善版：</strong></p>
<pre><code class="language-javascript">void main() {
  String? name;
  if (name != null) {
    print(name.length);  // nullチェック後にアクセス
  } else {
    print("名前が設定されていません");
  }
}
</code></pre>
<h3 id="rangeerror範囲エラー"><a class="header" href="#rangeerror範囲エラー">RangeError（範囲エラー）</a></h3>
<p>リストや文字列の有効な範囲外にアクセスしようとした時に発生します。</p>
<pre><code class="language-javascript">void main() {
  List&lt;String&gt; fruits = ["りんご", "バナナ", "オレンジ"];
  print(fruits[3]);  // エラー：インデックス3は存在しない
}
</code></pre>
<p><strong>改善版：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;String&gt; fruits = ["りんご", "バナナ", "オレンジ"];
  
  int index = 3;
  if (index &lt; fruits.length) {
    print(fruits[index]);
  } else {
    print("指定されたインデックスは範囲外です");
  }
}
</code></pre>
<h3 id="typeerror型エラー"><a class="header" href="#typeerror型エラー">TypeError（型エラー）</a></h3>
<p>期待される型と実際の型が一致しない時に発生します。</p>
<pre><code class="language-javascript">void main() {
  dynamic value = "123";
  int number = value;  // エラー：文字列を直接intに代入できない
  print(number * 2);
}
</code></pre>
<p><strong>改善版：</strong></p>
<pre><code class="language-javascript">void main() {
  dynamic value = "123";
  int number = int.parse(value);  // 文字列を整数に変換
  print(number * 2);  // 結果：246
}
</code></pre>
<h2 id="エラーメッセージの読み方-1"><a class="header" href="#エラーメッセージの読み方-1">エラーメッセージの読み方</a></h2>
<p>エラーメッセージは最初は難しく感じるかもしれませんが、慣れると非常に有用な情報源になります。</p>
<pre><code class="language-javascript">// エラーが発生するコード例
void main() {
  List&lt;int&gt; numbers = [1, 2, 3];
  print(numbers[10]);
}
</code></pre>
<p>このコードを実行すると、以下のようなエラーメッセージが表示されます：</p>
<pre><code>Uncaught Error: RangeError (index): Invalid value: Not in inclusive range 0..2: 10
</code></pre>
<p>このメッセージの読み方：</p>
<ul>
<li><strong>RangeError</strong>: エラーの種類</li>
<li><strong>Invalid value</strong>: 無効な値が使用された</li>
<li><strong>Not in inclusive range 0..2</strong>: 有効な範囲は0から2まで</li>
<li><strong>10</strong>: 実際に使用された値</li>
</ul>
<h2 id="なるほどポイント"><a class="header" href="#なるほどポイント">なるほど！ポイント</a></h2>
<p>エラーは敵ではなく、プログラムをより良くするためのヒントです。エラーメッセージをしっかり読むことで、問題を素早く特定し、解決することができます。</p>
<p>次のセクションでは、エラーが発生した時にプログラムが停止しないようにする「try-catch文」について学習します。エラーを優雅に処理する方法を身につけましょう！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="try-catch文でエラーを処理する"><a class="header" href="#try-catch文でエラーを処理する">try-catch文でエラーを処理する</a></h1>
<p>前のセクションでエラーの種類について学びました。今度は、エラーが発生してもプログラムが停止しないようにする方法を学びましょう。これを「エラーハンドリング」と呼びます。</p>
<p>Dartでは、<code>try-catch文</code>を使用してエラーを優雅に処理することができます。まるで「もしエラーが起きたら、こう対処してね」という指示書を書くようなものです。</p>
<h2 id="try-catch文の基本構文"><a class="header" href="#try-catch文の基本構文">try-catch文の基本構文</a></h2>
<p>try-catch文の基本的な構文は次のとおりです：</p>
<pre><code class="language-javascript">try {
  // エラーが発生する可能性のあるコード
} catch (e) {
  // エラーが発生した時の処理
}
</code></pre>
<p>実際の例を見てみましょう：</p>
<pre><code class="language-javascript">void main() {
  try {
    List&lt;int&gt; numbers = [1, 2, 3];
    print(numbers[5]);  // 範囲外アクセス
  } catch (e) {
    print("エラーが発生しました: $e");
  }
  
  print("プログラムは続行されます");
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>エラーが発生しました: RangeError (index): Invalid value: Not in inclusive range 0..2: 5
プログラムは続行されます
</code></pre>
<p>なるほど！エラーが発生してもプログラムが停止せず、catch文の中の処理が実行されました。</p>
<h2 id="具体的な例安全な数値変換"><a class="header" href="#具体的な例安全な数値変換">具体的な例：安全な数値変換</a></h2>
<p>ユーザーから入力された文字列を数値に変換する場合を考えてみましょう：</p>
<pre><code class="language-javascript">void main() {
  String userInput = "abc";  // 数値に変換できない文字列
  
  try {
    int number = int.parse(userInput);
    print("変換された数値: $number");
  } catch (e) {
    print("数値に変換できませんでした: $userInput");
    print("有効な数値を入力してください");
  }
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>数値に変換できませんでした: abc
有効な数値を入力してください
</code></pre>
<h2 id="複数の例外の処理"><a class="header" href="#複数の例外の処理">複数の例外の処理</a></h2>
<p>異なる種類のエラーに対して、それぞれ異なる処理を行いたい場合があります。その場合は、複数のcatch文を使用できます：</p>
<pre><code class="language-javascript">void main() {
  try {
    // 様々なエラーが発生する可能性のあるコード
    List&lt;String&gt; items = [];
    String firstItem = items[0];  // 空のリストからアクセス
  } on RangeError {
    print("範囲外エラーです。リストが空か、インデックスが無効です。");
  } on StateError {
    print("状態エラーが発生しました。");
  } catch (e) {
    print("予期しないエラー: $e");
  }
}
</code></pre>
<h2 id="finally文必ず実行される処理"><a class="header" href="#finally文必ず実行される処理">finally文：必ず実行される処理</a></h2>
<p>エラーが発生してもしなくても、必ず実行したい処理がある場合は<code>finally文</code>を使用します：</p>
<pre><code class="language-javascript">void main() {
  try {
    print("ファイルを開いています...");
    // ファイル処理のコード（エラーが発生するかもしれない）
    throw Exception("ファイルが見つかりません");
  } catch (e) {
    print("エラー: $e");
  } finally {
    print("ファイルをクローズしました");  // 必ず実行される
  }
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>ファイルを開いています...
エラー: Exception: ファイルが見つかりません
ファイルをクローズしました
</code></pre>
<h2 id="実践例計算機能の安全な実装"><a class="header" href="#実践例計算機能の安全な実装">実践例：計算機能の安全な実装</a></h2>
<p>電卓アプリを作る時の除算機能を安全に実装してみましょう：</p>
<pre><code class="language-javascript">double safeDivision(double a, double b) {
  try {
    if (b == 0) {
      throw ArgumentError("ゼロで割ることはできません");
    }
    return a / b;
  } catch (e) {
    print("計算エラー: $e");
    return 0.0;  // デフォルト値を返す
  }
}

void main() {
  print("10 ÷ 2 = ${safeDivision(10, 2)}");   // 正常なケース
  print("10 ÷ 0 = ${safeDivision(10, 0)}");   // エラーケース
  print("計算処理が完了しました");
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>10 ÷ 2 = 5.0
計算エラー: Invalid argument(s): ゼロで割ることはできません
10 ÷ 0 = 0.0
計算処理が完了しました
</code></pre>
<h2 id="カスタム例外の作成"><a class="header" href="#カスタム例外の作成">カスタム例外の作成</a></h2>
<p>独自のエラー型を作成することもできます：</p>
<pre><code class="language-javascript">// カスタム例外クラスの定義
class InvalidAgeException implements Exception {
  final String message;
  InvalidAgeException(this.message);
  
  @override
  String toString() =&gt; "InvalidAgeException: $message";
}

// 年齢チェック関数
void checkAge(int age) {
  if (age &lt; 0) {
    throw InvalidAgeException("年齢は0以上である必要があります");
  }
  if (age &gt; 150) {
    throw InvalidAgeException("年齢は150以下である必要があります");
  }
  print("有効な年齢です: $age歳");
}

void main() {
  List&lt;int&gt; testAges = [25, -5, 200];
  
  for (int age in testAges) {
    try {
      checkAge(age);
    } on InvalidAgeException catch (e) {
      print("年齢エラー: ${e.message}");
    } catch (e) {
      print("予期しないエラー: $e");
    }
  }
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>有効な年齢です: 25歳
年齢エラー: 年齢は0以上である必要があります
年齢エラー: 年齢は150以下である必要があります
</code></pre>
<h2 id="rethrowエラーの再スロー"><a class="header" href="#rethrowエラーの再スロー">rethrow：エラーの再スロー</a></h2>
<p>エラーをキャッチして何らかの処理を行った後、そのエラーを再度投げたい場合は<code>rethrow</code>を使用します：</p>
<pre><code class="language-javascript">void processData(String data) {
  try {
    // データ処理
    if (data.isEmpty) {
      throw ArgumentError("データが空です");
    }
    print("データを処理しました: $data");
  } catch (e) {
    print("ログに記録: $e");  // ログを記録
    rethrow;  // エラーを再度投げる
  }
}

void main() {
  try {
    processData("");
  } catch (e) {
    print("メイン関数でキャッチ: $e");
  }
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>ログに記録: Invalid argument(s): データが空です
メイン関数でキャッチ: Invalid argument(s): データが空です
</code></pre>
<h2 id="エラーハンドリングのベストプラクティス"><a class="header" href="#エラーハンドリングのベストプラクティス">エラーハンドリングのベストプラクティス</a></h2>
<h3 id="1-適切なエラーメッセージを提供する"><a class="header" href="#1-適切なエラーメッセージを提供する">1. 適切なエラーメッセージを提供する</a></h3>
<pre><code class="language-javascript">void validateEmail(String email) {
  try {
    if (!email.contains('@')) {
      throw FormatException("有効なメールアドレスではありません: @が含まれていません");
    }
    print("有効なメールアドレス: $email");
  } catch (e) {
    print("入力エラー: $e");
  }
}
</code></pre>
<h3 id="2-エラーの詳細をログに記録する"><a class="header" href="#2-エラーの詳細をログに記録する">2. エラーの詳細をログに記録する</a></h3>
<pre><code class="language-javascript">void saveUserData(Map&lt;String, dynamic&gt; userData) {
  try {
    // ユーザーデータの保存処理
    print("ユーザーデータを保存しました");
  } catch (e, stackTrace) {
    print("保存エラー: $e");
    print("スタックトレース: $stackTrace");
    // 実際のアプリではログファイルに記録
  }
}
</code></pre>
<h3 id="3-復旧可能なエラーには代替案を提供する"><a class="header" href="#3-復旧可能なエラーには代替案を提供する">3. 復旧可能なエラーには代替案を提供する</a></h3>
<pre><code class="language-javascript">String getConfigValue(String key, String defaultValue) {
  try {
    // 設定ファイルから値を読み取る（失敗する可能性）
    throw Exception("設定ファイルが見つかりません");
  } catch (e) {
    print("設定の読み取りに失敗、デフォルト値を使用: $defaultValue");
    return defaultValue;
  }
}
</code></pre>
<h2 id="なるほどポイント-1"><a class="header" href="#なるほどポイント-1">なるほど！ポイント</a></h2>
<p>try-catch文を使うことで、エラーが発生してもプログラムが突然停止することを防げます。これにより、ユーザーにとって使いやすいアプリケーションを作ることができます。</p>
<p>重要なのは、すべてのコードをtry-catchで囲むのではなく、本当にエラーが発生する可能性がある部分にのみ使用することです。また、エラーが発生した時には、適切なメッセージをユーザーに表示して、次にどうすべきかを案内することが大切です。</p>
<p>次のセクションでは、バグを見つけて修正するための「デバッグの基本技術」について学習します！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="デバッグの基本技術"><a class="header" href="#デバッグの基本技術">デバッグの基本技術</a></h1>
<p>プログラムを書いていると、「コードは正しく見えるのに、期待通りに動かない...」という状況によく遭遇します。このような問題を見つけて修正することを「デバッグ」と呼びます。</p>
<p>デバッグは探偵のような作業です。問題の手がかりを集めて、原因を特定し、解決策を見つけ出すのです。最初は難しく感じるかもしれませんが、基本的な技術を身につければ、効率よく問題を解決できるようになります。</p>
<h2 id="デバッグの基本原則"><a class="header" href="#デバッグの基本原則">デバッグの基本原則</a></h2>
<h3 id="1-慌てずに状況を把握する"><a class="header" href="#1-慌てずに状況を把握する">1. 慌てずに状況を把握する</a></h3>
<p>問題が発生したら、まず深呼吸をして状況を冷静に分析しましょう。</p>
<pre><code class="language-javascript">void main() {
  int total = 0;
  List&lt;int&gt; scores = [85, 92, 78, 95, 88];
  
  for (int score in scores) {
    total += score;
  }
  
  double average = total / scores.length;
  print("平均点: $average");  // 期待: 87.6、実際: 87.0
}
</code></pre>
<p>このコードの問題は何でしょうか？整数除算が行われているため、小数点以下が切り捨てられています。</p>
<h3 id="2-問題を再現する"><a class="header" href="#2-問題を再現する">2. 問題を再現する</a></h3>
<p>問題を確実に再現できる最小限のコードを作成します。</p>
<pre><code class="language-javascript">void main() {
  // 問題を再現する最小限のコード
  int a = 438;  // 85 + 92 + 78 + 95 + 88
  int b = 5;
  double result = a / b;
  print(result);  // 結果: 87.0（期待: 87.6）
}
</code></pre>
<h2 id="print文を使ったデバッグ"><a class="header" href="#print文を使ったデバッグ">print文を使ったデバッグ</a></h2>
<p>最も基本的なデバッグ手法は、<code>print文</code>を使って変数の値やプログラムの実行状況を確認することです。</p>
<h3 id="変数の値を確認する"><a class="header" href="#変数の値を確認する">変数の値を確認する</a></h3>
<pre><code class="language-javascript">void calculateTotal(List&lt;int&gt; prices) {
  int total = 0;
  
  print("価格リスト: $prices");  // デバッグ用出力
  
  for (int i = 0; i &lt; prices.length; i++) {
    print("処理中の価格[$i]: ${prices[i]}");  // デバッグ用出力
    total += prices[i];
    print("現在の合計: $total");  // デバッグ用出力
  }
  
  print("最終合計: $total");
}

void main() {
  List&lt;int&gt; prices = [100, 200, 150];
  calculateTotal(prices);
}
</code></pre>
<p><strong>実行結果：</strong></p>
<pre><code>価格リスト: [100, 200, 150]
処理中の価格[0]: 100
現在の合計: 100
処理中の価格[1]: 200
現在の合計: 300
処理中の価格[2]: 150
現在の合計: 450
最終合計: 450
</code></pre>
<h3 id="条件分岐の動作を確認する"><a class="header" href="#条件分岐の動作を確認する">条件分岐の動作を確認する</a></h3>
<pre><code class="language-javascript">void checkGrade(int score) {
  print("入力されたスコア: $score");  // デバッグ用出力
  
  if (score &gt;= 90) {
    print("条件チェック: score &gt;= 90 → true");
    print("優秀");
  } else if (score &gt;= 70) {
    print("条件チェック: score &gt;= 70 → true");
    print("良好");
  } else {
    print("条件チェック: 上記のいずれも false");
    print("要努力");
  }
}

void main() {
  checkGrade(85);
}
</code></pre>
<h2 id="デバッグのための関数"><a class="header" href="#デバッグのための関数">デバッグのための関数</a></h2>
<p>デバッグ用の専用関数を作成すると、コードが見やすくなります。</p>
<pre><code class="language-javascript">// デバッグ用関数
void debug(String message, [dynamic value]) {
  if (value != null) {
    print("DEBUG: $message → $value");
  } else {
    print("DEBUG: $message");
  }
}

// 使用例
void processNumbers(List&lt;int&gt; numbers) {
  debug("関数開始", "processNumbers");
  debug("入力データ", numbers);
  
  List&lt;int&gt; evenNumbers = [];
  
  for (int number in numbers) {
    debug("処理中の数値", number);
    
    if (number % 2 == 0) {
      debug("偶数を発見", number);
      evenNumbers.add(number);
    }
  }
  
  debug("偶数のリスト", evenNumbers);
  debug("関数終了");
}

void main() {
  processNumbers([1, 2, 3, 4, 5, 6]);
}
</code></pre>
<h2 id="assert文を使ったデバッグ"><a class="header" href="#assert文を使ったデバッグ">assert文を使ったデバッグ</a></h2>
<p><code>assert文</code>は、プログラムの想定が正しいかどうかをチェックするためのツールです。</p>
<pre><code class="language-javascript">void divide(double a, double b) {
  // 事前条件をチェック
  assert(b != 0, "除数はゼロであってはいけません");
  
  double result = a / b;
  
  // 事後条件をチェック
  assert(result.isFinite, "結果は有限数である必要があります");
  
  print("$a ÷ $b = $result");
}

void main() {
  divide(10, 2);   // 正常ケース
  // divide(10, 0);  // assertエラーが発生
}
</code></pre>
<h2 id="ステップバイステップ実行"><a class="header" href="#ステップバイステップ実行">ステップバイステップ実行</a></h2>
<p>複雑な処理を小さな単位に分けて、一つずつ確認していきます。</p>
<pre><code class="language-javascript">// 問題のあるコード例：文字列の反転
String reverseString(String input) {
  String result = "";
  
  print("開始: input='$input'");
  
  for (int i = input.length - 1; i &gt;= 0; i--) {
    print("i=$i, 文字='${input[i]}'");
    result += input[i];
    print("現在のresult='$result'");
  }
  
  print("完了: result='$result'");
  return result;
}

void main() {
  String reversed = reverseString("hello");
  print("最終結果: $reversed");
}
</code></pre>
<h2 id="エラーログの読み方と活用"><a class="header" href="#エラーログの読み方と活用">エラーログの読み方と活用</a></h2>
<p>エラーが発生した時は、スタックトレースを注意深く読みましょう。</p>
<pre><code class="language-javascript">void problematicFunction() {
  List&lt;String&gt; names = ["田中", "佐藤", "鈴木"];
  
  // 意図的にエラーを発生させる
  print(names[5]);  // 範囲外アクセス
}

void main() {
  try {
    problematicFunction();
  } catch (e, stackTrace) {
    print("エラー詳細: $e");
    print("スタックトレース:");
    print(stackTrace);
  }
}
</code></pre>
<p>このエラー情報から、どの行で何が起こったかを特定できます。</p>
<h2 id="二分探索でバグを特定する"><a class="header" href="#二分探索でバグを特定する">二分探索でバグを特定する</a></h2>
<p>大きなコードでバグの場所が分からない時は、コードを半分ずつコメントアウトして問題の範囲を絞り込みます。</p>
<pre><code class="language-javascript">void complexFunction() {
  // 前半部分
  print("処理1: データ初期化");
  List&lt;int&gt; data = [1, 2, 3, 4, 5];
  
  print("処理2: データ変換");
  for (int i = 0; i &lt; data.length; i++) {
    data[i] = data[i] * 2;
  }
  
  // ここまでは正常に動く
  print("中間確認: $data");
  
  // 後半部分（問題がこの辺りにありそう）
  print("処理3: 平均計算");
  int sum = 0;
  for (int value in data) {
    sum += value;
  }
  
  // バグ発見！整数除算になっている
  double average = sum / data.length;  // 修正: sum.toDouble() / data.length
  print("平均: $average");
}
</code></pre>
<h2 id="デバッグに役立つツールとテクニック"><a class="header" href="#デバッグに役立つツールとテクニック">デバッグに役立つツールとテクニック</a></h2>
<h3 id="1-境界値をテストする"><a class="header" href="#1-境界値をテストする">1. 境界値をテストする</a></h3>
<pre><code class="language-javascript">void testBoundaryValues() {
  List&lt;int&gt; testValues = [
    -1,    // 負の値
    0,     // ゼロ
    1,     // 最小の正の値
    99,    // 境界値
    100,   // 期待される最大値
    101    // 範囲外の値
  ];
  
  for (int value in testValues) {
    print("テスト値: $value");
    try {
      validateScore(value);
    } catch (e) {
      print("エラー: $e");
    }
  }
}

void validateScore(int score) {
  if (score &lt; 0 || score &gt; 100) {
    throw ArgumentError("スコアは0-100の範囲である必要があります");
  }
  print("有効なスコア: $score");
}
</code></pre>
<h3 id="2-入力データのバリエーションをテストする"><a class="header" href="#2-入力データのバリエーションをテストする">2. 入力データのバリエーションをテストする</a></h3>
<pre><code class="language-javascript">void testVariousInputs() {
  List&lt;String&gt; testStrings = [
    "",           // 空文字列
    "a",          // 1文字
    "hello",      // 通常の文字列
    "Hello World", // スペース含む
    "123",        // 数字のみ
    "あいうえお",    // 日本語
  ];
  
  for (String testString in testStrings) {
    print("テスト: '$testString'");
    processString(testString);
  }
}

void processString(String input) {
  if (input.isEmpty) {
    print("空文字列が入力されました");
    return;
  }
  
  print("文字数: ${input.length}");
  print("最初の文字: ${input[0]}");
}
</code></pre>
<h2 id="デバッグのベストプラクティス"><a class="header" href="#デバッグのベストプラクティス">デバッグのベストプラクティス</a></h2>
<h3 id="1-再現可能なテストケースを作る"><a class="header" href="#1-再現可能なテストケースを作る">1. 再現可能なテストケースを作る</a></h3>
<pre><code class="language-javascript">// 問題を再現するテスト関数
void reproduceIssue() {
  print("=== 問題の再現テスト ===");
  
  // 具体的な入力値で問題を再現
  List&lt;double&gt; temperatures = [23.5, 25.0, 22.8, 26.1];
  double average = calculateAverage(temperatures);
  
  print("期待値: 24.35");
  print("実際の値: $average");
  print("差分: ${(24.35 - average).abs()}");
}

double calculateAverage(List&lt;double&gt; values) {
  if (values.isEmpty) return 0.0;
  
  double sum = 0.0;
  for (double value in values) {
    sum += value;
  }
  
  return sum / values.length;
}
</code></pre>
<h3 id="2-デバッグ情報を整理して表示する"><a class="header" href="#2-デバッグ情報を整理して表示する">2. デバッグ情報を整理して表示する</a></h3>
<pre><code class="language-javascript">void debugInfo(String section, Map&lt;String, dynamic&gt; variables) {
  print("=== $section ===");
  variables.forEach((key, value) {
    print("  $key: $value");
  });
  print("");
}

void exampleWithDebugInfo() {
  int a = 10;
  int b = 3;
  
  debugInfo("初期値", {"a": a, "b": b});
  
  double result = a / b;
  
  debugInfo("計算結果", {
    "a": a,
    "b": b,
    "result": result,
    "期待値": "約3.33"
  });
}
</code></pre>
<h2 id="なるほどポイント-2"><a class="header" href="#なるほどポイント-2">なるほど！ポイント</a></h2>
<p>デバッグは技術であり、練習によって上達します。最初はprint文をたくさん使って構いません。慣れてきたら、より効率的な手法を使えるようになります。</p>
<p>重要なのは、問題を恐れずに「なぜこうなるのだろう？」という好奇心を持って取り組むことです。一つずつ確実に問題を解決していけば、必ず原因を特定できます。</p>
<p>次のセクションでは、プログラミング初心者がよく遭遇するエラーパターンと、その具体的な対処法について学習します！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="よくあるエラーとその対処法-1"><a class="header" href="#よくあるエラーとその対処法-1">よくあるエラーとその対処法</a></h1>
<p>プログラミングを始めたばかりの頃は、同じようなエラーを何度も繰り返してしまうものです。でも大丈夫です！これは誰もが通る道です。この章では、初心者がよく遭遇するエラーパターンと、その具体的な対処法をご紹介します。</p>
<p>エラーを恐れる必要はありません。むしろ、エラーは「もっと良いコードを書くためのヒント」を教えてくれる先生のような存在だと考えましょう。</p>
<h2 id="1-構文エラーsyntax-error-1"><a class="header" href="#1-構文エラーsyntax-error-1">1. 構文エラー（Syntax Error）</a></h2>
<p>最も頻繁に遭遇するエラーです。文法上の間違いが原因で発生します。</p>
<h3 id="セミコロンの忘れ"><a class="header" href="#セミコロンの忘れ">セミコロンの忘れ</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  int number = 42
  print(number);  // エラー：前の行のセミコロンが不足
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  int number = 42;  // セミコロンを追加
  print(number);
}
</code></pre>
<h3 id="括弧の不一致"><a class="header" href="#括弧の不一致">括弧の不一致</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  if (true) {
    print("Hello");
  // エラー：閉じ括弧が不足
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  if (true) {
    print("Hello");
  }  // 閉じ括弧を追加
}
</code></pre>
<h3 id="引用符の不一致"><a class="header" href="#引用符の不一致">引用符の不一致</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  String message = "Hello World';  // エラー：引用符が一致しない
  print(message);
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  String message = "Hello World";  // 引用符を統一
  print(message);
}
</code></pre>
<h2 id="2-型エラーtype-error"><a class="header" href="#2-型エラーtype-error">2. 型エラー（Type Error）</a></h2>
<p>Dartは型に厳格な言語なので、型の不一致によるエラーがよく発生します。</p>
<h3 id="型の不一致"><a class="header" href="#型の不一致">型の不一致</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  int number = "123";  // エラー：文字列を整数型に代入
  print(number);
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  int number = int.parse("123");  // 文字列を整数に変換
  print(number);
}
</code></pre>
<h3 id="null安全の問題"><a class="header" href="#null安全の問題">null安全の問題</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  String? name;  // null許可型
  print(name.length);  // エラー：nullの可能性がある変数へのアクセス
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  String? name;
  if (name != null) {
    print(name.length);  // nullチェック後にアクセス
  } else {
    print("名前が設定されていません");
  }
}
</code></pre>
<p>または、null合体演算子を使用：</p>
<pre><code class="language-javascript">void main() {
  String? name;
  print(name?.length ?? 0);  // nullの場合は0を返す
}
</code></pre>
<h2 id="3-論理エラーlogic-error-1"><a class="header" href="#3-論理エラーlogic-error-1">3. 論理エラー（Logic Error）</a></h2>
<p>プログラムは動作するものの、期待した結果が得られないエラーです。</p>
<h3 id="ループの条件間違い"><a class="header" href="#ループの条件間違い">ループの条件間違い</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  // 1から10まで表示したいが...
  for (int i = 1; i &lt; 10; i++) {  // 10が表示されない！
    print(i);
  }
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  for (int i = 1; i &lt;= 10; i++) {  // &lt;= を使用
    print(i);
  }
}
</code></pre>
<h3 id="配列のインデックス間違い"><a class="header" href="#配列のインデックス間違い">配列のインデックス間違い</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;String&gt; fruits = ["りんご", "バナナ", "オレンジ"];
  
  // 最後の要素を取得したいが...
  print(fruits[fruits.length]);  // エラー：インデックスが範囲外
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;String&gt; fruits = ["りんご", "バナナ", "オレンジ"];
  
  print(fruits[fruits.length - 1]);  // 最後の要素のインデックス
  // または
  print(fruits.last);  // より簡潔な書き方
}
</code></pre>
<h2 id="4-ランタイムエラーruntime-error"><a class="header" href="#4-ランタイムエラーruntime-error">4. ランタイムエラー（Runtime Error）</a></h2>
<p>プログラム実行中に発生するエラーです。</p>
<h3 id="ゼロ除算エラー"><a class="header" href="#ゼロ除算エラー">ゼロ除算エラー</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 0;
  print(a / b);  // エラー：ゼロで割ろうとしている
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  int a = 10;
  int b = 0;
  
  if (b != 0) {
    print(a / b);
  } else {
    print("エラー: ゼロで割ることはできません");
  }
}
</code></pre>
<h3 id="リストの範囲外アクセス"><a class="header" href="#リストの範囲外アクセス">リストの範囲外アクセス</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;int&gt; numbers = [1, 2, 3];
  print(numbers[5]);  // エラー：インデックス5は存在しない
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;int&gt; numbers = [1, 2, 3];
  int index = 5;
  
  if (index &gt;= 0 &amp;&amp; index &lt; numbers.length) {
    print(numbers[index]);
  } else {
    print("エラー: インデックス$indexは範囲外です（0-${numbers.length - 1}）");
  }
}
</code></pre>
<h2 id="5-文字列処理のエラー"><a class="header" href="#5-文字列処理のエラー">5. 文字列処理のエラー</a></h2>
<h3 id="文字列の連結間違い"><a class="header" href="#文字列の連結間違い">文字列の連結間違い</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  String firstName = "田中";
  String lastName = "太郎";
  String fullName = firstName + " " + lastName;  // 動作するが非効率
  print(fullName);
}
</code></pre>
<p><strong>より良い書き方：</strong></p>
<pre><code class="language-javascript">void main() {
  String firstName = "田中";
  String lastName = "太郎";
  String fullName = "$firstName $lastName";  // 文字列補間を使用
  print(fullName);
}
</code></pre>
<h3 id="空文字列のチェック忘れ"><a class="header" href="#空文字列のチェック忘れ">空文字列のチェック忘れ</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  String input = "";
  print(input[0]);  // エラー：空文字列の最初の文字にアクセス
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  String input = "";
  
  if (input.isNotEmpty) {
    print(input[0]);
  } else {
    print("入力が空です");
  }
}
</code></pre>
<h2 id="6-関数に関するエラー"><a class="header" href="#6-関数に関するエラー">6. 関数に関するエラー</a></h2>
<h3 id="戻り値の型不一致"><a class="header" href="#戻り値の型不一致">戻り値の型不一致</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">int calculateSum(List&lt;int&gt; numbers) {
  if (numbers.isEmpty) {
    return;  // エラー：int型の関数でvoidを返そうとしている
  }
  
  int sum = 0;
  for (int number in numbers) {
    sum += number;
  }
  return sum;
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">int calculateSum(List&lt;int&gt; numbers) {
  if (numbers.isEmpty) {
    return 0;  // 適切なデフォルト値を返す
  }
  
  int sum = 0;
  for (int number in numbers) {
    sum += number;
  }
  return sum;
}
</code></pre>
<h3 id="引数の順序間違い"><a class="header" href="#引数の順序間違い">引数の順序間違い</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void showUserInfo(String name, int age) {
  print("名前: $name, 年齢: $age");
}

void main() {
  showUserInfo(25, "田中太郎");  // エラー：引数の順序が逆
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void showUserInfo(String name, int age) {
  print("名前: $name, 年齢: $age");
}

void main() {
  showUserInfo("田中太郎", 25);  // 正しい順序
}
</code></pre>
<h2 id="7-コレクション操作のエラー"><a class="header" href="#7-コレクション操作のエラー">7. コレクション操作のエラー</a></h2>
<h3 id="リストの変更中の反復"><a class="header" href="#リストの変更中の反復">リストの変更中の反復</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;int&gt; numbers = [1, 2, 3, 4, 5];
  
  for (int number in numbers) {
    if (number % 2 == 0) {
      numbers.remove(number);  // エラー：反復中にリストを変更
    }
  }
  
  print(numbers);
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">void main() {
  List&lt;int&gt; numbers = [1, 2, 3, 4, 5];
  
  // 新しいリストを作成する方法
  List&lt;int&gt; oddNumbers = numbers.where((number) =&gt; number % 2 != 0).toList();
  print(oddNumbers);
  
  // または、逆順でループする方法
  for (int i = numbers.length - 1; i &gt;= 0; i--) {
    if (numbers[i] % 2 == 0) {
      numbers.removeAt(i);
    }
  }
  print(numbers);
}
</code></pre>
<h2 id="8-非同期処理のエラー"><a class="header" href="#8-非同期処理のエラー">8. 非同期処理のエラー</a></h2>
<h3 id="awaitの忘れ"><a class="header" href="#awaitの忘れ">awaitの忘れ</a></h3>
<p><strong>よくある間違い：</strong></p>
<pre><code class="language-javascript">Future&lt;String&gt; fetchData() async {
  // 何らかの非同期処理
  await Future.delayed(Duration(seconds: 1));
  return "データ";
}

void main() {
  String result = fetchData();  // エラー：Futureを直接Stringに代入
  print(result);
}
</code></pre>
<p><strong>修正版：</strong></p>
<pre><code class="language-javascript">Future&lt;String&gt; fetchData() async {
  await Future.delayed(Duration(seconds: 1));
  return "データ";
}

void main() async {  // mainもasyncにする
  String result = await fetchData();  // awaitを追加
  print(result);
}
</code></pre>
<h2 id="エラー解決のコツ"><a class="header" href="#エラー解決のコツ">エラー解決のコツ</a></h2>
<h3 id="1-エラーメッセージをよく読む"><a class="header" href="#1-エラーメッセージをよく読む">1. エラーメッセージをよく読む</a></h3>
<pre><code class="language-javascript">// このエラーメッセージの例：
// "RangeError (index): Invalid value: Not in inclusive range 0..2: 5"

void main() {
  List&lt;String&gt; colors = ["赤", "青", "緑"];
  print(colors[5]);  // インデックス5は範囲外（0-2が有効）
}
</code></pre>
<p>エラーメッセージから：</p>
<ul>
<li><code>RangeError</code>: 範囲に関するエラー</li>
<li><code>Not in inclusive range 0..2</code>: 有効な範囲は0から2まで</li>
<li><code>5</code>: 実際に使用された無効な値</li>
</ul>
<h3 id="2-小さな部分から確認する"><a class="header" href="#2-小さな部分から確認する">2. 小さな部分から確認する</a></h3>
<pre><code class="language-javascript">void debugStep() {
  print("ステップ1: リスト作成");
  List&lt;int&gt; numbers = [1, 2, 3, 4, 5];
  print("リスト: $numbers");
  
  print("ステップ2: インデックス計算");
  int index = numbers.length - 1;
  print("最後のインデックス: $index");
  
  print("ステップ3: 要素取得");
  int lastNumber = numbers[index];
  print("最後の要素: $lastNumber");
}
</code></pre>
<h3 id="3-ドキュメントと例を参照する"><a class="header" href="#3-ドキュメントと例を参照する">3. ドキュメントと例を参照する</a></h3>
<p>よく分からない関数やメソッドがあるときは、公式ドキュメントや信頼できるチュートリアルを確認しましょう。</p>
<h2 id="予防策とベストプラクティス"><a class="header" href="#予防策とベストプラクティス">予防策とベストプラクティス</a></h2>
<h3 id="1-入力値の検証"><a class="header" href="#1-入力値の検証">1. 入力値の検証</a></h3>
<pre><code class="language-javascript">void processAge(int age) {
  // 入力値をチェック
  if (age &lt; 0) {
    throw ArgumentError("年齢は0以上である必要があります");
  }
  if (age &gt; 150) {
    throw ArgumentError("年齢は150以下である必要があります");
  }
  
  print("年齢: $age歳");
}
</code></pre>
<h3 id="2-デフォルト値の設定"><a class="header" href="#2-デフォルト値の設定">2. デフォルト値の設定</a></h3>
<pre><code class="language-javascript">String greetUser(String? name) {
  return "こんにちは、${name ?? "ゲスト"}さん！";
}
</code></pre>
<h3 id="3-早期リターン"><a class="header" href="#3-早期リターン">3. 早期リターン</a></h3>
<pre><code class="language-javascript">String validateEmail(String email) {
  if (email.isEmpty) {
    return "メールアドレスが入力されていません";
  }
  
  if (!email.contains("@")) {
    return "有効なメールアドレスではありません";
  }
  
  return "有効なメールアドレスです";
}
</code></pre>
<h2 id="なるほどポイント-3"><a class="header" href="#なるほどポイント-3">なるほど！ポイント</a></h2>
<p>エラーは避けられないものですが、同じエラーを繰り返さないように学習することが重要です。エラーが発生したら：</p>
<ol>
<li><strong>慌てずにエラーメッセージを読む</strong></li>
<li><strong>問題の箇所を特定する</strong></li>
<li><strong>小さなテストで原因を確認する</strong></li>
<li><strong>修正して再テストする</strong></li>
<li><strong>今後同じエラーを避ける方法を考える</strong></li>
</ol>
<p>エラーは成長のチャンスです。一つずつ丁寧に解決していけば、必ず上達します！</p>
<p>これで第13章「エラーへの対処」の学習は完了です。エラーハンドリングとデバッグのスキルを身につけることで、より堅牢で使いやすいプログラムを作成できるようになりましたね。次の章では、これまで学んだ知識を活用して実際のプロジェクトに挑戦していきましょう！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第14章総合演習"><a class="header" href="#第14章総合演習">第14章：総合演習</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="to-doリストアプリケーション"><a class="header" href="#to-doリストアプリケーション">To-Doリストアプリケーション</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="簡単なゲーム数当てゲーム"><a class="header" href="#簡単なゲーム数当てゲーム">簡単なゲーム（数当てゲーム）</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="成績管理システム"><a class="header" href="#成績管理システム">成績管理システム</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="第15章次のステップへ"><a class="header" href="#第15章次のステップへ">第15章：次のステップへ</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="より高度なdartの機能"><a class="header" href="#より高度なdartの機能">より高度なDartの機能</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flutterでモバイルアプリdevelopment"><a class="header" href="#flutterでモバイルアプリdevelopment">FlutterでモバイルアプリDevelopment</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="継続的な学習のためのリソース"><a class="header" href="#継続的な学習のためのリソース">継続的な学習のためのリソース</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
